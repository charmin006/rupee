"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/page",{

/***/ "(app-pages-browser)/./node_modules/react-calendar/dist/Calendar.css":
/*!*******************************************************!*\
  !*** ./node_modules/react-calendar/dist/Calendar.css ***!
  \*******************************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (\"3e83aae826b5\");\nif (true) { module.hot.accept() }\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9yZWFjdC1jYWxlbmRhci9kaXN0L0NhbGVuZGFyLmNzcyIsIm1hcHBpbmdzIjoiO0FBQUEsK0RBQWUsY0FBYztBQUM3QixJQUFJLElBQVUsSUFBSSxpQkFBaUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL3JlYWN0LWNhbGVuZGFyL2Rpc3QvQ2FsZW5kYXIuY3NzP2VkY2IiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgXCIzZTgzYWFlODI2YjVcIlxuaWYgKG1vZHVsZS5ob3QpIHsgbW9kdWxlLmhvdC5hY2NlcHQoKSB9XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/react-calendar/dist/Calendar.css\n"));

/***/ }),

/***/ "(app-pages-browser)/./lib/surrealdb.ts":
/*!**************************!*\
  !*** ./lib/surrealdb.ts ***!
  \**************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   surrealDB: function() { return /* binding */ surrealDB; }\n/* harmony export */ });\n/* harmony import */ var surrealdb__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! surrealdb */ \"(app-pages-browser)/./node_modules/surrealdb/dist/index.mjs\");\n/* provided dependency */ var process = __webpack_require__(/*! process */ \"(app-pages-browser)/./node_modules/next/dist/build/polyfills/process.js\");\n\n// SurrealDB configuration\nconst SURREAL_CONFIG = {\n    url: process.env.NEXT_PUBLIC_SURREAL_URL || \"ws://localhost:8000/rpc\",\n    namespace: process.env.NEXT_PUBLIC_SURREAL_NAMESPACE || \"rupee\",\n    database: process.env.NEXT_PUBLIC_SURREAL_DATABASE || \"finance\",\n    // For local development\n    username: process.env.NEXT_PUBLIC_SURREAL_USERNAME || \"root\",\n    password: process.env.NEXT_PUBLIC_SURREAL_PASSWORD || \"root\",\n    // For Surreal Cloud (token-based auth)\n    token: process.env.NEXT_PUBLIC_SURREAL_TOKEN || null\n};\nclass SurrealDBService {\n    static getInstance() {\n        if (!SurrealDBService.instance) {\n            SurrealDBService.instance = new SurrealDBService();\n        }\n        return SurrealDBService.instance;\n    }\n    async connect() {\n        if (this.isConnected) return;\n        try {\n            await this.db.connect(SURREAL_CONFIG.url);\n            // Authenticate based on environment (Cloud vs Local)\n            if (SURREAL_CONFIG.token) {\n                // Surreal Cloud: Use token authentication\n                await this.db.authenticate(SURREAL_CONFIG.token);\n            } else {\n                // Local development: Use username/password\n                await this.db.signin({\n                    username: SURREAL_CONFIG.username,\n                    password: SURREAL_CONFIG.password\n                });\n            }\n            // Use the namespace and database (create if they don't exist)\n            await this.db.use({\n                ns: SURREAL_CONFIG.namespace,\n                db: SURREAL_CONFIG.database\n            });\n            this.isConnected = true;\n            console.log(\"✅ Connected to SurrealDB\");\n            // Initialize database schema\n            await this.initializeSchema();\n            // Fix any existing users with NONE values\n            try {\n                await this.fixAllUsers();\n                console.log(\"✅ Fixed existing users with NONE values\");\n            } catch (error) {\n                console.warn(\"⚠️ Could not fix existing users:\", error);\n            }\n            // Fix any existing records with string dates\n            try {\n                await this.fixDateFieldsSimple();\n                console.log(\"✅ Fixed existing records with string dates\");\n            } catch (error) {\n                console.warn(\"⚠️ Could not fix existing date fields:\", error);\n            }\n            // Fix any existing records with record references instead of string IDs\n            try {\n                await this.fixRecordReferences();\n                console.log(\"✅ Fixed existing records with record references\");\n            } catch (error) {\n                console.warn(\"⚠️ Could not fix existing record references:\", error);\n            }\n            // Fix the specific error mentioned in the user query\n            try {\n                await this.fixSpecificRecordError();\n                console.log(\"✅ Fixed specific record error\");\n            } catch (error) {\n                console.warn(\"⚠️ Could not fix specific record error:\", error);\n            }\n            // Additional comprehensive fix for any remaining record references\n            try {\n                await this.fixAllRecordReferences();\n                console.log(\"✅ Fixed all remaining record references\");\n            } catch (error) {\n                console.warn(\"⚠️ Could not fix all record references:\", error);\n            }\n        } catch (error) {\n            console.error(\"❌ Failed to connect to SurrealDB:\", error);\n            throw error;\n        }\n    }\n    async initializeSchema() {\n        try {\n            console.log(\"\\uD83D\\uDD0D Initializing schema...\");\n            // Wrap in try-catch to handle \"table already exists\" errors gracefully\n            try {\n                await this.db.query(\"\\n          USE NS rupee DB finance;\\n          \\n          -- Users table\\n          DEFINE TABLE users SCHEMAFULL;\\n          DEFINE FIELD email ON users TYPE string ASSERT $value != NONE;\\n          DEFINE FIELD name ON users TYPE string;\\n          DEFINE FIELD preferences ON users TYPE object DEFAULT {\\n            currency: '₹',\\n            theme: 'light',\\n            notifications: true,\\n            defaultPaymentMethod: 'cash',\\n            budgetLimits: [],\\n            alertSettings: {\\n              overspendingAlerts: true,\\n              budgetLimitAlerts: true,\\n              savingsGoalAlerts: true,\\n              weeklyInsights: true,\\n              emailNotifications: false,\\n              pushNotifications: true\\n            },\\n            gamificationEnabled: true,\\n            autoBackupEnabled: false,\\n            cloudSyncEnabled: false,\\n            receiptScanningEnabled: false\\n          };\\n          DEFINE FIELD profiles ON users TYPE array DEFAULT [];\\n          DEFINE FIELD activeProfileId ON users TYPE string DEFAULT '';\\n          DEFINE FIELD securitySettings ON users TYPE object DEFAULT {\\n            pinEnabled: false,\\n            biometricEnabled: false,\\n            autoLockTimeout: 5,\\n            requireAuthForExport: true,\\n            requireAuthForSettings: false\\n          };\\n          DEFINE FIELD achievements ON users TYPE array DEFAULT [];\\n          DEFINE FIELD streaks ON users TYPE object DEFAULT {\\n            currentStreak: 0,\\n            longestStreak: 0,\\n            noSpendDays: 0,\\n            totalNoSpendDays: 0,\\n            currentNoSpendStreak: 0,\\n            longestNoSpendStreak: 0\\n          };\\n          DEFINE FIELD createdAt ON users TYPE datetime DEFAULT time::now();\\n          DEFINE FIELD updatedAt ON users TYPE datetime DEFAULT time::now();\\n          \\n          -- Expenses table\\n          DEFINE TABLE expenses SCHEMAFULL;\\n          DEFINE FIELD userId ON expenses TYPE string;\\n          DEFINE FIELD amount ON expenses TYPE number;\\n          DEFINE FIELD description ON expenses TYPE string;\\n          DEFINE FIELD categoryId ON expenses TYPE string;\\n          DEFINE FIELD date ON expenses TYPE datetime;\\n          DEFINE FIELD paymentMethod ON expenses TYPE string;\\n          DEFINE FIELD createdAt ON expenses TYPE datetime DEFAULT time::now();\\n          DEFINE FIELD updatedAt ON expenses TYPE datetime DEFAULT time::now();\\n          \\n          -- Incomes table\\n          DEFINE TABLE incomes SCHEMAFULL;\\n          DEFINE FIELD userId ON incomes TYPE string;\\n          DEFINE FIELD amount ON incomes TYPE number;\\n          DEFINE FIELD source ON incomes TYPE string;\\n          DEFINE FIELD date ON incomes TYPE datetime;\\n          DEFINE FIELD createdAt ON incomes TYPE datetime DEFAULT time::now();\\n          DEFINE FIELD updatedAt ON incomes TYPE datetime DEFAULT time::now();\\n          \\n          -- Categories table\\n          DEFINE TABLE categories SCHEMAFULL;\\n          DEFINE FIELD userId ON categories TYPE string;\\n          DEFINE FIELD name ON categories TYPE string;\\n          DEFINE FIELD color ON categories TYPE string;\\n          DEFINE FIELD icon ON categories TYPE string;\\n          DEFINE FIELD isCustom ON categories TYPE bool DEFAULT true;\\n          DEFINE FIELD createdAt ON categories TYPE datetime DEFAULT time::now();\\n          DEFINE FIELD updatedAt ON categories TYPE datetime DEFAULT time::now();\\n          \\n          -- Savings goals table\\n          DEFINE TABLE savings_goals SCHEMAFULL;\\n          DEFINE FIELD userId ON savings_goals TYPE string;\\n          DEFINE FIELD name ON savings_goals TYPE string;\\n          DEFINE FIELD targetAmount ON savings_goals TYPE number;\\n          DEFINE FIELD currentAmount ON savings_goals TYPE number DEFAULT 0;\\n          DEFINE FIELD targetDate ON savings_goals TYPE datetime;\\n          DEFINE FIELD createdAt ON savings_goals TYPE datetime DEFAULT time::now();\\n          DEFINE FIELD updatedAt ON savings_goals TYPE datetime DEFAULT time::now();\\n          \\n          -- Budget limits table\\n          DEFINE TABLE budget_limits SCHEMAFULL;\\n          DEFINE FIELD userId ON budget_limits TYPE string;\\n          DEFINE FIELD categoryId ON budget_limits TYPE string;\\n          DEFINE FIELD amount ON budget_limits TYPE number;\\n          DEFINE FIELD period ON budget_limits TYPE string;\\n          DEFINE FIELD isActive ON budget_limits TYPE bool DEFAULT true;\\n          DEFINE FIELD createdAt ON budget_limits TYPE datetime DEFAULT time::now();\\n          DEFINE FIELD updatedAt ON budget_limits TYPE datetime DEFAULT time::now();\\n          \\n          -- Insights table\\n          DEFINE TABLE insights SCHEMAFULL;\\n          DEFINE FIELD userId ON insights TYPE string;\\n          DEFINE FIELD type ON insights TYPE string;\\n          DEFINE FIELD title ON insights TYPE string;\\n          DEFINE FIELD description ON insights TYPE string;\\n          DEFINE FIELD data ON insights TYPE object;\\n          DEFINE FIELD isRead ON insights TYPE bool DEFAULT false;\\n          DEFINE FIELD createdAt ON insights TYPE datetime DEFAULT time::now();\\n          \\n          -- Alerts table\\n          DEFINE TABLE alerts SCHEMAFULL;\\n          DEFINE FIELD userId ON alerts TYPE string;\\n          DEFINE FIELD type ON alerts TYPE string;\\n          DEFINE FIELD title ON alerts TYPE string;\\n          DEFINE FIELD message ON alerts TYPE string;\\n          DEFINE FIELD severity ON alerts TYPE string;\\n          DEFINE FIELD isRead ON alerts TYPE bool DEFAULT false;\\n          DEFINE FIELD createdAt ON alerts TYPE datetime DEFAULT time::now();\\n          \\n          -- Recurring expenses table\\n          DEFINE TABLE recurring_expenses SCHEMAFULL;\\n          DEFINE FIELD userId ON recurring_expenses TYPE string;\\n          DEFINE FIELD amount ON recurring_expenses TYPE number;\\n          DEFINE FIELD description ON recurring_expenses TYPE string;\\n          DEFINE FIELD categoryId ON recurring_expenses TYPE string;\\n          DEFINE FIELD frequency ON recurring_expenses TYPE string;\\n          DEFINE FIELD nextDueDate ON recurring_expenses TYPE datetime;\\n          DEFINE FIELD isActive ON recurring_expenses TYPE bool DEFAULT true;\\n          DEFINE FIELD createdAt ON recurring_expenses TYPE datetime DEFAULT time::now();\\n          DEFINE FIELD updatedAt ON recurring_expenses TYPE datetime DEFAULT time::now();\\n          \\n          -- Profiles table\\n          DEFINE TABLE profiles SCHEMAFULL;\\n          DEFINE FIELD userId ON profiles TYPE string;\\n          DEFINE FIELD name ON profiles TYPE string;\\n          DEFINE FIELD role ON profiles TYPE string;\\n          DEFINE FIELD permissions ON profiles TYPE object;\\n          DEFINE FIELD createdAt ON profiles TYPE datetime DEFAULT time::now();\\n          DEFINE FIELD updatedAt ON profiles TYPE datetime DEFAULT time::now();\\n          \\n          -- Achievements table\\n          DEFINE TABLE achievements SCHEMAFULL;\\n          DEFINE FIELD userId ON achievements TYPE string;\\n          DEFINE FIELD name ON achievements TYPE string;\\n          DEFINE FIELD description ON achievements TYPE string;\\n          DEFINE FIELD icon ON achievements TYPE string;\\n          DEFINE FIELD progress ON achievements TYPE number DEFAULT 0;\\n          DEFINE FIELD maxProgress ON achievements TYPE number;\\n          DEFINE FIELD isUnlocked ON achievements TYPE bool DEFAULT false;\\n          DEFINE FIELD unlockedAt ON achievements TYPE datetime;\\n          DEFINE FIELD createdAt ON achievements TYPE datetime DEFAULT time::now();\\n          \\n          -- Backup history table\\n          DEFINE TABLE backup_history SCHEMAFULL;\\n          DEFINE FIELD userId ON backup_history TYPE string;\\n          DEFINE FIELD type ON backup_history TYPE string;\\n          DEFINE FIELD status ON backup_history TYPE string;\\n          DEFINE FIELD fileSize ON backup_history TYPE number;\\n          DEFINE FIELD createdAt ON backup_history TYPE datetime DEFAULT time::now();\\n        \");\n                console.log(\"✅ Database schema initialized\");\n            } catch (error) {\n                // Handle \"table already exists\" error gracefully\n                if (error.message && error.message.includes(\"already exists\")) {\n                    console.log(\"ℹ️ Schema already exists, skipping initialization\");\n                } else {\n                    console.error(\"❌ Failed to initialize schema:\", error);\n                    throw error;\n                }\n            }\n        } catch (error) {\n            console.error(\"❌ Error in initializeSchema:\", error);\n            throw error;\n        }\n    }\n    async disconnect() {\n        if (this.isConnected) {\n            await this.db.close();\n            this.isConnected = false;\n            console.log(\"\\uD83D\\uDD0C Disconnected from SurrealDB\");\n        }\n    }\n    // User operations\n    async createUser(userData) {\n        var _result_, _result__result, _result_1;\n        await this.connect();\n        // Ensure required fields have default values\n        const defaultUserData = {\n            preferences: {\n                currency: \"₹\",\n                theme: \"light\",\n                notifications: true,\n                defaultPaymentMethod: \"cash\",\n                budgetLimits: [],\n                alertSettings: {\n                    overspendingAlerts: true,\n                    budgetLimitAlerts: true,\n                    savingsGoalAlerts: true,\n                    weeklyInsights: true,\n                    emailNotifications: false,\n                    pushNotifications: true\n                },\n                gamificationEnabled: true,\n                autoBackupEnabled: false,\n                cloudSyncEnabled: false,\n                receiptScanningEnabled: false\n            },\n            profiles: [],\n            activeProfileId: \"\",\n            securitySettings: {\n                pinEnabled: false,\n                biometricEnabled: false,\n                autoLockTimeout: 5,\n                requireAuthForExport: true,\n                requireAuthForSettings: false\n            },\n            achievements: [],\n            streaks: {\n                currentStreak: 0,\n                longestStreak: 0,\n                noSpendDays: 0,\n                totalNoSpendDays: 0,\n                currentNoSpendStreak: 0,\n                longestNoSpendStreak: 0\n            },\n            ...userData\n        };\n        const result = await this.db.query(\"USE NS rupee DB finance; CREATE users CONTENT $userData\", {\n            userData: defaultUserData\n        });\n        const user = ((_result_ = result[1]) === null || _result_ === void 0 ? void 0 : _result_[0]) || ((_result_1 = result[0]) === null || _result_1 === void 0 ? void 0 : (_result__result = _result_1.result) === null || _result__result === void 0 ? void 0 : _result__result[0]);\n        // Return user with ID as string, not record reference\n        if (user && user.id) {\n            if (typeof user.id === \"object\" && user.id.id) {\n                // Handle _RecordId object\n                user.id = user.id.id;\n            } else if (typeof user.id === \"string\" && user.id.includes(\":\")) {\n                // Handle string record reference\n                user.id = user.id.split(\":\")[1] || user.id;\n            }\n        }\n        return user;\n    }\n    async getUser(userId) {\n        var _result_, _result__result, _result_1;\n        await this.connect();\n        const result = await this.db.query(\"USE NS rupee DB finance; SELECT * FROM users WHERE id = $userId\", {\n            userId\n        });\n        return ((_result_ = result[1]) === null || _result_ === void 0 ? void 0 : _result_[0]) || ((_result_1 = result[0]) === null || _result_1 === void 0 ? void 0 : (_result__result = _result_1.result) === null || _result__result === void 0 ? void 0 : _result__result[0]);\n    }\n    async updateUser(userId, userData) {\n        var _result_, _result__result, _result_1;\n        await this.connect();\n        const result = await this.db.query(\"USE NS rupee DB finance; UPDATE users SET * = $userData WHERE id = $userId\", {\n            userId,\n            userData\n        });\n        return ((_result_ = result[1]) === null || _result_ === void 0 ? void 0 : _result_[0]) || ((_result_1 = result[0]) === null || _result_1 === void 0 ? void 0 : (_result__result = _result_1.result) === null || _result__result === void 0 ? void 0 : _result__result[0]);\n    }\n    async deleteUser(userId) {\n        var _result_, _result__result, _result_1;\n        await this.connect();\n        const result = await this.db.query(\"USE NS rupee DB finance; DELETE users WHERE id = $userId\", {\n            userId\n        });\n        return ((_result_ = result[1]) === null || _result_ === void 0 ? void 0 : _result_[0]) || ((_result_1 = result[0]) === null || _result_1 === void 0 ? void 0 : (_result__result = _result_1.result) === null || _result__result === void 0 ? void 0 : _result__result[0]);\n    }\n    async fixUserFields(userId) {\n        var _result_, _result__result, _result_1;\n        await this.connect();\n        // Fix users with NONE values for required fields\n        const result = await this.db.query(\"\\n      USE NS rupee DB finance;\\n      UPDATE users SET \\n        achievements = [] WHERE id = $userId AND achievements = NONE;\\n      UPDATE users SET \\n        streaks = {\\n          currentStreak: 0,\\n          longestStreak: 0,\\n          noSpendDays: 0,\\n          totalNoSpendDays: 0,\\n          currentNoSpendStreak: 0,\\n          longestNoSpendStreak: 0\\n        } WHERE id = $userId AND streaks = NONE;\\n      UPDATE users SET \\n        profiles = [] WHERE id = $userId AND profiles = NONE;\\n      UPDATE users SET \\n        activeProfileId = '' WHERE id = $userId AND activeProfileId = NONE;\\n      UPDATE users SET \\n        securitySettings = {\\n          pinEnabled: false,\\n          biometricEnabled: false,\\n          autoLockTimeout: 5,\\n          requireAuthForExport: true,\\n          requireAuthForSettings: false\\n        } WHERE id = $userId AND securitySettings = NONE;\\n    \", {\n            userId\n        });\n        return ((_result_ = result[1]) === null || _result_ === void 0 ? void 0 : _result_[0]) || ((_result_1 = result[0]) === null || _result_1 === void 0 ? void 0 : (_result__result = _result_1.result) === null || _result__result === void 0 ? void 0 : _result__result[0]);\n    }\n    async fixAllUsers() {\n        var _result_;\n        await this.connect();\n        // Fix all users with NONE values for required fields\n        const result = await this.db.query(\"\\n      USE NS rupee DB finance;\\n      UPDATE users SET \\n        achievements = [] WHERE achievements = NONE;\\n      UPDATE users SET \\n        streaks = {\\n          currentStreak: 0,\\n          longestStreak: 0,\\n          noSpendDays: 0,\\n          totalNoSpendDays: 0,\\n          currentNoSpendStreak: 0,\\n          longestNoSpendStreak: 0\\n        } WHERE streaks = NONE;\\n      UPDATE users SET \\n        profiles = [] WHERE profiles = NONE;\\n      UPDATE users SET \\n        activeProfileId = '' WHERE activeProfileId = NONE;\\n      UPDATE users SET \\n        securitySettings = {\\n          pinEnabled: false,\\n          biometricEnabled: false,\\n          autoLockTimeout: 5,\\n          requireAuthForExport: true,\\n          requireAuthForSettings: false\\n        } WHERE securitySettings = NONE;\\n    \");\n        return result[1] || ((_result_ = result[0]) === null || _result_ === void 0 ? void 0 : _result_.result) || [];\n    }\n    async fixDateFields() {\n        var _result_;\n        await this.connect();\n        // Fix expenses with string dates by converting them to datetime\n        const result = await this.db.query(\"\\n      USE NS rupee DB finance;\\n      UPDATE expenses SET \\n        date = time::parse(date) WHERE type::of(date) = 'string';\\n      UPDATE incomes SET \\n        date = time::parse(date) WHERE type::of(date) = 'string';\\n      UPDATE savings_goals SET \\n        targetDate = time::parse(targetDate) WHERE type::of(targetDate) = 'string';\\n      UPDATE recurring_expenses SET \\n        nextDueDate = time::parse(nextDueDate) WHERE type::of(nextDueDate) = 'string';\\n    \");\n        return result[1] || ((_result_ = result[0]) === null || _result_ === void 0 ? void 0 : _result_.result) || [];\n    }\n    async fixDateFieldsSimple() {\n        await this.connect();\n        // Get all expenses and check if they have string dates\n        const expenses = await this.db.query(\"\\n      USE NS rupee DB finance;\\n      SELECT * FROM expenses;\\n    \");\n        if (expenses[1] && expenses[1].length > 0) {\n            for (const expense of expenses[1]){\n                // Check if the date is a string (not a datetime object)\n                if (typeof expense.date === \"string\" && expense.date.includes(\"T\")) {\n                    try {\n                        await this.db.query(\"\\n              USE NS rupee DB finance;\\n              UPDATE \".concat(expense.id, \" SET date = time::parse('\").concat(expense.date, \"');\\n            \"));\n                    } catch (error) {\n                        console.warn(\"Could not fix date for expense \".concat(expense.id, \":\"), error);\n                    }\n                }\n            }\n        }\n        // Get all incomes and check if they have string dates\n        const incomes = await this.db.query(\"\\n      USE NS rupee DB finance;\\n      SELECT * FROM incomes;\\n    \");\n        if (incomes[1] && incomes[1].length > 0) {\n            for (const income of incomes[1]){\n                // Check if the date is a string (not a datetime object)\n                if (typeof income.date === \"string\" && income.date.includes(\"T\")) {\n                    try {\n                        await this.db.query(\"\\n              USE NS rupee DB finance;\\n              UPDATE \".concat(income.id, \" SET date = time::parse('\").concat(income.date, \"');\\n            \"));\n                    } catch (error) {\n                        console.warn(\"Could not fix date for income \".concat(income.id, \":\"), error);\n                    }\n                }\n            }\n        }\n        return {\n            success: true\n        };\n    }\n    async fixRecordReferences() {\n        await this.connect();\n        // Fix expenses with record references instead of string IDs\n        const expenses = await this.db.query(\"\\n      USE NS rupee DB finance;\\n      SELECT * FROM expenses;\\n    \");\n        if (expenses[1] && expenses[1].length > 0) {\n            for (const expense of expenses[1]){\n                // Check if userId is a record reference or _RecordId object\n                if (expense.userId) {\n                    let userId = expense.userId;\n                    let needsFix = false;\n                    if (typeof expense.userId === \"object\" && expense.userId.id) {\n                        // Handle _RecordId object\n                        userId = expense.userId.id;\n                        needsFix = true;\n                    } else if (typeof expense.userId === \"string\" && expense.userId.includes(\":\")) {\n                        // Handle string record reference\n                        userId = expense.userId.split(\":\")[1];\n                        needsFix = true;\n                    }\n                    if (needsFix) {\n                        try {\n                            await this.db.query(\"\\n                USE NS rupee DB finance;\\n                UPDATE \".concat(expense.id, \" SET userId = '\").concat(userId, \"';\\n              \"));\n                            console.log(\"Fixed userId for expense \".concat(expense.id, \": \").concat(expense.userId, \" -> \").concat(userId));\n                        } catch (error) {\n                            console.warn(\"Could not fix userId for expense \".concat(expense.id, \":\"), error);\n                        }\n                    }\n                }\n                // Also check categoryId if it's a record reference\n                if (expense.categoryId && typeof expense.categoryId === \"string\" && expense.categoryId.includes(\":\")) {\n                    try {\n                        const categoryId = expense.categoryId.split(\":\")[1];\n                        await this.db.query(\"\\n              USE NS rupee DB finance;\\n              UPDATE \".concat(expense.id, \" SET categoryId = '\").concat(categoryId, \"';\\n            \"));\n                        console.log(\"Fixed categoryId for expense \".concat(expense.id, \": \").concat(expense.categoryId, \" -> \").concat(categoryId));\n                    } catch (error) {\n                        console.warn(\"Could not fix categoryId for expense \".concat(expense.id, \":\"), error);\n                    }\n                }\n            }\n        }\n        // Fix incomes with record references instead of string IDs\n        const incomes = await this.db.query(\"\\n      USE NS rupee DB finance;\\n      SELECT * FROM incomes;\\n    \");\n        if (incomes[1] && incomes[1].length > 0) {\n            for (const income of incomes[1]){\n                // Check if userId is a record reference or _RecordId object\n                if (income.userId) {\n                    let userId = income.userId;\n                    let needsFix = false;\n                    if (typeof income.userId === \"object\" && income.userId.id) {\n                        // Handle _RecordId object\n                        userId = income.userId.id;\n                        needsFix = true;\n                    } else if (typeof income.userId === \"string\" && income.userId.includes(\":\")) {\n                        // Handle string record reference\n                        userId = income.userId.split(\":\")[1];\n                        needsFix = true;\n                    }\n                    if (needsFix) {\n                        try {\n                            await this.db.query(\"\\n                USE NS rupee DB finance;\\n                UPDATE \".concat(income.id, \" SET userId = '\").concat(userId, \"';\\n              \"));\n                            console.log(\"Fixed userId for income \".concat(income.id, \": \").concat(income.userId, \" -> \").concat(userId));\n                        } catch (error) {\n                            console.warn(\"Could not fix userId for income \".concat(income.id, \":\"), error);\n                        }\n                    }\n                }\n            }\n        }\n        // Fix categories with record references\n        const categories = await this.db.query(\"\\n      USE NS rupee DB finance;\\n      SELECT * FROM categories;\\n    \");\n        if (categories[1] && categories[1].length > 0) {\n            for (const category of categories[1]){\n                // Check if userId is a record reference (contains ':')\n                if (category.userId && typeof category.userId === \"string\" && category.userId.includes(\":\")) {\n                    try {\n                        const userId = category.userId.split(\":\")[1];\n                        await this.db.query(\"\\n              USE NS rupee DB finance;\\n              UPDATE \".concat(category.id, \" SET userId = '\").concat(userId, \"';\\n            \"));\n                        console.log(\"Fixed userId for category \".concat(category.id, \": \").concat(category.userId, \" -> \").concat(userId));\n                    } catch (error) {\n                        console.warn(\"Could not fix userId for category \".concat(category.id, \":\"), error);\n                    }\n                }\n            }\n        }\n        // Fix other tables with userId references\n        const tables = [\n            \"savings_goals\",\n            \"budget_limits\",\n            \"insights\",\n            \"alerts\",\n            \"recurring_expenses\",\n            \"profiles\",\n            \"achievements\",\n            \"backup_history\"\n        ];\n        for (const table of tables){\n            try {\n                const records = await this.db.query(\"\\n          USE NS rupee DB finance;\\n          SELECT * FROM \".concat(table, \";\\n        \"));\n                if (records[1] && records[1].length > 0) {\n                    for (const record of records[1]){\n                        if (record.userId && typeof record.userId === \"string\" && record.userId.includes(\":\")) {\n                            try {\n                                const userId = record.userId.split(\":\")[1];\n                                await this.db.query(\"\\n                  USE NS rupee DB finance;\\n                  UPDATE \".concat(record.id, \" SET userId = '\").concat(userId, \"';\\n                \"));\n                                console.log(\"Fixed userId for \".concat(table, \" \").concat(record.id, \": \").concat(record.userId, \" -> \").concat(userId));\n                            } catch (error) {\n                                console.warn(\"Could not fix userId for \".concat(table, \" \").concat(record.id, \":\"), error);\n                            }\n                        }\n                    }\n                }\n            } catch (error) {\n                console.warn(\"Could not process table \".concat(table, \":\"), error);\n            }\n        }\n        return {\n            success: true\n        };\n    }\n    // Comprehensive method to fix all record references\n    async fixAllRecordReferences() {\n        await this.connect();\n        try {\n            // Get all expenses and fix any record references\n            const expenses = await this.db.query(\"\\n        USE NS rupee DB finance;\\n        SELECT * FROM expenses;\\n      \");\n            let fixedCount = 0;\n            if (expenses[1] && expenses[1].length > 0) {\n                for (const expense of expenses[1]){\n                    if (expense.userId && typeof expense.userId === \"string\" && expense.userId.includes(\":\")) {\n                        try {\n                            const userId = expense.userId.split(\":\")[1];\n                            await this.db.query(\"\\n                USE NS rupee DB finance;\\n                UPDATE \".concat(expense.id, \" SET userId = '\").concat(userId, \"';\\n              \"));\n                            console.log(\"Fixed userId for expense \".concat(expense.id, \": \").concat(expense.userId, \" -> \").concat(userId));\n                            fixedCount++;\n                        } catch (error) {\n                            console.warn(\"Could not fix userId for expense \".concat(expense.id, \":\"), error);\n                        }\n                    }\n                    if (expense.categoryId && typeof expense.categoryId === \"string\" && expense.categoryId.includes(\":\")) {\n                        try {\n                            const categoryId = expense.categoryId.split(\":\")[1];\n                            await this.db.query(\"\\n                USE NS rupee DB finance;\\n                UPDATE \".concat(expense.id, \" SET categoryId = '\").concat(categoryId, \"';\\n              \"));\n                            console.log(\"Fixed categoryId for expense \".concat(expense.id, \": \").concat(expense.categoryId, \" -> \").concat(categoryId));\n                            fixedCount++;\n                        } catch (error) {\n                            console.warn(\"Could not fix categoryId for expense \".concat(expense.id, \":\"), error);\n                        }\n                    }\n                }\n            }\n            // Get all incomes and fix any record references\n            const incomes = await this.db.query(\"\\n        USE NS rupee DB finance;\\n        SELECT * FROM incomes;\\n      \");\n            if (incomes[1] && incomes[1].length > 0) {\n                for (const income of incomes[1]){\n                    if (income.userId && typeof income.userId === \"string\" && income.userId.includes(\":\")) {\n                        try {\n                            const userId = income.userId.split(\":\")[1];\n                            await this.db.query(\"\\n                USE NS rupee DB finance;\\n                UPDATE \".concat(income.id, \" SET userId = '\").concat(userId, \"';\\n              \"));\n                            console.log(\"Fixed userId for income \".concat(income.id, \": \").concat(income.userId, \" -> \").concat(userId));\n                            fixedCount++;\n                        } catch (error) {\n                            console.warn(\"Could not fix userId for income \".concat(income.id, \":\"), error);\n                        }\n                    }\n                }\n            }\n            console.log(\"Fixed \".concat(fixedCount, \" record references\"));\n            return {\n                success: true,\n                fixedCount\n            };\n        } catch (error) {\n            console.error(\"Error fixing all record references:\", error);\n            return {\n                success: false,\n                error: error.message\n            };\n        }\n    }\n    // New method to fix the specific error mentioned\n    async fixSpecificRecordError() {\n        await this.connect();\n        try {\n            // Find the specific expense mentioned in the error\n            const result = await this.db.query(\"\\n        USE NS rupee DB finance;\\n        SELECT * FROM expenses WHERE id = 'expenses:2dahp1q8e9cer4n5s8ze';\\n      \");\n            if (result[1] && result[1].length > 0) {\n                const expense = result[1][0];\n                if (expense.userId && typeof expense.userId === \"string\" && expense.userId.includes(\":\")) {\n                    const userId = expense.userId.split(\":\")[1];\n                    await this.db.query(\"\\n            USE NS rupee DB finance;\\n            UPDATE expenses:2dahp1q8e9cer4n5s8ze SET userId = '\".concat(userId, \"';\\n          \"));\n                    console.log(\"Fixed specific expense userId: \".concat(expense.userId, \" -> \").concat(userId));\n                    return {\n                        success: true,\n                        fixed: true\n                    };\n                }\n            }\n            // Also check for the new error mentioned\n            const result2 = await this.db.query(\"\\n        USE NS rupee DB finance;\\n        SELECT * FROM expenses WHERE id = 'expenses:ce9obee44h94a18tq6m9';\\n      \");\n            if (result2[1] && result2[1].length > 0) {\n                const expense = result2[1][0];\n                if (expense.userId && typeof expense.userId === \"string\" && expense.userId.includes(\":\")) {\n                    const userId = expense.userId.split(\":\")[1];\n                    await this.db.query(\"\\n            USE NS rupee DB finance;\\n            UPDATE expenses:ce9obee44h94a18tq6m9 SET userId = '\".concat(userId, \"';\\n          \"));\n                    console.log(\"Fixed specific expense userId: \".concat(expense.userId, \" -> \").concat(userId));\n                    return {\n                        success: true,\n                        fixed: true\n                    };\n                }\n            }\n            // Check for the latest error mentioned\n            const result3 = await this.db.query(\"\\n        USE NS rupee DB finance;\\n        SELECT * FROM expenses WHERE id = 'expenses:5t7s208me18ur6hzf4jp';\\n      \");\n            if (result3[1] && result3[1].length > 0) {\n                const expense = result3[1][0];\n                if (expense.userId && typeof expense.userId === \"string\" && expense.userId.includes(\":\")) {\n                    const userId = expense.userId.split(\":\")[1];\n                    await this.db.query(\"\\n            USE NS rupee DB finance;\\n            UPDATE expenses:5t7s208me18ur6hzf4jp SET userId = '\".concat(userId, \"';\\n          \"));\n                    console.log(\"Fixed specific expense userId: \".concat(expense.userId, \" -> \").concat(userId));\n                    return {\n                        success: true,\n                        fixed: true\n                    };\n                }\n            }\n            return {\n                success: true,\n                fixed: false\n            };\n        } catch (error) {\n            console.error(\"Error fixing specific record:\", error);\n            return {\n                success: false,\n                error: error.message\n            };\n        }\n    }\n    // Expense operations\n    async createExpense(expenseData) {\n        var _result_, _result__result, _result_1;\n        await this.connect();\n        // Ensure userId is a string, not a record reference\n        const cleanExpenseData = {\n            ...expenseData\n        };\n        if (cleanExpenseData.userId) {\n            if (typeof cleanExpenseData.userId === \"object\" && cleanExpenseData.userId.id) {\n                // Handle _RecordId object\n                cleanExpenseData.userId = cleanExpenseData.userId.id;\n            } else if (typeof cleanExpenseData.userId === \"string\" && cleanExpenseData.userId.includes(\":\")) {\n                // Handle string record reference\n                cleanExpenseData.userId = cleanExpenseData.userId.split(\":\")[1];\n            }\n        }\n        // Ensure categoryId is a string, not a record reference\n        if (cleanExpenseData.categoryId && typeof cleanExpenseData.categoryId === \"string\" && cleanExpenseData.categoryId.includes(\":\")) {\n            cleanExpenseData.categoryId = cleanExpenseData.categoryId.split(\":\")[1];\n        }\n        const result = await this.db.query(\"USE NS rupee DB finance; CREATE expenses CONTENT $expenseData\", {\n            expenseData: cleanExpenseData\n        });\n        return ((_result_ = result[1]) === null || _result_ === void 0 ? void 0 : _result_[0]) || ((_result_1 = result[0]) === null || _result_1 === void 0 ? void 0 : (_result__result = _result_1.result) === null || _result__result === void 0 ? void 0 : _result__result[0]);\n    }\n    async getExpenses(userId) {\n        var _result_;\n        await this.connect();\n        const result = await this.db.query(\"USE NS rupee DB finance; SELECT * FROM expenses WHERE userId = $userId\", {\n            userId\n        });\n        return result[1] || ((_result_ = result[0]) === null || _result_ === void 0 ? void 0 : _result_.result) || [];\n    }\n    async updateExpense(expenseId, expenseData) {\n        var _result_, _result__result, _result_1;\n        await this.connect();\n        const result = await this.db.query(\"USE NS rupee DB finance; UPDATE expenses SET * = $expenseData WHERE id = $expenseId\", {\n            expenseId,\n            expenseData\n        });\n        return ((_result_ = result[1]) === null || _result_ === void 0 ? void 0 : _result_[0]) || ((_result_1 = result[0]) === null || _result_1 === void 0 ? void 0 : (_result__result = _result_1.result) === null || _result__result === void 0 ? void 0 : _result__result[0]);\n    }\n    async deleteExpense(expenseId) {\n        var _result_, _result__result, _result_1;\n        await this.connect();\n        const result = await this.db.query(\"USE NS rupee DB finance; DELETE expenses WHERE id = $expenseId\", {\n            expenseId\n        });\n        return ((_result_ = result[1]) === null || _result_ === void 0 ? void 0 : _result_[0]) || ((_result_1 = result[0]) === null || _result_1 === void 0 ? void 0 : (_result__result = _result_1.result) === null || _result__result === void 0 ? void 0 : _result__result[0]);\n    }\n    // Income operations\n    async createIncome(incomeData) {\n        var _result_, _result__result, _result_1;\n        await this.connect();\n        // Ensure userId is a string, not a record reference\n        const cleanIncomeData = {\n            ...incomeData\n        };\n        if (cleanIncomeData.userId) {\n            if (typeof cleanIncomeData.userId === \"object\" && cleanIncomeData.userId.id) {\n                // Handle _RecordId object\n                cleanIncomeData.userId = cleanIncomeData.userId.id;\n            } else if (typeof cleanIncomeData.userId === \"string\" && cleanIncomeData.userId.includes(\":\")) {\n                // Handle string record reference\n                cleanIncomeData.userId = cleanIncomeData.userId.split(\":\")[1];\n            }\n        }\n        const result = await this.db.query(\"USE NS rupee DB finance; CREATE incomes CONTENT $incomeData\", {\n            incomeData: cleanIncomeData\n        });\n        return ((_result_ = result[1]) === null || _result_ === void 0 ? void 0 : _result_[0]) || ((_result_1 = result[0]) === null || _result_1 === void 0 ? void 0 : (_result__result = _result_1.result) === null || _result__result === void 0 ? void 0 : _result__result[0]);\n    }\n    async getIncomes(userId) {\n        var _result_;\n        await this.connect();\n        const result = await this.db.query(\"USE NS rupee DB finance; SELECT * FROM incomes WHERE userId = $userId\", {\n            userId\n        });\n        return result[1] || ((_result_ = result[0]) === null || _result_ === void 0 ? void 0 : _result_.result) || [];\n    }\n    async updateIncome(incomeId, incomeData) {\n        var _result_, _result__result, _result_1;\n        await this.connect();\n        const result = await this.db.query(\"USE NS rupee DB finance; UPDATE incomes SET * = $incomeData WHERE id = $incomeId\", {\n            incomeId,\n            incomeData\n        });\n        return ((_result_ = result[1]) === null || _result_ === void 0 ? void 0 : _result_[0]) || ((_result_1 = result[0]) === null || _result_1 === void 0 ? void 0 : (_result__result = _result_1.result) === null || _result__result === void 0 ? void 0 : _result__result[0]);\n    }\n    async deleteIncome(incomeId) {\n        var _result_, _result__result, _result_1;\n        await this.connect();\n        const result = await this.db.query(\"USE NS rupee DB finance; DELETE incomes WHERE id = $incomeId\", {\n            incomeId\n        });\n        return ((_result_ = result[1]) === null || _result_ === void 0 ? void 0 : _result_[0]) || ((_result_1 = result[0]) === null || _result_1 === void 0 ? void 0 : (_result__result = _result_1.result) === null || _result__result === void 0 ? void 0 : _result__result[0]);\n    }\n    // Category operations\n    async createCategory(categoryData) {\n        var _result_, _result__result, _result_1;\n        await this.connect();\n        const result = await this.db.query(\"USE NS rupee DB finance; CREATE categories CONTENT $categoryData\", {\n            categoryData\n        });\n        return ((_result_ = result[1]) === null || _result_ === void 0 ? void 0 : _result_[0]) || ((_result_1 = result[0]) === null || _result_1 === void 0 ? void 0 : (_result__result = _result_1.result) === null || _result__result === void 0 ? void 0 : _result__result[0]);\n    }\n    async getCategories(userId) {\n        var _result_;\n        await this.connect();\n        const result = await this.db.query(\"USE NS rupee DB finance; SELECT * FROM categories WHERE userId = $userId\", {\n            userId\n        });\n        return result[1] || ((_result_ = result[0]) === null || _result_ === void 0 ? void 0 : _result_.result) || [];\n    }\n    async updateCategory(categoryId, categoryData) {\n        var _result_, _result__result, _result_1;\n        await this.connect();\n        const result = await this.db.query(\"USE NS rupee DB finance; UPDATE categories SET * = $categoryData WHERE id = $categoryId\", {\n            categoryId,\n            categoryData\n        });\n        return ((_result_ = result[1]) === null || _result_ === void 0 ? void 0 : _result_[0]) || ((_result_1 = result[0]) === null || _result_1 === void 0 ? void 0 : (_result__result = _result_1.result) === null || _result__result === void 0 ? void 0 : _result__result[0]);\n    }\n    async deleteCategory(categoryId) {\n        var _result_, _result__result, _result_1;\n        await this.connect();\n        const result = await this.db.query(\"USE NS rupee DB finance; DELETE categories WHERE id = $categoryId\", {\n            categoryId\n        });\n        return ((_result_ = result[1]) === null || _result_ === void 0 ? void 0 : _result_[0]) || ((_result_1 = result[0]) === null || _result_1 === void 0 ? void 0 : (_result__result = _result_1.result) === null || _result__result === void 0 ? void 0 : _result__result[0]);\n    }\n    // Savings goals operations\n    async createSavingsGoal(goalData) {\n        var _result_, _result__result, _result_1;\n        await this.connect();\n        const result = await this.db.query(\"USE NS rupee DB finance; CREATE savings_goals CONTENT $goalData\", {\n            goalData\n        });\n        return ((_result_ = result[1]) === null || _result_ === void 0 ? void 0 : _result_[0]) || ((_result_1 = result[0]) === null || _result_1 === void 0 ? void 0 : (_result__result = _result_1.result) === null || _result__result === void 0 ? void 0 : _result__result[0]);\n    }\n    async getSavingsGoals(userId) {\n        var _result_;\n        await this.connect();\n        const result = await this.db.query(\"USE NS rupee DB finance; SELECT * FROM savings_goals WHERE userId = $userId\", {\n            userId\n        });\n        return result[1] || ((_result_ = result[0]) === null || _result_ === void 0 ? void 0 : _result_.result) || [];\n    }\n    async updateSavingsGoal(goalId, goalData) {\n        var _result_, _result__result, _result_1;\n        await this.connect();\n        const result = await this.db.query(\"USE NS rupee DB finance; UPDATE savings_goals SET * = $goalData WHERE id = $goalId\", {\n            goalId,\n            goalData\n        });\n        return ((_result_ = result[1]) === null || _result_ === void 0 ? void 0 : _result_[0]) || ((_result_1 = result[0]) === null || _result_1 === void 0 ? void 0 : (_result__result = _result_1.result) === null || _result__result === void 0 ? void 0 : _result__result[0]);\n    }\n    async deleteSavingsGoal(goalId) {\n        var _result_, _result__result, _result_1;\n        await this.connect();\n        const result = await this.db.query(\"USE NS rupee DB finance; DELETE savings_goals WHERE id = $goalId\", {\n            goalId\n        });\n        return ((_result_ = result[1]) === null || _result_ === void 0 ? void 0 : _result_[0]) || ((_result_1 = result[0]) === null || _result_1 === void 0 ? void 0 : (_result__result = _result_1.result) === null || _result__result === void 0 ? void 0 : _result__result[0]);\n    }\n    // Budget limits operations\n    async createBudgetLimit(limitData) {\n        var _result_, _result__result, _result_1;\n        await this.connect();\n        const result = await this.db.query(\"USE NS rupee DB finance; CREATE budget_limits CONTENT $limitData\", {\n            limitData\n        });\n        return ((_result_ = result[1]) === null || _result_ === void 0 ? void 0 : _result_[0]) || ((_result_1 = result[0]) === null || _result_1 === void 0 ? void 0 : (_result__result = _result_1.result) === null || _result__result === void 0 ? void 0 : _result__result[0]);\n    }\n    async getBudgetLimits(userId) {\n        var _result_;\n        await this.connect();\n        const result = await this.db.query(\"USE NS rupee DB finance; SELECT * FROM budget_limits WHERE userId = $userId\", {\n            userId\n        });\n        return result[1] || ((_result_ = result[0]) === null || _result_ === void 0 ? void 0 : _result_.result) || [];\n    }\n    async updateBudgetLimit(limitId, limitData) {\n        var _result_, _result__result, _result_1;\n        await this.connect();\n        const result = await this.db.query(\"USE NS rupee DB finance; UPDATE budget_limits SET * = $limitData WHERE id = $limitId\", {\n            limitId,\n            limitData\n        });\n        return ((_result_ = result[1]) === null || _result_ === void 0 ? void 0 : _result_[0]) || ((_result_1 = result[0]) === null || _result_1 === void 0 ? void 0 : (_result__result = _result_1.result) === null || _result__result === void 0 ? void 0 : _result__result[0]);\n    }\n    async deleteBudgetLimit(limitId) {\n        var _result_, _result__result, _result_1;\n        await this.connect();\n        const result = await this.db.query(\"USE NS rupee DB finance; DELETE budget_limits WHERE id = $limitId\", {\n            limitId\n        });\n        return ((_result_ = result[1]) === null || _result_ === void 0 ? void 0 : _result_[0]) || ((_result_1 = result[0]) === null || _result_1 === void 0 ? void 0 : (_result__result = _result_1.result) === null || _result__result === void 0 ? void 0 : _result__result[0]);\n    }\n    // Insights operations\n    async createInsight(insightData) {\n        var _result_, _result__result, _result_1;\n        await this.connect();\n        const result = await this.db.query(\"USE NS rupee DB finance; CREATE insights CONTENT $insightData\", {\n            insightData\n        });\n        return ((_result_ = result[1]) === null || _result_ === void 0 ? void 0 : _result_[0]) || ((_result_1 = result[0]) === null || _result_1 === void 0 ? void 0 : (_result__result = _result_1.result) === null || _result__result === void 0 ? void 0 : _result__result[0]);\n    }\n    async getInsights(userId) {\n        var _result_;\n        await this.connect();\n        const result = await this.db.query(\"USE NS rupee DB finance; SELECT * FROM insights WHERE userId = $userId ORDER BY createdAt DESC\", {\n            userId\n        });\n        return result[1] || ((_result_ = result[0]) === null || _result_ === void 0 ? void 0 : _result_.result) || [];\n    }\n    async markInsightAsRead(insightId) {\n        var _result_, _result__result, _result_1;\n        await this.connect();\n        const result = await this.db.query(\"USE NS rupee DB finance; UPDATE insights SET isRead = true WHERE id = $insightId\", {\n            insightId\n        });\n        return ((_result_ = result[1]) === null || _result_ === void 0 ? void 0 : _result_[0]) || ((_result_1 = result[0]) === null || _result_1 === void 0 ? void 0 : (_result__result = _result_1.result) === null || _result__result === void 0 ? void 0 : _result__result[0]);\n    }\n    // Alerts operations\n    async createAlert(alertData) {\n        var _result_, _result__result, _result_1;\n        await this.connect();\n        const result = await this.db.query(\"USE NS rupee DB finance; CREATE alerts CONTENT $alertData\", {\n            alertData\n        });\n        return ((_result_ = result[1]) === null || _result_ === void 0 ? void 0 : _result_[0]) || ((_result_1 = result[0]) === null || _result_1 === void 0 ? void 0 : (_result__result = _result_1.result) === null || _result__result === void 0 ? void 0 : _result__result[0]);\n    }\n    async getAlerts(userId) {\n        var _result_;\n        await this.connect();\n        const result = await this.db.query(\"USE NS rupee DB finance; SELECT * FROM alerts WHERE userId = $userId ORDER BY createdAt DESC\", {\n            userId\n        });\n        return result[1] || ((_result_ = result[0]) === null || _result_ === void 0 ? void 0 : _result_.result) || [];\n    }\n    async markAlertAsRead(alertId) {\n        var _result_, _result__result, _result_1;\n        await this.connect();\n        const result = await this.db.query(\"USE NS rupee DB finance; UPDATE alerts SET isRead = true WHERE id = $alertId\", {\n            alertId\n        });\n        return ((_result_ = result[1]) === null || _result_ === void 0 ? void 0 : _result_[0]) || ((_result_1 = result[0]) === null || _result_1 === void 0 ? void 0 : (_result__result = _result_1.result) === null || _result__result === void 0 ? void 0 : _result__result[0]);\n    }\n    async deleteAlert(alertId) {\n        var _result_, _result__result, _result_1;\n        await this.connect();\n        const result = await this.db.query(\"USE NS rupee DB finance; DELETE alerts WHERE id = $alertId\", {\n            alertId\n        });\n        return ((_result_ = result[1]) === null || _result_ === void 0 ? void 0 : _result_[0]) || ((_result_1 = result[0]) === null || _result_1 === void 0 ? void 0 : (_result__result = _result_1.result) === null || _result__result === void 0 ? void 0 : _result__result[0]);\n    }\n    // Analytics queries\n    async getMonthlyExpenses(userId, year, month) {\n        var _result_;\n        await this.connect();\n        const result = await this.db.query(\"\\n      USE NS rupee DB finance;\\n      SELECT * FROM expenses \\n      WHERE userId = $userId \\n      AND time::year(date) = $year \\n      AND time::month(date) = $month\\n      ORDER BY date DESC\\n    \", {\n            userId,\n            year,\n            month\n        });\n        return result[1] || ((_result_ = result[0]) === null || _result_ === void 0 ? void 0 : _result_.result) || [];\n    }\n    async getExpensesByCategory(userId, startDate, endDate) {\n        var _result_;\n        await this.connect();\n        const result = await this.db.query(\"\\n      USE NS rupee DB finance;\\n      SELECT categoryId, sum(amount) as total \\n      FROM expenses \\n      WHERE userId = $userId \\n      AND date >= $startDate \\n      AND date <= $endDate\\n      GROUP BY categoryId\\n    \", {\n            userId,\n            startDate,\n            endDate\n        });\n        return result[1] || ((_result_ = result[0]) === null || _result_ === void 0 ? void 0 : _result_.result) || [];\n    }\n    async getTotalSavings(userId) {\n        var _result__, _result_, _result__result_, _result__result, _result_1;\n        await this.connect();\n        const result = await this.db.query(\"\\n      USE NS rupee DB finance;\\n      SELECT sum(currentAmount) as total \\n      FROM savings_goals \\n      WHERE userId = $userId\\n    \", {\n            userId\n        });\n        return ((_result_ = result[1]) === null || _result_ === void 0 ? void 0 : (_result__ = _result_[0]) === null || _result__ === void 0 ? void 0 : _result__.total) || ((_result_1 = result[0]) === null || _result_1 === void 0 ? void 0 : (_result__result = _result_1.result) === null || _result__result === void 0 ? void 0 : (_result__result_ = _result__result[0]) === null || _result__result_ === void 0 ? void 0 : _result__result_.total) || 0;\n    }\n    constructor(){\n        this.isConnected = false;\n        this.db = new surrealdb__WEBPACK_IMPORTED_MODULE_0__.Surreal();\n    }\n}\nconst surrealDB = SurrealDBService.getInstance();\n/* harmony default export */ __webpack_exports__[\"default\"] = (surrealDB);\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QSxrQkFBQUEsVUFBV0EsTUFBTSxjQUFqQkEsdUNBQUFBLG1CQUFBQSxlQUFtQixDQUFDLEVBQUUsY0FBdEJBLHVDQUFBQSxpQkFBd0JnSCxLQUFLLEtBQUk7SUFDbkU7SUFoZ0NBLGFBQXNCO2FBRmR2SSxjQUF1QjtRQUc3QixJQUFJLENBQUNDLEVBQUUsR0FBRyxJQUFJckIsOENBQU9BO0lBQ3ZCO0FBKy9CRjtBQUVPLE1BQU00SixZQUFZNUksaUJBQWlCQyxXQUFXLEdBQUU7QUFDdkQsK0RBQWUySSxTQUFTQSxFQUFBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL2xpYi9zdXJyZWFsZGIudHM/NzliZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBTdXJyZWFsIH0gZnJvbSAnc3VycmVhbGRiJ1xuXG4vLyBTdXJyZWFsREIgY29uZmlndXJhdGlvblxuY29uc3QgU1VSUkVBTF9DT05GSUcgPSB7XG4gIHVybDogcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfU1VSUkVBTF9VUkwgfHwgJ3dzOi8vbG9jYWxob3N0OjgwMDAvcnBjJyxcbiAgbmFtZXNwYWNlOiBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19TVVJSRUFMX05BTUVTUEFDRSB8fCAncnVwZWUnLFxuICBkYXRhYmFzZTogcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfU1VSUkVBTF9EQVRBQkFTRSB8fCAnZmluYW5jZScsXG4gIC8vIEZvciBsb2NhbCBkZXZlbG9wbWVudFxuICB1c2VybmFtZTogcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfU1VSUkVBTF9VU0VSTkFNRSB8fCAncm9vdCcsXG4gIHBhc3N3b3JkOiBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19TVVJSRUFMX1BBU1NXT1JEIHx8ICdyb290JyxcbiAgLy8gRm9yIFN1cnJlYWwgQ2xvdWQgKHRva2VuLWJhc2VkIGF1dGgpXG4gIHRva2VuOiBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19TVVJSRUFMX1RPS0VOIHx8IG51bGwsXG59XG5cbmNsYXNzIFN1cnJlYWxEQlNlcnZpY2Uge1xuICBwcml2YXRlIHN0YXRpYyBpbnN0YW5jZTogU3VycmVhbERCU2VydmljZVxuICBwcml2YXRlIGRiOiBTdXJyZWFsXG4gIHByaXZhdGUgaXNDb25uZWN0ZWQ6IGJvb2xlYW4gPSBmYWxzZVxuXG4gIHByaXZhdGUgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5kYiA9IG5ldyBTdXJyZWFsKClcbiAgfVxuXG4gIHN0YXRpYyBnZXRJbnN0YW5jZSgpOiBTdXJyZWFsREJTZXJ2aWNlIHtcbiAgICBpZiAoIVN1cnJlYWxEQlNlcnZpY2UuaW5zdGFuY2UpIHtcbiAgICAgIFN1cnJlYWxEQlNlcnZpY2UuaW5zdGFuY2UgPSBuZXcgU3VycmVhbERCU2VydmljZSgpXG4gICAgfVxuICAgIHJldHVybiBTdXJyZWFsREJTZXJ2aWNlLmluc3RhbmNlXG4gIH1cblxuICBhc3luYyBjb25uZWN0KCk6IFByb21pc2U8dm9pZD4ge1xuICAgIGlmICh0aGlzLmlzQ29ubmVjdGVkKSByZXR1cm5cblxuICAgIHRyeSB7XG4gICAgICBhd2FpdCB0aGlzLmRiLmNvbm5lY3QoU1VSUkVBTF9DT05GSUcudXJsKVxuICAgICAgXG4gICAgICAvLyBBdXRoZW50aWNhdGUgYmFzZWQgb24gZW52aXJvbm1lbnQgKENsb3VkIHZzIExvY2FsKVxuICAgICAgaWYgKFNVUlJFQUxfQ09ORklHLnRva2VuKSB7XG4gICAgICAgIC8vIFN1cnJlYWwgQ2xvdWQ6IFVzZSB0b2tlbiBhdXRoZW50aWNhdGlvblxuICAgICAgICBhd2FpdCB0aGlzLmRiLmF1dGhlbnRpY2F0ZShTVVJSRUFMX0NPTkZJRy50b2tlbilcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIExvY2FsIGRldmVsb3BtZW50OiBVc2UgdXNlcm5hbWUvcGFzc3dvcmRcbiAgICAgICAgYXdhaXQgdGhpcy5kYi5zaWduaW4oe1xuICAgICAgICAgIHVzZXJuYW1lOiBTVVJSRUFMX0NPTkZJRy51c2VybmFtZSxcbiAgICAgICAgICBwYXNzd29yZDogU1VSUkVBTF9DT05GSUcucGFzc3dvcmQsXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIFVzZSB0aGUgbmFtZXNwYWNlIGFuZCBkYXRhYmFzZSAoY3JlYXRlIGlmIHRoZXkgZG9uJ3QgZXhpc3QpXG4gICAgICBhd2FpdCB0aGlzLmRiLnVzZSh7XG4gICAgICAgIG5zOiBTVVJSRUFMX0NPTkZJRy5uYW1lc3BhY2UsXG4gICAgICAgIGRiOiBTVVJSRUFMX0NPTkZJRy5kYXRhYmFzZSxcbiAgICAgIH0pXG4gICAgICBcbiAgICAgIHRoaXMuaXNDb25uZWN0ZWQgPSB0cnVlXG4gICAgICBjb25zb2xlLmxvZygn4pyFIENvbm5lY3RlZCB0byBTdXJyZWFsREInKVxuICAgICAgXG4gICAgICAvLyBJbml0aWFsaXplIGRhdGFiYXNlIHNjaGVtYVxuICAgICAgYXdhaXQgdGhpcy5pbml0aWFsaXplU2NoZW1hKClcbiAgICAgIFxuICAgICAgLy8gRml4IGFueSBleGlzdGluZyB1c2VycyB3aXRoIE5PTkUgdmFsdWVzXG4gICAgICB0cnkge1xuICAgICAgICBhd2FpdCB0aGlzLmZpeEFsbFVzZXJzKClcbiAgICAgICAgY29uc29sZS5sb2coJ+KchSBGaXhlZCBleGlzdGluZyB1c2VycyB3aXRoIE5PTkUgdmFsdWVzJylcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUud2Fybign4pqg77iPIENvdWxkIG5vdCBmaXggZXhpc3RpbmcgdXNlcnM6JywgZXJyb3IpXG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIEZpeCBhbnkgZXhpc3RpbmcgcmVjb3JkcyB3aXRoIHN0cmluZyBkYXRlc1xuICAgICAgdHJ5IHtcbiAgICAgICAgYXdhaXQgdGhpcy5maXhEYXRlRmllbGRzU2ltcGxlKClcbiAgICAgICAgY29uc29sZS5sb2coJ+KchSBGaXhlZCBleGlzdGluZyByZWNvcmRzIHdpdGggc3RyaW5nIGRhdGVzJylcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUud2Fybign4pqg77iPIENvdWxkIG5vdCBmaXggZXhpc3RpbmcgZGF0ZSBmaWVsZHM6JywgZXJyb3IpXG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIEZpeCBhbnkgZXhpc3RpbmcgcmVjb3JkcyB3aXRoIHJlY29yZCByZWZlcmVuY2VzIGluc3RlYWQgb2Ygc3RyaW5nIElEc1xuICAgICAgdHJ5IHtcbiAgICAgICAgYXdhaXQgdGhpcy5maXhSZWNvcmRSZWZlcmVuY2VzKClcbiAgICAgICAgY29uc29sZS5sb2coJ+KchSBGaXhlZCBleGlzdGluZyByZWNvcmRzIHdpdGggcmVjb3JkIHJlZmVyZW5jZXMnKVxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS53YXJuKCfimqDvuI8gQ291bGQgbm90IGZpeCBleGlzdGluZyByZWNvcmQgcmVmZXJlbmNlczonLCBlcnJvcilcbiAgICAgIH1cbiAgICAgIFxuICAgICAgICAvLyBGaXggdGhlIHNwZWNpZmljIGVycm9yIG1lbnRpb25lZCBpbiB0aGUgdXNlciBxdWVyeVxuICB0cnkge1xuICAgIGF3YWl0IHRoaXMuZml4U3BlY2lmaWNSZWNvcmRFcnJvcigpXG4gICAgY29uc29sZS5sb2coJ+KchSBGaXhlZCBzcGVjaWZpYyByZWNvcmQgZXJyb3InKVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUud2Fybign4pqg77iPIENvdWxkIG5vdCBmaXggc3BlY2lmaWMgcmVjb3JkIGVycm9yOicsIGVycm9yKVxuICB9XG4gIFxuICAvLyBBZGRpdGlvbmFsIGNvbXByZWhlbnNpdmUgZml4IGZvciBhbnkgcmVtYWluaW5nIHJlY29yZCByZWZlcmVuY2VzXG4gIHRyeSB7XG4gICAgYXdhaXQgdGhpcy5maXhBbGxSZWNvcmRSZWZlcmVuY2VzKClcbiAgICBjb25zb2xlLmxvZygn4pyFIEZpeGVkIGFsbCByZW1haW5pbmcgcmVjb3JkIHJlZmVyZW5jZXMnKVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUud2Fybign4pqg77iPIENvdWxkIG5vdCBmaXggYWxsIHJlY29yZCByZWZlcmVuY2VzOicsIGVycm9yKVxuICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBGYWlsZWQgdG8gY29ubmVjdCB0byBTdXJyZWFsREI6JywgZXJyb3IpXG4gICAgICB0aHJvdyBlcnJvclxuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgaW5pdGlhbGl6ZVNjaGVtYSgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICB0cnkge1xuICAgICAgY29uc29sZS5sb2coJ/CflI0gSW5pdGlhbGl6aW5nIHNjaGVtYS4uLicpXG4gICAgICAvLyBXcmFwIGluIHRyeS1jYXRjaCB0byBoYW5kbGUgXCJ0YWJsZSBhbHJlYWR5IGV4aXN0c1wiIGVycm9ycyBncmFjZWZ1bGx5XG4gICAgICB0cnkge1xuICAgICAgICBhd2FpdCB0aGlzLmRiLnF1ZXJ5KGBcbiAgICAgICAgICBVU0UgTlMgcnVwZWUgREIgZmluYW5jZTtcbiAgICAgICAgICBcbiAgICAgICAgICAtLSBVc2VycyB0YWJsZVxuICAgICAgICAgIERFRklORSBUQUJMRSB1c2VycyBTQ0hFTUFGVUxMO1xuICAgICAgICAgIERFRklORSBGSUVMRCBlbWFpbCBPTiB1c2VycyBUWVBFIHN0cmluZyBBU1NFUlQgJHZhbHVlICE9IE5PTkU7XG4gICAgICAgICAgREVGSU5FIEZJRUxEIG5hbWUgT04gdXNlcnMgVFlQRSBzdHJpbmc7XG4gICAgICAgICAgREVGSU5FIEZJRUxEIHByZWZlcmVuY2VzIE9OIHVzZXJzIFRZUEUgb2JqZWN0IERFRkFVTFQge1xuICAgICAgICAgICAgY3VycmVuY3k6ICfigrknLFxuICAgICAgICAgICAgdGhlbWU6ICdsaWdodCcsXG4gICAgICAgICAgICBub3RpZmljYXRpb25zOiB0cnVlLFxuICAgICAgICAgICAgZGVmYXVsdFBheW1lbnRNZXRob2Q6ICdjYXNoJyxcbiAgICAgICAgICAgIGJ1ZGdldExpbWl0czogW10sXG4gICAgICAgICAgICBhbGVydFNldHRpbmdzOiB7XG4gICAgICAgICAgICAgIG92ZXJzcGVuZGluZ0FsZXJ0czogdHJ1ZSxcbiAgICAgICAgICAgICAgYnVkZ2V0TGltaXRBbGVydHM6IHRydWUsXG4gICAgICAgICAgICAgIHNhdmluZ3NHb2FsQWxlcnRzOiB0cnVlLFxuICAgICAgICAgICAgICB3ZWVrbHlJbnNpZ2h0czogdHJ1ZSxcbiAgICAgICAgICAgICAgZW1haWxOb3RpZmljYXRpb25zOiBmYWxzZSxcbiAgICAgICAgICAgICAgcHVzaE5vdGlmaWNhdGlvbnM6IHRydWVcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnYW1pZmljYXRpb25FbmFibGVkOiB0cnVlLFxuICAgICAgICAgICAgYXV0b0JhY2t1cEVuYWJsZWQ6IGZhbHNlLFxuICAgICAgICAgICAgY2xvdWRTeW5jRW5hYmxlZDogZmFsc2UsXG4gICAgICAgICAgICByZWNlaXB0U2Nhbm5pbmdFbmFibGVkOiBmYWxzZVxuICAgICAgICAgIH07XG4gICAgICAgICAgREVGSU5FIEZJRUxEIHByb2ZpbGVzIE9OIHVzZXJzIFRZUEUgYXJyYXkgREVGQVVMVCBbXTtcbiAgICAgICAgICBERUZJTkUgRklFTEQgYWN0aXZlUHJvZmlsZUlkIE9OIHVzZXJzIFRZUEUgc3RyaW5nIERFRkFVTFQgJyc7XG4gICAgICAgICAgREVGSU5FIEZJRUxEIHNlY3VyaXR5U2V0dGluZ3MgT04gdXNlcnMgVFlQRSBvYmplY3QgREVGQVVMVCB7XG4gICAgICAgICAgICBwaW5FbmFibGVkOiBmYWxzZSxcbiAgICAgICAgICAgIGJpb21ldHJpY0VuYWJsZWQ6IGZhbHNlLFxuICAgICAgICAgICAgYXV0b0xvY2tUaW1lb3V0OiA1LFxuICAgICAgICAgICAgcmVxdWlyZUF1dGhGb3JFeHBvcnQ6IHRydWUsXG4gICAgICAgICAgICByZXF1aXJlQXV0aEZvclNldHRpbmdzOiBmYWxzZVxuICAgICAgICAgIH07XG4gICAgICAgICAgREVGSU5FIEZJRUxEIGFjaGlldmVtZW50cyBPTiB1c2VycyBUWVBFIGFycmF5IERFRkFVTFQgW107XG4gICAgICAgICAgREVGSU5FIEZJRUxEIHN0cmVha3MgT04gdXNlcnMgVFlQRSBvYmplY3QgREVGQVVMVCB7XG4gICAgICAgICAgICBjdXJyZW50U3RyZWFrOiAwLFxuICAgICAgICAgICAgbG9uZ2VzdFN0cmVhazogMCxcbiAgICAgICAgICAgIG5vU3BlbmREYXlzOiAwLFxuICAgICAgICAgICAgdG90YWxOb1NwZW5kRGF5czogMCxcbiAgICAgICAgICAgIGN1cnJlbnROb1NwZW5kU3RyZWFrOiAwLFxuICAgICAgICAgICAgbG9uZ2VzdE5vU3BlbmRTdHJlYWs6IDBcbiAgICAgICAgICB9O1xuICAgICAgICAgIERFRklORSBGSUVMRCBjcmVhdGVkQXQgT04gdXNlcnMgVFlQRSBkYXRldGltZSBERUZBVUxUIHRpbWU6Om5vdygpO1xuICAgICAgICAgIERFRklORSBGSUVMRCB1cGRhdGVkQXQgT04gdXNlcnMgVFlQRSBkYXRldGltZSBERUZBVUxUIHRpbWU6Om5vdygpO1xuICAgICAgICAgIFxuICAgICAgICAgIC0tIEV4cGVuc2VzIHRhYmxlXG4gICAgICAgICAgREVGSU5FIFRBQkxFIGV4cGVuc2VzIFNDSEVNQUZVTEw7XG4gICAgICAgICAgREVGSU5FIEZJRUxEIHVzZXJJZCBPTiBleHBlbnNlcyBUWVBFIHN0cmluZztcbiAgICAgICAgICBERUZJTkUgRklFTEQgYW1vdW50IE9OIGV4cGVuc2VzIFRZUEUgbnVtYmVyO1xuICAgICAgICAgIERFRklORSBGSUVMRCBkZXNjcmlwdGlvbiBPTiBleHBlbnNlcyBUWVBFIHN0cmluZztcbiAgICAgICAgICBERUZJTkUgRklFTEQgY2F0ZWdvcnlJZCBPTiBleHBlbnNlcyBUWVBFIHN0cmluZztcbiAgICAgICAgICBERUZJTkUgRklFTEQgZGF0ZSBPTiBleHBlbnNlcyBUWVBFIGRhdGV0aW1lO1xuICAgICAgICAgIERFRklORSBGSUVMRCBwYXltZW50TWV0aG9kIE9OIGV4cGVuc2VzIFRZUEUgc3RyaW5nO1xuICAgICAgICAgIERFRklORSBGSUVMRCBjcmVhdGVkQXQgT04gZXhwZW5zZXMgVFlQRSBkYXRldGltZSBERUZBVUxUIHRpbWU6Om5vdygpO1xuICAgICAgICAgIERFRklORSBGSUVMRCB1cGRhdGVkQXQgT04gZXhwZW5zZXMgVFlQRSBkYXRldGltZSBERUZBVUxUIHRpbWU6Om5vdygpO1xuICAgICAgICAgIFxuICAgICAgICAgIC0tIEluY29tZXMgdGFibGVcbiAgICAgICAgICBERUZJTkUgVEFCTEUgaW5jb21lcyBTQ0hFTUFGVUxMO1xuICAgICAgICAgIERFRklORSBGSUVMRCB1c2VySWQgT04gaW5jb21lcyBUWVBFIHN0cmluZztcbiAgICAgICAgICBERUZJTkUgRklFTEQgYW1vdW50IE9OIGluY29tZXMgVFlQRSBudW1iZXI7XG4gICAgICAgICAgREVGSU5FIEZJRUxEIHNvdXJjZSBPTiBpbmNvbWVzIFRZUEUgc3RyaW5nO1xuICAgICAgICAgIERFRklORSBGSUVMRCBkYXRlIE9OIGluY29tZXMgVFlQRSBkYXRldGltZTtcbiAgICAgICAgICBERUZJTkUgRklFTEQgY3JlYXRlZEF0IE9OIGluY29tZXMgVFlQRSBkYXRldGltZSBERUZBVUxUIHRpbWU6Om5vdygpO1xuICAgICAgICAgIERFRklORSBGSUVMRCB1cGRhdGVkQXQgT04gaW5jb21lcyBUWVBFIGRhdGV0aW1lIERFRkFVTFQgdGltZTo6bm93KCk7XG4gICAgICAgICAgXG4gICAgICAgICAgLS0gQ2F0ZWdvcmllcyB0YWJsZVxuICAgICAgICAgIERFRklORSBUQUJMRSBjYXRlZ29yaWVzIFNDSEVNQUZVTEw7XG4gICAgICAgICAgREVGSU5FIEZJRUxEIHVzZXJJZCBPTiBjYXRlZ29yaWVzIFRZUEUgc3RyaW5nO1xuICAgICAgICAgIERFRklORSBGSUVMRCBuYW1lIE9OIGNhdGVnb3JpZXMgVFlQRSBzdHJpbmc7XG4gICAgICAgICAgREVGSU5FIEZJRUxEIGNvbG9yIE9OIGNhdGVnb3JpZXMgVFlQRSBzdHJpbmc7XG4gICAgICAgICAgREVGSU5FIEZJRUxEIGljb24gT04gY2F0ZWdvcmllcyBUWVBFIHN0cmluZztcbiAgICAgICAgICBERUZJTkUgRklFTEQgaXNDdXN0b20gT04gY2F0ZWdvcmllcyBUWVBFIGJvb2wgREVGQVVMVCB0cnVlO1xuICAgICAgICAgIERFRklORSBGSUVMRCBjcmVhdGVkQXQgT04gY2F0ZWdvcmllcyBUWVBFIGRhdGV0aW1lIERFRkFVTFQgdGltZTo6bm93KCk7XG4gICAgICAgICAgREVGSU5FIEZJRUxEIHVwZGF0ZWRBdCBPTiBjYXRlZ29yaWVzIFRZUEUgZGF0ZXRpbWUgREVGQVVMVCB0aW1lOjpub3coKTtcbiAgICAgICAgICBcbiAgICAgICAgICAtLSBTYXZpbmdzIGdvYWxzIHRhYmxlXG4gICAgICAgICAgREVGSU5FIFRBQkxFIHNhdmluZ3NfZ29hbHMgU0NIRU1BRlVMTDtcbiAgICAgICAgICBERUZJTkUgRklFTEQgdXNlcklkIE9OIHNhdmluZ3NfZ29hbHMgVFlQRSBzdHJpbmc7XG4gICAgICAgICAgREVGSU5FIEZJRUxEIG5hbWUgT04gc2F2aW5nc19nb2FscyBUWVBFIHN0cmluZztcbiAgICAgICAgICBERUZJTkUgRklFTEQgdGFyZ2V0QW1vdW50IE9OIHNhdmluZ3NfZ29hbHMgVFlQRSBudW1iZXI7XG4gICAgICAgICAgREVGSU5FIEZJRUxEIGN1cnJlbnRBbW91bnQgT04gc2F2aW5nc19nb2FscyBUWVBFIG51bWJlciBERUZBVUxUIDA7XG4gICAgICAgICAgREVGSU5FIEZJRUxEIHRhcmdldERhdGUgT04gc2F2aW5nc19nb2FscyBUWVBFIGRhdGV0aW1lO1xuICAgICAgICAgIERFRklORSBGSUVMRCBjcmVhdGVkQXQgT04gc2F2aW5nc19nb2FscyBUWVBFIGRhdGV0aW1lIERFRkFVTFQgdGltZTo6bm93KCk7XG4gICAgICAgICAgREVGSU5FIEZJRUxEIHVwZGF0ZWRBdCBPTiBzYXZpbmdzX2dvYWxzIFRZUEUgZGF0ZXRpbWUgREVGQVVMVCB0aW1lOjpub3coKTtcbiAgICAgICAgICBcbiAgICAgICAgICAtLSBCdWRnZXQgbGltaXRzIHRhYmxlXG4gICAgICAgICAgREVGSU5FIFRBQkxFIGJ1ZGdldF9saW1pdHMgU0NIRU1BRlVMTDtcbiAgICAgICAgICBERUZJTkUgRklFTEQgdXNlcklkIE9OIGJ1ZGdldF9saW1pdHMgVFlQRSBzdHJpbmc7XG4gICAgICAgICAgREVGSU5FIEZJRUxEIGNhdGVnb3J5SWQgT04gYnVkZ2V0X2xpbWl0cyBUWVBFIHN0cmluZztcbiAgICAgICAgICBERUZJTkUgRklFTEQgYW1vdW50IE9OIGJ1ZGdldF9saW1pdHMgVFlQRSBudW1iZXI7XG4gICAgICAgICAgREVGSU5FIEZJRUxEIHBlcmlvZCBPTiBidWRnZXRfbGltaXRzIFRZUEUgc3RyaW5nO1xuICAgICAgICAgIERFRklORSBGSUVMRCBpc0FjdGl2ZSBPTiBidWRnZXRfbGltaXRzIFRZUEUgYm9vbCBERUZBVUxUIHRydWU7XG4gICAgICAgICAgREVGSU5FIEZJRUxEIGNyZWF0ZWRBdCBPTiBidWRnZXRfbGltaXRzIFRZUEUgZGF0ZXRpbWUgREVGQVVMVCB0aW1lOjpub3coKTtcbiAgICAgICAgICBERUZJTkUgRklFTEQgdXBkYXRlZEF0IE9OIGJ1ZGdldF9saW1pdHMgVFlQRSBkYXRldGltZSBERUZBVUxUIHRpbWU6Om5vdygpO1xuICAgICAgICAgIFxuICAgICAgICAgIC0tIEluc2lnaHRzIHRhYmxlXG4gICAgICAgICAgREVGSU5FIFRBQkxFIGluc2lnaHRzIFNDSEVNQUZVTEw7XG4gICAgICAgICAgREVGSU5FIEZJRUxEIHVzZXJJZCBPTiBpbnNpZ2h0cyBUWVBFIHN0cmluZztcbiAgICAgICAgICBERUZJTkUgRklFTEQgdHlwZSBPTiBpbnNpZ2h0cyBUWVBFIHN0cmluZztcbiAgICAgICAgICBERUZJTkUgRklFTEQgdGl0bGUgT04gaW5zaWdodHMgVFlQRSBzdHJpbmc7XG4gICAgICAgICAgREVGSU5FIEZJRUxEIGRlc2NyaXB0aW9uIE9OIGluc2lnaHRzIFRZUEUgc3RyaW5nO1xuICAgICAgICAgIERFRklORSBGSUVMRCBkYXRhIE9OIGluc2lnaHRzIFRZUEUgb2JqZWN0O1xuICAgICAgICAgIERFRklORSBGSUVMRCBpc1JlYWQgT04gaW5zaWdodHMgVFlQRSBib29sIERFRkFVTFQgZmFsc2U7XG4gICAgICAgICAgREVGSU5FIEZJRUxEIGNyZWF0ZWRBdCBPTiBpbnNpZ2h0cyBUWVBFIGRhdGV0aW1lIERFRkFVTFQgdGltZTo6bm93KCk7XG4gICAgICAgICAgXG4gICAgICAgICAgLS0gQWxlcnRzIHRhYmxlXG4gICAgICAgICAgREVGSU5FIFRBQkxFIGFsZXJ0cyBTQ0hFTUFGVUxMO1xuICAgICAgICAgIERFRklORSBGSUVMRCB1c2VySWQgT04gYWxlcnRzIFRZUEUgc3RyaW5nO1xuICAgICAgICAgIERFRklORSBGSUVMRCB0eXBlIE9OIGFsZXJ0cyBUWVBFIHN0cmluZztcbiAgICAgICAgICBERUZJTkUgRklFTEQgdGl0bGUgT04gYWxlcnRzIFRZUEUgc3RyaW5nO1xuICAgICAgICAgIERFRklORSBGSUVMRCBtZXNzYWdlIE9OIGFsZXJ0cyBUWVBFIHN0cmluZztcbiAgICAgICAgICBERUZJTkUgRklFTEQgc2V2ZXJpdHkgT04gYWxlcnRzIFRZUEUgc3RyaW5nO1xuICAgICAgICAgIERFRklORSBGSUVMRCBpc1JlYWQgT04gYWxlcnRzIFRZUEUgYm9vbCBERUZBVUxUIGZhbHNlO1xuICAgICAgICAgIERFRklORSBGSUVMRCBjcmVhdGVkQXQgT04gYWxlcnRzIFRZUEUgZGF0ZXRpbWUgREVGQVVMVCB0aW1lOjpub3coKTtcbiAgICAgICAgICBcbiAgICAgICAgICAtLSBSZWN1cnJpbmcgZXhwZW5zZXMgdGFibGVcbiAgICAgICAgICBERUZJTkUgVEFCTEUgcmVjdXJyaW5nX2V4cGVuc2VzIFNDSEVNQUZVTEw7XG4gICAgICAgICAgREVGSU5FIEZJRUxEIHVzZXJJZCBPTiByZWN1cnJpbmdfZXhwZW5zZXMgVFlQRSBzdHJpbmc7XG4gICAgICAgICAgREVGSU5FIEZJRUxEIGFtb3VudCBPTiByZWN1cnJpbmdfZXhwZW5zZXMgVFlQRSBudW1iZXI7XG4gICAgICAgICAgREVGSU5FIEZJRUxEIGRlc2NyaXB0aW9uIE9OIHJlY3VycmluZ19leHBlbnNlcyBUWVBFIHN0cmluZztcbiAgICAgICAgICBERUZJTkUgRklFTEQgY2F0ZWdvcnlJZCBPTiByZWN1cnJpbmdfZXhwZW5zZXMgVFlQRSBzdHJpbmc7XG4gICAgICAgICAgREVGSU5FIEZJRUxEIGZyZXF1ZW5jeSBPTiByZWN1cnJpbmdfZXhwZW5zZXMgVFlQRSBzdHJpbmc7XG4gICAgICAgICAgREVGSU5FIEZJRUxEIG5leHREdWVEYXRlIE9OIHJlY3VycmluZ19leHBlbnNlcyBUWVBFIGRhdGV0aW1lO1xuICAgICAgICAgIERFRklORSBGSUVMRCBpc0FjdGl2ZSBPTiByZWN1cnJpbmdfZXhwZW5zZXMgVFlQRSBib29sIERFRkFVTFQgdHJ1ZTtcbiAgICAgICAgICBERUZJTkUgRklFTEQgY3JlYXRlZEF0IE9OIHJlY3VycmluZ19leHBlbnNlcyBUWVBFIGRhdGV0aW1lIERFRkFVTFQgdGltZTo6bm93KCk7XG4gICAgICAgICAgREVGSU5FIEZJRUxEIHVwZGF0ZWRBdCBPTiByZWN1cnJpbmdfZXhwZW5zZXMgVFlQRSBkYXRldGltZSBERUZBVUxUIHRpbWU6Om5vdygpO1xuICAgICAgICAgIFxuICAgICAgICAgIC0tIFByb2ZpbGVzIHRhYmxlXG4gICAgICAgICAgREVGSU5FIFRBQkxFIHByb2ZpbGVzIFNDSEVNQUZVTEw7XG4gICAgICAgICAgREVGSU5FIEZJRUxEIHVzZXJJZCBPTiBwcm9maWxlcyBUWVBFIHN0cmluZztcbiAgICAgICAgICBERUZJTkUgRklFTEQgbmFtZSBPTiBwcm9maWxlcyBUWVBFIHN0cmluZztcbiAgICAgICAgICBERUZJTkUgRklFTEQgcm9sZSBPTiBwcm9maWxlcyBUWVBFIHN0cmluZztcbiAgICAgICAgICBERUZJTkUgRklFTEQgcGVybWlzc2lvbnMgT04gcHJvZmlsZXMgVFlQRSBvYmplY3Q7XG4gICAgICAgICAgREVGSU5FIEZJRUxEIGNyZWF0ZWRBdCBPTiBwcm9maWxlcyBUWVBFIGRhdGV0aW1lIERFRkFVTFQgdGltZTo6bm93KCk7XG4gICAgICAgICAgREVGSU5FIEZJRUxEIHVwZGF0ZWRBdCBPTiBwcm9maWxlcyBUWVBFIGRhdGV0aW1lIERFRkFVTFQgdGltZTo6bm93KCk7XG4gICAgICAgICAgXG4gICAgICAgICAgLS0gQWNoaWV2ZW1lbnRzIHRhYmxlXG4gICAgICAgICAgREVGSU5FIFRBQkxFIGFjaGlldmVtZW50cyBTQ0hFTUFGVUxMO1xuICAgICAgICAgIERFRklORSBGSUVMRCB1c2VySWQgT04gYWNoaWV2ZW1lbnRzIFRZUEUgc3RyaW5nO1xuICAgICAgICAgIERFRklORSBGSUVMRCBuYW1lIE9OIGFjaGlldmVtZW50cyBUWVBFIHN0cmluZztcbiAgICAgICAgICBERUZJTkUgRklFTEQgZGVzY3JpcHRpb24gT04gYWNoaWV2ZW1lbnRzIFRZUEUgc3RyaW5nO1xuICAgICAgICAgIERFRklORSBGSUVMRCBpY29uIE9OIGFjaGlldmVtZW50cyBUWVBFIHN0cmluZztcbiAgICAgICAgICBERUZJTkUgRklFTEQgcHJvZ3Jlc3MgT04gYWNoaWV2ZW1lbnRzIFRZUEUgbnVtYmVyIERFRkFVTFQgMDtcbiAgICAgICAgICBERUZJTkUgRklFTEQgbWF4UHJvZ3Jlc3MgT04gYWNoaWV2ZW1lbnRzIFRZUEUgbnVtYmVyO1xuICAgICAgICAgIERFRklORSBGSUVMRCBpc1VubG9ja2VkIE9OIGFjaGlldmVtZW50cyBUWVBFIGJvb2wgREVGQVVMVCBmYWxzZTtcbiAgICAgICAgICBERUZJTkUgRklFTEQgdW5sb2NrZWRBdCBPTiBhY2hpZXZlbWVudHMgVFlQRSBkYXRldGltZTtcbiAgICAgICAgICBERUZJTkUgRklFTEQgY3JlYXRlZEF0IE9OIGFjaGlldmVtZW50cyBUWVBFIGRhdGV0aW1lIERFRkFVTFQgdGltZTo6bm93KCk7XG4gICAgICAgICAgXG4gICAgICAgICAgLS0gQmFja3VwIGhpc3RvcnkgdGFibGVcbiAgICAgICAgICBERUZJTkUgVEFCTEUgYmFja3VwX2hpc3RvcnkgU0NIRU1BRlVMTDtcbiAgICAgICAgICBERUZJTkUgRklFTEQgdXNlcklkIE9OIGJhY2t1cF9oaXN0b3J5IFRZUEUgc3RyaW5nO1xuICAgICAgICAgIERFRklORSBGSUVMRCB0eXBlIE9OIGJhY2t1cF9oaXN0b3J5IFRZUEUgc3RyaW5nO1xuICAgICAgICAgIERFRklORSBGSUVMRCBzdGF0dXMgT04gYmFja3VwX2hpc3RvcnkgVFlQRSBzdHJpbmc7XG4gICAgICAgICAgREVGSU5FIEZJRUxEIGZpbGVTaXplIE9OIGJhY2t1cF9oaXN0b3J5IFRZUEUgbnVtYmVyO1xuICAgICAgICAgIERFRklORSBGSUVMRCBjcmVhdGVkQXQgT04gYmFja3VwX2hpc3RvcnkgVFlQRSBkYXRldGltZSBERUZBVUxUIHRpbWU6Om5vdygpO1xuICAgICAgICBgKVxuICAgICAgICBjb25zb2xlLmxvZygn4pyFIERhdGFiYXNlIHNjaGVtYSBpbml0aWFsaXplZCcpXG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAvLyBIYW5kbGUgXCJ0YWJsZSBhbHJlYWR5IGV4aXN0c1wiIGVycm9yIGdyYWNlZnVsbHlcbiAgICAgICAgaWYgKGVycm9yLm1lc3NhZ2UgJiYgZXJyb3IubWVzc2FnZS5pbmNsdWRlcygnYWxyZWFkeSBleGlzdHMnKSkge1xuICAgICAgICAgIGNvbnNvbGUubG9nKCfihLnvuI8gU2NoZW1hIGFscmVhZHkgZXhpc3RzLCBza2lwcGluZyBpbml0aWFsaXphdGlvbicpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcign4p2MIEZhaWxlZCB0byBpbml0aWFsaXplIHNjaGVtYTonLCBlcnJvcilcbiAgICAgICAgICB0aHJvdyBlcnJvclxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBFcnJvciBpbiBpbml0aWFsaXplU2NoZW1hOicsIGVycm9yKVxuICAgICAgdGhyb3cgZXJyb3JcbiAgICB9XG4gIH1cblxuICBhc3luYyBkaXNjb25uZWN0KCk6IFByb21pc2U8dm9pZD4ge1xuICAgIGlmICh0aGlzLmlzQ29ubmVjdGVkKSB7XG4gICAgICBhd2FpdCB0aGlzLmRiLmNsb3NlKClcbiAgICAgIHRoaXMuaXNDb25uZWN0ZWQgPSBmYWxzZVxuICAgICAgY29uc29sZS5sb2coJ/CflIwgRGlzY29ubmVjdGVkIGZyb20gU3VycmVhbERCJylcbiAgICB9XG4gIH1cblxuICAvLyBVc2VyIG9wZXJhdGlvbnNcbiAgYXN5bmMgY3JlYXRlVXNlcih1c2VyRGF0YTogYW55KTogUHJvbWlzZTxhbnk+IHtcbiAgICBhd2FpdCB0aGlzLmNvbm5lY3QoKVxuICAgIFxuICAgIC8vIEVuc3VyZSByZXF1aXJlZCBmaWVsZHMgaGF2ZSBkZWZhdWx0IHZhbHVlc1xuICAgIGNvbnN0IGRlZmF1bHRVc2VyRGF0YSA9IHtcbiAgICAgIHByZWZlcmVuY2VzOiB7XG4gICAgICAgIGN1cnJlbmN5OiAn4oK5JyxcbiAgICAgICAgdGhlbWU6ICdsaWdodCcsXG4gICAgICAgIG5vdGlmaWNhdGlvbnM6IHRydWUsXG4gICAgICAgIGRlZmF1bHRQYXltZW50TWV0aG9kOiAnY2FzaCcsXG4gICAgICAgIGJ1ZGdldExpbWl0czogW10sXG4gICAgICAgIGFsZXJ0U2V0dGluZ3M6IHtcbiAgICAgICAgICBvdmVyc3BlbmRpbmdBbGVydHM6IHRydWUsXG4gICAgICAgICAgYnVkZ2V0TGltaXRBbGVydHM6IHRydWUsXG4gICAgICAgICAgc2F2aW5nc0dvYWxBbGVydHM6IHRydWUsXG4gICAgICAgICAgd2Vla2x5SW5zaWdodHM6IHRydWUsXG4gICAgICAgICAgZW1haWxOb3RpZmljYXRpb25zOiBmYWxzZSxcbiAgICAgICAgICBwdXNoTm90aWZpY2F0aW9uczogdHJ1ZVxuICAgICAgICB9LFxuICAgICAgICBnYW1pZmljYXRpb25FbmFibGVkOiB0cnVlLFxuICAgICAgICBhdXRvQmFja3VwRW5hYmxlZDogZmFsc2UsXG4gICAgICAgIGNsb3VkU3luY0VuYWJsZWQ6IGZhbHNlLFxuICAgICAgICByZWNlaXB0U2Nhbm5pbmdFbmFibGVkOiBmYWxzZVxuICAgICAgfSxcbiAgICAgIHByb2ZpbGVzOiBbXSxcbiAgICAgIGFjdGl2ZVByb2ZpbGVJZDogJycsXG4gICAgICBzZWN1cml0eVNldHRpbmdzOiB7XG4gICAgICAgIHBpbkVuYWJsZWQ6IGZhbHNlLFxuICAgICAgICBiaW9tZXRyaWNFbmFibGVkOiBmYWxzZSxcbiAgICAgICAgYXV0b0xvY2tUaW1lb3V0OiA1LFxuICAgICAgICByZXF1aXJlQXV0aEZvckV4cG9ydDogdHJ1ZSxcbiAgICAgICAgcmVxdWlyZUF1dGhGb3JTZXR0aW5nczogZmFsc2VcbiAgICAgIH0sXG4gICAgICBhY2hpZXZlbWVudHM6IFtdLFxuICAgICAgc3RyZWFrczoge1xuICAgICAgICBjdXJyZW50U3RyZWFrOiAwLFxuICAgICAgICBsb25nZXN0U3RyZWFrOiAwLFxuICAgICAgICBub1NwZW5kRGF5czogMCxcbiAgICAgICAgdG90YWxOb1NwZW5kRGF5czogMCxcbiAgICAgICAgY3VycmVudE5vU3BlbmRTdHJlYWs6IDAsXG4gICAgICAgIGxvbmdlc3ROb1NwZW5kU3RyZWFrOiAwXG4gICAgICB9LFxuICAgICAgLi4udXNlckRhdGFcbiAgICB9XG4gICAgXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5kYi5xdWVyeSgnVVNFIE5TIHJ1cGVlIERCIGZpbmFuY2U7IENSRUFURSB1c2VycyBDT05URU5UICR1c2VyRGF0YScsIHsgdXNlckRhdGE6IGRlZmF1bHRVc2VyRGF0YSB9KVxuICAgIGNvbnN0IHVzZXIgPSByZXN1bHRbMV0/LlswXSB8fCByZXN1bHRbMF0/LnJlc3VsdD8uWzBdXG4gICAgXG4gICAgLy8gUmV0dXJuIHVzZXIgd2l0aCBJRCBhcyBzdHJpbmcsIG5vdCByZWNvcmQgcmVmZXJlbmNlXG4gICAgaWYgKHVzZXIgJiYgdXNlci5pZCkge1xuICAgICAgaWYgKHR5cGVvZiB1c2VyLmlkID09PSAnb2JqZWN0JyAmJiB1c2VyLmlkLmlkKSB7XG4gICAgICAgIC8vIEhhbmRsZSBfUmVjb3JkSWQgb2JqZWN0XG4gICAgICAgIHVzZXIuaWQgPSB1c2VyLmlkLmlkXG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiB1c2VyLmlkID09PSAnc3RyaW5nJyAmJiB1c2VyLmlkLmluY2x1ZGVzKCc6JykpIHtcbiAgICAgICAgLy8gSGFuZGxlIHN0cmluZyByZWNvcmQgcmVmZXJlbmNlXG4gICAgICAgIHVzZXIuaWQgPSB1c2VyLmlkLnNwbGl0KCc6JylbMV0gfHwgdXNlci5pZFxuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICByZXR1cm4gdXNlclxuICB9XG5cbiAgYXN5bmMgZ2V0VXNlcih1c2VySWQ6IHN0cmluZyk6IFByb21pc2U8YW55PiB7XG4gICAgYXdhaXQgdGhpcy5jb25uZWN0KClcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLmRiLnF1ZXJ5KCdVU0UgTlMgcnVwZWUgREIgZmluYW5jZTsgU0VMRUNUICogRlJPTSB1c2VycyBXSEVSRSBpZCA9ICR1c2VySWQnLCB7IHVzZXJJZCB9KVxuICAgIHJldHVybiByZXN1bHRbMV0/LlswXSB8fCByZXN1bHRbMF0/LnJlc3VsdD8uWzBdXG4gIH1cblxuICBhc3luYyB1cGRhdGVVc2VyKHVzZXJJZDogc3RyaW5nLCB1c2VyRGF0YTogYW55KTogUHJvbWlzZTxhbnk+IHtcbiAgICBhd2FpdCB0aGlzLmNvbm5lY3QoKVxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMuZGIucXVlcnkoJ1VTRSBOUyBydXBlZSBEQiBmaW5hbmNlOyBVUERBVEUgdXNlcnMgU0VUICogPSAkdXNlckRhdGEgV0hFUkUgaWQgPSAkdXNlcklkJywgeyB1c2VySWQsIHVzZXJEYXRhIH0pXG4gICAgcmV0dXJuIHJlc3VsdFsxXT8uWzBdIHx8IHJlc3VsdFswXT8ucmVzdWx0Py5bMF1cbiAgfVxuXG4gIGFzeW5jIGRlbGV0ZVVzZXIodXNlcklkOiBzdHJpbmcpOiBQcm9taXNlPGFueT4ge1xuICAgIGF3YWl0IHRoaXMuY29ubmVjdCgpXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5kYi5xdWVyeSgnVVNFIE5TIHJ1cGVlIERCIGZpbmFuY2U7IERFTEVURSB1c2VycyBXSEVSRSBpZCA9ICR1c2VySWQnLCB7IHVzZXJJZCB9KVxuICAgIHJldHVybiByZXN1bHRbMV0/LlswXSB8fCByZXN1bHRbMF0/LnJlc3VsdD8uWzBdXG4gIH1cblxuICBhc3luYyBmaXhVc2VyRmllbGRzKHVzZXJJZDogc3RyaW5nKTogUHJvbWlzZTxhbnk+IHtcbiAgICBhd2FpdCB0aGlzLmNvbm5lY3QoKVxuICAgIFxuICAgIC8vIEZpeCB1c2VycyB3aXRoIE5PTkUgdmFsdWVzIGZvciByZXF1aXJlZCBmaWVsZHNcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLmRiLnF1ZXJ5KGBcbiAgICAgIFVTRSBOUyBydXBlZSBEQiBmaW5hbmNlO1xuICAgICAgVVBEQVRFIHVzZXJzIFNFVCBcbiAgICAgICAgYWNoaWV2ZW1lbnRzID0gW10gV0hFUkUgaWQgPSAkdXNlcklkIEFORCBhY2hpZXZlbWVudHMgPSBOT05FO1xuICAgICAgVVBEQVRFIHVzZXJzIFNFVCBcbiAgICAgICAgc3RyZWFrcyA9IHtcbiAgICAgICAgICBjdXJyZW50U3RyZWFrOiAwLFxuICAgICAgICAgIGxvbmdlc3RTdHJlYWs6IDAsXG4gICAgICAgICAgbm9TcGVuZERheXM6IDAsXG4gICAgICAgICAgdG90YWxOb1NwZW5kRGF5czogMCxcbiAgICAgICAgICBjdXJyZW50Tm9TcGVuZFN0cmVhazogMCxcbiAgICAgICAgICBsb25nZXN0Tm9TcGVuZFN0cmVhazogMFxuICAgICAgICB9IFdIRVJFIGlkID0gJHVzZXJJZCBBTkQgc3RyZWFrcyA9IE5PTkU7XG4gICAgICBVUERBVEUgdXNlcnMgU0VUIFxuICAgICAgICBwcm9maWxlcyA9IFtdIFdIRVJFIGlkID0gJHVzZXJJZCBBTkQgcHJvZmlsZXMgPSBOT05FO1xuICAgICAgVVBEQVRFIHVzZXJzIFNFVCBcbiAgICAgICAgYWN0aXZlUHJvZmlsZUlkID0gJycgV0hFUkUgaWQgPSAkdXNlcklkIEFORCBhY3RpdmVQcm9maWxlSWQgPSBOT05FO1xuICAgICAgVVBEQVRFIHVzZXJzIFNFVCBcbiAgICAgICAgc2VjdXJpdHlTZXR0aW5ncyA9IHtcbiAgICAgICAgICBwaW5FbmFibGVkOiBmYWxzZSxcbiAgICAgICAgICBiaW9tZXRyaWNFbmFibGVkOiBmYWxzZSxcbiAgICAgICAgICBhdXRvTG9ja1RpbWVvdXQ6IDUsXG4gICAgICAgICAgcmVxdWlyZUF1dGhGb3JFeHBvcnQ6IHRydWUsXG4gICAgICAgICAgcmVxdWlyZUF1dGhGb3JTZXR0aW5nczogZmFsc2VcbiAgICAgICAgfSBXSEVSRSBpZCA9ICR1c2VySWQgQU5EIHNlY3VyaXR5U2V0dGluZ3MgPSBOT05FO1xuICAgIGAsIHsgdXNlcklkIH0pXG4gICAgXG4gICAgcmV0dXJuIHJlc3VsdFsxXT8uWzBdIHx8IHJlc3VsdFswXT8ucmVzdWx0Py5bMF1cbiAgfVxuXG4gIGFzeW5jIGZpeEFsbFVzZXJzKCk6IFByb21pc2U8YW55PiB7XG4gICAgYXdhaXQgdGhpcy5jb25uZWN0KClcbiAgICBcbiAgICAvLyBGaXggYWxsIHVzZXJzIHdpdGggTk9ORSB2YWx1ZXMgZm9yIHJlcXVpcmVkIGZpZWxkc1xuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMuZGIucXVlcnkoYFxuICAgICAgVVNFIE5TIHJ1cGVlIERCIGZpbmFuY2U7XG4gICAgICBVUERBVEUgdXNlcnMgU0VUIFxuICAgICAgICBhY2hpZXZlbWVudHMgPSBbXSBXSEVSRSBhY2hpZXZlbWVudHMgPSBOT05FO1xuICAgICAgVVBEQVRFIHVzZXJzIFNFVCBcbiAgICAgICAgc3RyZWFrcyA9IHtcbiAgICAgICAgICBjdXJyZW50U3RyZWFrOiAwLFxuICAgICAgICAgIGxvbmdlc3RTdHJlYWs6IDAsXG4gICAgICAgICAgbm9TcGVuZERheXM6IDAsXG4gICAgICAgICAgdG90YWxOb1NwZW5kRGF5czogMCxcbiAgICAgICAgICBjdXJyZW50Tm9TcGVuZFN0cmVhazogMCxcbiAgICAgICAgICBsb25nZXN0Tm9TcGVuZFN0cmVhazogMFxuICAgICAgICB9IFdIRVJFIHN0cmVha3MgPSBOT05FO1xuICAgICAgVVBEQVRFIHVzZXJzIFNFVCBcbiAgICAgICAgcHJvZmlsZXMgPSBbXSBXSEVSRSBwcm9maWxlcyA9IE5PTkU7XG4gICAgICBVUERBVEUgdXNlcnMgU0VUIFxuICAgICAgICBhY3RpdmVQcm9maWxlSWQgPSAnJyBXSEVSRSBhY3RpdmVQcm9maWxlSWQgPSBOT05FO1xuICAgICAgVVBEQVRFIHVzZXJzIFNFVCBcbiAgICAgICAgc2VjdXJpdHlTZXR0aW5ncyA9IHtcbiAgICAgICAgICBwaW5FbmFibGVkOiBmYWxzZSxcbiAgICAgICAgICBiaW9tZXRyaWNFbmFibGVkOiBmYWxzZSxcbiAgICAgICAgICBhdXRvTG9ja1RpbWVvdXQ6IDUsXG4gICAgICAgICAgcmVxdWlyZUF1dGhGb3JFeHBvcnQ6IHRydWUsXG4gICAgICAgICAgcmVxdWlyZUF1dGhGb3JTZXR0aW5nczogZmFsc2VcbiAgICAgICAgfSBXSEVSRSBzZWN1cml0eVNldHRpbmdzID0gTk9ORTtcbiAgICBgKVxuICAgIFxuICAgIHJldHVybiByZXN1bHRbMV0gfHwgcmVzdWx0WzBdPy5yZXN1bHQgfHwgW11cbiAgfVxuXG4gIGFzeW5jIGZpeERhdGVGaWVsZHMoKTogUHJvbWlzZTxhbnk+IHtcbiAgICBhd2FpdCB0aGlzLmNvbm5lY3QoKVxuICAgIFxuICAgIC8vIEZpeCBleHBlbnNlcyB3aXRoIHN0cmluZyBkYXRlcyBieSBjb252ZXJ0aW5nIHRoZW0gdG8gZGF0ZXRpbWVcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLmRiLnF1ZXJ5KGBcbiAgICAgIFVTRSBOUyBydXBlZSBEQiBmaW5hbmNlO1xuICAgICAgVVBEQVRFIGV4cGVuc2VzIFNFVCBcbiAgICAgICAgZGF0ZSA9IHRpbWU6OnBhcnNlKGRhdGUpIFdIRVJFIHR5cGU6Om9mKGRhdGUpID0gJ3N0cmluZyc7XG4gICAgICBVUERBVEUgaW5jb21lcyBTRVQgXG4gICAgICAgIGRhdGUgPSB0aW1lOjpwYXJzZShkYXRlKSBXSEVSRSB0eXBlOjpvZihkYXRlKSA9ICdzdHJpbmcnO1xuICAgICAgVVBEQVRFIHNhdmluZ3NfZ29hbHMgU0VUIFxuICAgICAgICB0YXJnZXREYXRlID0gdGltZTo6cGFyc2UodGFyZ2V0RGF0ZSkgV0hFUkUgdHlwZTo6b2YodGFyZ2V0RGF0ZSkgPSAnc3RyaW5nJztcbiAgICAgIFVQREFURSByZWN1cnJpbmdfZXhwZW5zZXMgU0VUIFxuICAgICAgICBuZXh0RHVlRGF0ZSA9IHRpbWU6OnBhcnNlKG5leHREdWVEYXRlKSBXSEVSRSB0eXBlOjpvZihuZXh0RHVlRGF0ZSkgPSAnc3RyaW5nJztcbiAgICBgKVxuICAgIFxuICAgIHJldHVybiByZXN1bHRbMV0gfHwgcmVzdWx0WzBdPy5yZXN1bHQgfHwgW11cbiAgfVxuXG4gIGFzeW5jIGZpeERhdGVGaWVsZHNTaW1wbGUoKTogUHJvbWlzZTxhbnk+IHtcbiAgICBhd2FpdCB0aGlzLmNvbm5lY3QoKVxuICAgIFxuICAgIC8vIEdldCBhbGwgZXhwZW5zZXMgYW5kIGNoZWNrIGlmIHRoZXkgaGF2ZSBzdHJpbmcgZGF0ZXNcbiAgICBjb25zdCBleHBlbnNlcyA9IGF3YWl0IHRoaXMuZGIucXVlcnkoYFxuICAgICAgVVNFIE5TIHJ1cGVlIERCIGZpbmFuY2U7XG4gICAgICBTRUxFQ1QgKiBGUk9NIGV4cGVuc2VzO1xuICAgIGApXG4gICAgXG4gICAgaWYgKGV4cGVuc2VzWzFdICYmIGV4cGVuc2VzWzFdLmxlbmd0aCA+IDApIHtcbiAgICAgIGZvciAoY29uc3QgZXhwZW5zZSBvZiBleHBlbnNlc1sxXSkge1xuICAgICAgICAvLyBDaGVjayBpZiB0aGUgZGF0ZSBpcyBhIHN0cmluZyAobm90IGEgZGF0ZXRpbWUgb2JqZWN0KVxuICAgICAgICBpZiAodHlwZW9mIGV4cGVuc2UuZGF0ZSA9PT0gJ3N0cmluZycgJiYgZXhwZW5zZS5kYXRlLmluY2x1ZGVzKCdUJykpIHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5kYi5xdWVyeShgXG4gICAgICAgICAgICAgIFVTRSBOUyBydXBlZSBEQiBmaW5hbmNlO1xuICAgICAgICAgICAgICBVUERBVEUgJHtleHBlbnNlLmlkfSBTRVQgZGF0ZSA9IHRpbWU6OnBhcnNlKCcke2V4cGVuc2UuZGF0ZX0nKTtcbiAgICAgICAgICAgIGApXG4gICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihgQ291bGQgbm90IGZpeCBkYXRlIGZvciBleHBlbnNlICR7ZXhwZW5zZS5pZH06YCwgZXJyb3IpXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIC8vIEdldCBhbGwgaW5jb21lcyBhbmQgY2hlY2sgaWYgdGhleSBoYXZlIHN0cmluZyBkYXRlc1xuICAgIGNvbnN0IGluY29tZXMgPSBhd2FpdCB0aGlzLmRiLnF1ZXJ5KGBcbiAgICAgIFVTRSBOUyBydXBlZSBEQiBmaW5hbmNlO1xuICAgICAgU0VMRUNUICogRlJPTSBpbmNvbWVzO1xuICAgIGApXG4gICAgXG4gICAgaWYgKGluY29tZXNbMV0gJiYgaW5jb21lc1sxXS5sZW5ndGggPiAwKSB7XG4gICAgICBmb3IgKGNvbnN0IGluY29tZSBvZiBpbmNvbWVzWzFdKSB7XG4gICAgICAgIC8vIENoZWNrIGlmIHRoZSBkYXRlIGlzIGEgc3RyaW5nIChub3QgYSBkYXRldGltZSBvYmplY3QpXG4gICAgICAgIGlmICh0eXBlb2YgaW5jb21lLmRhdGUgPT09ICdzdHJpbmcnICYmIGluY29tZS5kYXRlLmluY2x1ZGVzKCdUJykpIHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5kYi5xdWVyeShgXG4gICAgICAgICAgICAgIFVTRSBOUyBydXBlZSBEQiBmaW5hbmNlO1xuICAgICAgICAgICAgICBVUERBVEUgJHtpbmNvbWUuaWR9IFNFVCBkYXRlID0gdGltZTo6cGFyc2UoJyR7aW5jb21lLmRhdGV9Jyk7XG4gICAgICAgICAgICBgKVxuICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oYENvdWxkIG5vdCBmaXggZGF0ZSBmb3IgaW5jb21lICR7aW5jb21lLmlkfTpgLCBlcnJvcilcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSB9XG4gIH1cblxuICBhc3luYyBmaXhSZWNvcmRSZWZlcmVuY2VzKCk6IFByb21pc2U8YW55PiB7XG4gICAgYXdhaXQgdGhpcy5jb25uZWN0KClcbiAgICBcbiAgICAvLyBGaXggZXhwZW5zZXMgd2l0aCByZWNvcmQgcmVmZXJlbmNlcyBpbnN0ZWFkIG9mIHN0cmluZyBJRHNcbiAgICBjb25zdCBleHBlbnNlcyA9IGF3YWl0IHRoaXMuZGIucXVlcnkoYFxuICAgICAgVVNFIE5TIHJ1cGVlIERCIGZpbmFuY2U7XG4gICAgICBTRUxFQ1QgKiBGUk9NIGV4cGVuc2VzO1xuICAgIGApXG4gICAgXG4gICAgaWYgKGV4cGVuc2VzWzFdICYmIGV4cGVuc2VzWzFdLmxlbmd0aCA+IDApIHtcbiAgICAgIGZvciAoY29uc3QgZXhwZW5zZSBvZiBleHBlbnNlc1sxXSkge1xuICAgICAgICAvLyBDaGVjayBpZiB1c2VySWQgaXMgYSByZWNvcmQgcmVmZXJlbmNlIG9yIF9SZWNvcmRJZCBvYmplY3RcbiAgICAgICAgaWYgKGV4cGVuc2UudXNlcklkKSB7XG4gICAgICAgICAgbGV0IHVzZXJJZCA9IGV4cGVuc2UudXNlcklkXG4gICAgICAgICAgbGV0IG5lZWRzRml4ID0gZmFsc2VcbiAgICAgICAgICBcbiAgICAgICAgICBpZiAodHlwZW9mIGV4cGVuc2UudXNlcklkID09PSAnb2JqZWN0JyAmJiBleHBlbnNlLnVzZXJJZC5pZCkge1xuICAgICAgICAgICAgLy8gSGFuZGxlIF9SZWNvcmRJZCBvYmplY3RcbiAgICAgICAgICAgIHVzZXJJZCA9IGV4cGVuc2UudXNlcklkLmlkXG4gICAgICAgICAgICBuZWVkc0ZpeCA9IHRydWVcbiAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBleHBlbnNlLnVzZXJJZCA9PT0gJ3N0cmluZycgJiYgZXhwZW5zZS51c2VySWQuaW5jbHVkZXMoJzonKSkge1xuICAgICAgICAgICAgLy8gSGFuZGxlIHN0cmluZyByZWNvcmQgcmVmZXJlbmNlXG4gICAgICAgICAgICB1c2VySWQgPSBleHBlbnNlLnVzZXJJZC5zcGxpdCgnOicpWzFdXG4gICAgICAgICAgICBuZWVkc0ZpeCA9IHRydWVcbiAgICAgICAgICB9XG4gICAgICAgICAgXG4gICAgICAgICAgaWYgKG5lZWRzRml4KSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBhd2FpdCB0aGlzLmRiLnF1ZXJ5KGBcbiAgICAgICAgICAgICAgICBVU0UgTlMgcnVwZWUgREIgZmluYW5jZTtcbiAgICAgICAgICAgICAgICBVUERBVEUgJHtleHBlbnNlLmlkfSBTRVQgdXNlcklkID0gJyR7dXNlcklkfSc7XG4gICAgICAgICAgICAgIGApXG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKGBGaXhlZCB1c2VySWQgZm9yIGV4cGVuc2UgJHtleHBlbnNlLmlkfTogJHtleHBlbnNlLnVzZXJJZH0gLT4gJHt1c2VySWR9YClcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUud2FybihgQ291bGQgbm90IGZpeCB1c2VySWQgZm9yIGV4cGVuc2UgJHtleHBlbnNlLmlkfTpgLCBlcnJvcilcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIEFsc28gY2hlY2sgY2F0ZWdvcnlJZCBpZiBpdCdzIGEgcmVjb3JkIHJlZmVyZW5jZVxuICAgICAgICBpZiAoZXhwZW5zZS5jYXRlZ29yeUlkICYmIHR5cGVvZiBleHBlbnNlLmNhdGVnb3J5SWQgPT09ICdzdHJpbmcnICYmIGV4cGVuc2UuY2F0ZWdvcnlJZC5pbmNsdWRlcygnOicpKSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGNhdGVnb3J5SWQgPSBleHBlbnNlLmNhdGVnb3J5SWQuc3BsaXQoJzonKVsxXVxuICAgICAgICAgICAgYXdhaXQgdGhpcy5kYi5xdWVyeShgXG4gICAgICAgICAgICAgIFVTRSBOUyBydXBlZSBEQiBmaW5hbmNlO1xuICAgICAgICAgICAgICBVUERBVEUgJHtleHBlbnNlLmlkfSBTRVQgY2F0ZWdvcnlJZCA9ICcke2NhdGVnb3J5SWR9JztcbiAgICAgICAgICAgIGApXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgRml4ZWQgY2F0ZWdvcnlJZCBmb3IgZXhwZW5zZSAke2V4cGVuc2UuaWR9OiAke2V4cGVuc2UuY2F0ZWdvcnlJZH0gLT4gJHtjYXRlZ29yeUlkfWApXG4gICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihgQ291bGQgbm90IGZpeCBjYXRlZ29yeUlkIGZvciBleHBlbnNlICR7ZXhwZW5zZS5pZH06YCwgZXJyb3IpXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIC8vIEZpeCBpbmNvbWVzIHdpdGggcmVjb3JkIHJlZmVyZW5jZXMgaW5zdGVhZCBvZiBzdHJpbmcgSURzXG4gICAgY29uc3QgaW5jb21lcyA9IGF3YWl0IHRoaXMuZGIucXVlcnkoYFxuICAgICAgVVNFIE5TIHJ1cGVlIERCIGZpbmFuY2U7XG4gICAgICBTRUxFQ1QgKiBGUk9NIGluY29tZXM7XG4gICAgYClcbiAgICBcbiAgICBpZiAoaW5jb21lc1sxXSAmJiBpbmNvbWVzWzFdLmxlbmd0aCA+IDApIHtcbiAgICAgIGZvciAoY29uc3QgaW5jb21lIG9mIGluY29tZXNbMV0pIHtcbiAgICAgICAgLy8gQ2hlY2sgaWYgdXNlcklkIGlzIGEgcmVjb3JkIHJlZmVyZW5jZSBvciBfUmVjb3JkSWQgb2JqZWN0XG4gICAgICAgIGlmIChpbmNvbWUudXNlcklkKSB7XG4gICAgICAgICAgbGV0IHVzZXJJZCA9IGluY29tZS51c2VySWRcbiAgICAgICAgICBsZXQgbmVlZHNGaXggPSBmYWxzZVxuICAgICAgICAgIFxuICAgICAgICAgIGlmICh0eXBlb2YgaW5jb21lLnVzZXJJZCA9PT0gJ29iamVjdCcgJiYgaW5jb21lLnVzZXJJZC5pZCkge1xuICAgICAgICAgICAgLy8gSGFuZGxlIF9SZWNvcmRJZCBvYmplY3RcbiAgICAgICAgICAgIHVzZXJJZCA9IGluY29tZS51c2VySWQuaWRcbiAgICAgICAgICAgIG5lZWRzRml4ID0gdHJ1ZVxuICAgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGluY29tZS51c2VySWQgPT09ICdzdHJpbmcnICYmIGluY29tZS51c2VySWQuaW5jbHVkZXMoJzonKSkge1xuICAgICAgICAgICAgLy8gSGFuZGxlIHN0cmluZyByZWNvcmQgcmVmZXJlbmNlXG4gICAgICAgICAgICB1c2VySWQgPSBpbmNvbWUudXNlcklkLnNwbGl0KCc6JylbMV1cbiAgICAgICAgICAgIG5lZWRzRml4ID0gdHJ1ZVxuICAgICAgICAgIH1cbiAgICAgICAgICBcbiAgICAgICAgICBpZiAobmVlZHNGaXgpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIGF3YWl0IHRoaXMuZGIucXVlcnkoYFxuICAgICAgICAgICAgICAgIFVTRSBOUyBydXBlZSBEQiBmaW5hbmNlO1xuICAgICAgICAgICAgICAgIFVQREFURSAke2luY29tZS5pZH0gU0VUIHVzZXJJZCA9ICcke3VzZXJJZH0nO1xuICAgICAgICAgICAgICBgKVxuICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgRml4ZWQgdXNlcklkIGZvciBpbmNvbWUgJHtpbmNvbWUuaWR9OiAke2luY29tZS51c2VySWR9IC0+ICR7dXNlcklkfWApXG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICBjb25zb2xlLndhcm4oYENvdWxkIG5vdCBmaXggdXNlcklkIGZvciBpbmNvbWUgJHtpbmNvbWUuaWR9OmAsIGVycm9yKVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICAvLyBGaXggY2F0ZWdvcmllcyB3aXRoIHJlY29yZCByZWZlcmVuY2VzXG4gICAgY29uc3QgY2F0ZWdvcmllcyA9IGF3YWl0IHRoaXMuZGIucXVlcnkoYFxuICAgICAgVVNFIE5TIHJ1cGVlIERCIGZpbmFuY2U7XG4gICAgICBTRUxFQ1QgKiBGUk9NIGNhdGVnb3JpZXM7XG4gICAgYClcbiAgICBcbiAgICBpZiAoY2F0ZWdvcmllc1sxXSAmJiBjYXRlZ29yaWVzWzFdLmxlbmd0aCA+IDApIHtcbiAgICAgIGZvciAoY29uc3QgY2F0ZWdvcnkgb2YgY2F0ZWdvcmllc1sxXSkge1xuICAgICAgICAvLyBDaGVjayBpZiB1c2VySWQgaXMgYSByZWNvcmQgcmVmZXJlbmNlIChjb250YWlucyAnOicpXG4gICAgICAgIGlmIChjYXRlZ29yeS51c2VySWQgJiYgdHlwZW9mIGNhdGVnb3J5LnVzZXJJZCA9PT0gJ3N0cmluZycgJiYgY2F0ZWdvcnkudXNlcklkLmluY2x1ZGVzKCc6JykpIHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgdXNlcklkID0gY2F0ZWdvcnkudXNlcklkLnNwbGl0KCc6JylbMV1cbiAgICAgICAgICAgIGF3YWl0IHRoaXMuZGIucXVlcnkoYFxuICAgICAgICAgICAgICBVU0UgTlMgcnVwZWUgREIgZmluYW5jZTtcbiAgICAgICAgICAgICAgVVBEQVRFICR7Y2F0ZWdvcnkuaWR9IFNFVCB1c2VySWQgPSAnJHt1c2VySWR9JztcbiAgICAgICAgICAgIGApXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgRml4ZWQgdXNlcklkIGZvciBjYXRlZ29yeSAke2NhdGVnb3J5LmlkfTogJHtjYXRlZ29yeS51c2VySWR9IC0+ICR7dXNlcklkfWApXG4gICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihgQ291bGQgbm90IGZpeCB1c2VySWQgZm9yIGNhdGVnb3J5ICR7Y2F0ZWdvcnkuaWR9OmAsIGVycm9yKVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICAvLyBGaXggb3RoZXIgdGFibGVzIHdpdGggdXNlcklkIHJlZmVyZW5jZXNcbiAgICBjb25zdCB0YWJsZXMgPSBbJ3NhdmluZ3NfZ29hbHMnLCAnYnVkZ2V0X2xpbWl0cycsICdpbnNpZ2h0cycsICdhbGVydHMnLCAncmVjdXJyaW5nX2V4cGVuc2VzJywgJ3Byb2ZpbGVzJywgJ2FjaGlldmVtZW50cycsICdiYWNrdXBfaGlzdG9yeSddXG4gICAgXG4gICAgZm9yIChjb25zdCB0YWJsZSBvZiB0YWJsZXMpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlY29yZHMgPSBhd2FpdCB0aGlzLmRiLnF1ZXJ5KGBcbiAgICAgICAgICBVU0UgTlMgcnVwZWUgREIgZmluYW5jZTtcbiAgICAgICAgICBTRUxFQ1QgKiBGUk9NICR7dGFibGV9O1xuICAgICAgICBgKVxuICAgICAgICBcbiAgICAgICAgaWYgKHJlY29yZHNbMV0gJiYgcmVjb3Jkc1sxXS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgZm9yIChjb25zdCByZWNvcmQgb2YgcmVjb3Jkc1sxXSkge1xuICAgICAgICAgICAgaWYgKHJlY29yZC51c2VySWQgJiYgdHlwZW9mIHJlY29yZC51c2VySWQgPT09ICdzdHJpbmcnICYmIHJlY29yZC51c2VySWQuaW5jbHVkZXMoJzonKSkge1xuICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHVzZXJJZCA9IHJlY29yZC51c2VySWQuc3BsaXQoJzonKVsxXVxuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuZGIucXVlcnkoYFxuICAgICAgICAgICAgICAgICAgVVNFIE5TIHJ1cGVlIERCIGZpbmFuY2U7XG4gICAgICAgICAgICAgICAgICBVUERBVEUgJHtyZWNvcmQuaWR9IFNFVCB1c2VySWQgPSAnJHt1c2VySWR9JztcbiAgICAgICAgICAgICAgICBgKVxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGBGaXhlZCB1c2VySWQgZm9yICR7dGFibGV9ICR7cmVjb3JkLmlkfTogJHtyZWNvcmQudXNlcklkfSAtPiAke3VzZXJJZH1gKVxuICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihgQ291bGQgbm90IGZpeCB1c2VySWQgZm9yICR7dGFibGV9ICR7cmVjb3JkLmlkfTpgLCBlcnJvcilcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS53YXJuKGBDb3VsZCBub3QgcHJvY2VzcyB0YWJsZSAke3RhYmxlfTpgLCBlcnJvcilcbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSB9XG4gIH1cblxuICAvLyBDb21wcmVoZW5zaXZlIG1ldGhvZCB0byBmaXggYWxsIHJlY29yZCByZWZlcmVuY2VzXG4gIGFzeW5jIGZpeEFsbFJlY29yZFJlZmVyZW5jZXMoKTogUHJvbWlzZTxhbnk+IHtcbiAgICBhd2FpdCB0aGlzLmNvbm5lY3QoKVxuICAgIFxuICAgIHRyeSB7XG4gICAgICAvLyBHZXQgYWxsIGV4cGVuc2VzIGFuZCBmaXggYW55IHJlY29yZCByZWZlcmVuY2VzXG4gICAgICBjb25zdCBleHBlbnNlcyA9IGF3YWl0IHRoaXMuZGIucXVlcnkoYFxuICAgICAgICBVU0UgTlMgcnVwZWUgREIgZmluYW5jZTtcbiAgICAgICAgU0VMRUNUICogRlJPTSBleHBlbnNlcztcbiAgICAgIGApXG4gICAgICBcbiAgICAgIGxldCBmaXhlZENvdW50ID0gMFxuICAgICAgaWYgKGV4cGVuc2VzWzFdICYmIGV4cGVuc2VzWzFdLmxlbmd0aCA+IDApIHtcbiAgICAgICAgZm9yIChjb25zdCBleHBlbnNlIG9mIGV4cGVuc2VzWzFdKSB7XG4gICAgICAgICAgaWYgKGV4cGVuc2UudXNlcklkICYmIHR5cGVvZiBleHBlbnNlLnVzZXJJZCA9PT0gJ3N0cmluZycgJiYgZXhwZW5zZS51c2VySWQuaW5jbHVkZXMoJzonKSkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgY29uc3QgdXNlcklkID0gZXhwZW5zZS51c2VySWQuc3BsaXQoJzonKVsxXVxuICAgICAgICAgICAgICBhd2FpdCB0aGlzLmRiLnF1ZXJ5KGBcbiAgICAgICAgICAgICAgICBVU0UgTlMgcnVwZWUgREIgZmluYW5jZTtcbiAgICAgICAgICAgICAgICBVUERBVEUgJHtleHBlbnNlLmlkfSBTRVQgdXNlcklkID0gJyR7dXNlcklkfSc7XG4gICAgICAgICAgICAgIGApXG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKGBGaXhlZCB1c2VySWQgZm9yIGV4cGVuc2UgJHtleHBlbnNlLmlkfTogJHtleHBlbnNlLnVzZXJJZH0gLT4gJHt1c2VySWR9YClcbiAgICAgICAgICAgICAgZml4ZWRDb3VudCsrXG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICBjb25zb2xlLndhcm4oYENvdWxkIG5vdCBmaXggdXNlcklkIGZvciBleHBlbnNlICR7ZXhwZW5zZS5pZH06YCwgZXJyb3IpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIFxuICAgICAgICAgIGlmIChleHBlbnNlLmNhdGVnb3J5SWQgJiYgdHlwZW9mIGV4cGVuc2UuY2F0ZWdvcnlJZCA9PT0gJ3N0cmluZycgJiYgZXhwZW5zZS5jYXRlZ29yeUlkLmluY2x1ZGVzKCc6JykpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIGNvbnN0IGNhdGVnb3J5SWQgPSBleHBlbnNlLmNhdGVnb3J5SWQuc3BsaXQoJzonKVsxXVxuICAgICAgICAgICAgICBhd2FpdCB0aGlzLmRiLnF1ZXJ5KGBcbiAgICAgICAgICAgICAgICBVU0UgTlMgcnVwZWUgREIgZmluYW5jZTtcbiAgICAgICAgICAgICAgICBVUERBVEUgJHtleHBlbnNlLmlkfSBTRVQgY2F0ZWdvcnlJZCA9ICcke2NhdGVnb3J5SWR9JztcbiAgICAgICAgICAgICAgYClcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coYEZpeGVkIGNhdGVnb3J5SWQgZm9yIGV4cGVuc2UgJHtleHBlbnNlLmlkfTogJHtleHBlbnNlLmNhdGVnb3J5SWR9IC0+ICR7Y2F0ZWdvcnlJZH1gKVxuICAgICAgICAgICAgICBmaXhlZENvdW50KytcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUud2FybihgQ291bGQgbm90IGZpeCBjYXRlZ29yeUlkIGZvciBleHBlbnNlICR7ZXhwZW5zZS5pZH06YCwgZXJyb3IpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIEdldCBhbGwgaW5jb21lcyBhbmQgZml4IGFueSByZWNvcmQgcmVmZXJlbmNlc1xuICAgICAgY29uc3QgaW5jb21lcyA9IGF3YWl0IHRoaXMuZGIucXVlcnkoYFxuICAgICAgICBVU0UgTlMgcnVwZWUgREIgZmluYW5jZTtcbiAgICAgICAgU0VMRUNUICogRlJPTSBpbmNvbWVzO1xuICAgICAgYClcbiAgICAgIFxuICAgICAgaWYgKGluY29tZXNbMV0gJiYgaW5jb21lc1sxXS5sZW5ndGggPiAwKSB7XG4gICAgICAgIGZvciAoY29uc3QgaW5jb21lIG9mIGluY29tZXNbMV0pIHtcbiAgICAgICAgICBpZiAoaW5jb21lLnVzZXJJZCAmJiB0eXBlb2YgaW5jb21lLnVzZXJJZCA9PT0gJ3N0cmluZycgJiYgaW5jb21lLnVzZXJJZC5pbmNsdWRlcygnOicpKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBjb25zdCB1c2VySWQgPSBpbmNvbWUudXNlcklkLnNwbGl0KCc6JylbMV1cbiAgICAgICAgICAgICAgYXdhaXQgdGhpcy5kYi5xdWVyeShgXG4gICAgICAgICAgICAgICAgVVNFIE5TIHJ1cGVlIERCIGZpbmFuY2U7XG4gICAgICAgICAgICAgICAgVVBEQVRFICR7aW5jb21lLmlkfSBTRVQgdXNlcklkID0gJyR7dXNlcklkfSc7XG4gICAgICAgICAgICAgIGApXG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKGBGaXhlZCB1c2VySWQgZm9yIGluY29tZSAke2luY29tZS5pZH06ICR7aW5jb21lLnVzZXJJZH0gLT4gJHt1c2VySWR9YClcbiAgICAgICAgICAgICAgZml4ZWRDb3VudCsrXG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICBjb25zb2xlLndhcm4oYENvdWxkIG5vdCBmaXggdXNlcklkIGZvciBpbmNvbWUgJHtpbmNvbWUuaWR9OmAsIGVycm9yKVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgXG4gICAgICBjb25zb2xlLmxvZyhgRml4ZWQgJHtmaXhlZENvdW50fSByZWNvcmQgcmVmZXJlbmNlc2ApXG4gICAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlLCBmaXhlZENvdW50IH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZml4aW5nIGFsbCByZWNvcmQgcmVmZXJlbmNlczonLCBlcnJvcilcbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogZXJyb3IubWVzc2FnZSB9XG4gICAgfVxuICB9XG5cbiAgLy8gTmV3IG1ldGhvZCB0byBmaXggdGhlIHNwZWNpZmljIGVycm9yIG1lbnRpb25lZFxuICBhc3luYyBmaXhTcGVjaWZpY1JlY29yZEVycm9yKCk6IFByb21pc2U8YW55PiB7XG4gICAgYXdhaXQgdGhpcy5jb25uZWN0KClcbiAgICBcbiAgICB0cnkge1xuICAgICAgLy8gRmluZCB0aGUgc3BlY2lmaWMgZXhwZW5zZSBtZW50aW9uZWQgaW4gdGhlIGVycm9yXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLmRiLnF1ZXJ5KGBcbiAgICAgICAgVVNFIE5TIHJ1cGVlIERCIGZpbmFuY2U7XG4gICAgICAgIFNFTEVDVCAqIEZST00gZXhwZW5zZXMgV0hFUkUgaWQgPSAnZXhwZW5zZXM6MmRhaHAxcThlOWNlcjRuNXM4emUnO1xuICAgICAgYClcbiAgICAgIFxuICAgICAgaWYgKHJlc3VsdFsxXSAmJiByZXN1bHRbMV0ubGVuZ3RoID4gMCkge1xuICAgICAgICBjb25zdCBleHBlbnNlID0gcmVzdWx0WzFdWzBdXG4gICAgICAgIGlmIChleHBlbnNlLnVzZXJJZCAmJiB0eXBlb2YgZXhwZW5zZS51c2VySWQgPT09ICdzdHJpbmcnICYmIGV4cGVuc2UudXNlcklkLmluY2x1ZGVzKCc6JykpIHtcbiAgICAgICAgICBjb25zdCB1c2VySWQgPSBleHBlbnNlLnVzZXJJZC5zcGxpdCgnOicpWzFdXG4gICAgICAgICAgYXdhaXQgdGhpcy5kYi5xdWVyeShgXG4gICAgICAgICAgICBVU0UgTlMgcnVwZWUgREIgZmluYW5jZTtcbiAgICAgICAgICAgIFVQREFURSBleHBlbnNlczoyZGFocDFxOGU5Y2VyNG41czh6ZSBTRVQgdXNlcklkID0gJyR7dXNlcklkfSc7XG4gICAgICAgICAgYClcbiAgICAgICAgICBjb25zb2xlLmxvZyhgRml4ZWQgc3BlY2lmaWMgZXhwZW5zZSB1c2VySWQ6ICR7ZXhwZW5zZS51c2VySWR9IC0+ICR7dXNlcklkfWApXG4gICAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgZml4ZWQ6IHRydWUgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIEFsc28gY2hlY2sgZm9yIHRoZSBuZXcgZXJyb3IgbWVudGlvbmVkXG4gICAgICBjb25zdCByZXN1bHQyID0gYXdhaXQgdGhpcy5kYi5xdWVyeShgXG4gICAgICAgIFVTRSBOUyBydXBlZSBEQiBmaW5hbmNlO1xuICAgICAgICBTRUxFQ1QgKiBGUk9NIGV4cGVuc2VzIFdIRVJFIGlkID0gJ2V4cGVuc2VzOmNlOW9iZWU0NGg5NGExOHRxNm05JztcbiAgICAgIGApXG4gICAgICBcbiAgICAgIGlmIChyZXN1bHQyWzFdICYmIHJlc3VsdDJbMV0ubGVuZ3RoID4gMCkge1xuICAgICAgICBjb25zdCBleHBlbnNlID0gcmVzdWx0MlsxXVswXVxuICAgICAgICBpZiAoZXhwZW5zZS51c2VySWQgJiYgdHlwZW9mIGV4cGVuc2UudXNlcklkID09PSAnc3RyaW5nJyAmJiBleHBlbnNlLnVzZXJJZC5pbmNsdWRlcygnOicpKSB7XG4gICAgICAgICAgY29uc3QgdXNlcklkID0gZXhwZW5zZS51c2VySWQuc3BsaXQoJzonKVsxXVxuICAgICAgICAgIGF3YWl0IHRoaXMuZGIucXVlcnkoYFxuICAgICAgICAgICAgVVNFIE5TIHJ1cGVlIERCIGZpbmFuY2U7XG4gICAgICAgICAgICBVUERBVEUgZXhwZW5zZXM6Y2U5b2JlZTQ0aDk0YTE4dHE2bTkgU0VUIHVzZXJJZCA9ICcke3VzZXJJZH0nO1xuICAgICAgICAgIGApXG4gICAgICAgICAgY29uc29sZS5sb2coYEZpeGVkIHNwZWNpZmljIGV4cGVuc2UgdXNlcklkOiAke2V4cGVuc2UudXNlcklkfSAtPiAke3VzZXJJZH1gKVxuICAgICAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGZpeGVkOiB0cnVlIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBDaGVjayBmb3IgdGhlIGxhdGVzdCBlcnJvciBtZW50aW9uZWRcbiAgICAgIGNvbnN0IHJlc3VsdDMgPSBhd2FpdCB0aGlzLmRiLnF1ZXJ5KGBcbiAgICAgICAgVVNFIE5TIHJ1cGVlIERCIGZpbmFuY2U7XG4gICAgICAgIFNFTEVDVCAqIEZST00gZXhwZW5zZXMgV0hFUkUgaWQgPSAnZXhwZW5zZXM6NXQ3czIwOG1lMTh1cjZoemY0anAnO1xuICAgICAgYClcbiAgICAgIFxuICAgICAgaWYgKHJlc3VsdDNbMV0gJiYgcmVzdWx0M1sxXS5sZW5ndGggPiAwKSB7XG4gICAgICAgIGNvbnN0IGV4cGVuc2UgPSByZXN1bHQzWzFdWzBdXG4gICAgICAgIGlmIChleHBlbnNlLnVzZXJJZCAmJiB0eXBlb2YgZXhwZW5zZS51c2VySWQgPT09ICdzdHJpbmcnICYmIGV4cGVuc2UudXNlcklkLmluY2x1ZGVzKCc6JykpIHtcbiAgICAgICAgICBjb25zdCB1c2VySWQgPSBleHBlbnNlLnVzZXJJZC5zcGxpdCgnOicpWzFdXG4gICAgICAgICAgYXdhaXQgdGhpcy5kYi5xdWVyeShgXG4gICAgICAgICAgICBVU0UgTlMgcnVwZWUgREIgZmluYW5jZTtcbiAgICAgICAgICAgIFVQREFURSBleHBlbnNlczo1dDdzMjA4bWUxOHVyNmh6ZjRqcCBTRVQgdXNlcklkID0gJyR7dXNlcklkfSc7XG4gICAgICAgICAgYClcbiAgICAgICAgICBjb25zb2xlLmxvZyhgRml4ZWQgc3BlY2lmaWMgZXhwZW5zZSB1c2VySWQ6ICR7ZXhwZW5zZS51c2VySWR9IC0+ICR7dXNlcklkfWApXG4gICAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgZml4ZWQ6IHRydWUgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBcbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGZpeGVkOiBmYWxzZSB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZpeGluZyBzcGVjaWZpYyByZWNvcmQ6JywgZXJyb3IpXG4gICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfVxuICAgIH1cbiAgfVxuXG4gIC8vIEV4cGVuc2Ugb3BlcmF0aW9uc1xuICBhc3luYyBjcmVhdGVFeHBlbnNlKGV4cGVuc2VEYXRhOiBhbnkpOiBQcm9taXNlPGFueT4ge1xuICAgIGF3YWl0IHRoaXMuY29ubmVjdCgpXG4gICAgXG4gICAgLy8gRW5zdXJlIHVzZXJJZCBpcyBhIHN0cmluZywgbm90IGEgcmVjb3JkIHJlZmVyZW5jZVxuICAgIGNvbnN0IGNsZWFuRXhwZW5zZURhdGEgPSB7IC4uLmV4cGVuc2VEYXRhIH1cbiAgICBpZiAoY2xlYW5FeHBlbnNlRGF0YS51c2VySWQpIHtcbiAgICAgIGlmICh0eXBlb2YgY2xlYW5FeHBlbnNlRGF0YS51c2VySWQgPT09ICdvYmplY3QnICYmIGNsZWFuRXhwZW5zZURhdGEudXNlcklkLmlkKSB7XG4gICAgICAgIC8vIEhhbmRsZSBfUmVjb3JkSWQgb2JqZWN0XG4gICAgICAgIGNsZWFuRXhwZW5zZURhdGEudXNlcklkID0gY2xlYW5FeHBlbnNlRGF0YS51c2VySWQuaWRcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGNsZWFuRXhwZW5zZURhdGEudXNlcklkID09PSAnc3RyaW5nJyAmJiBjbGVhbkV4cGVuc2VEYXRhLnVzZXJJZC5pbmNsdWRlcygnOicpKSB7XG4gICAgICAgIC8vIEhhbmRsZSBzdHJpbmcgcmVjb3JkIHJlZmVyZW5jZVxuICAgICAgICBjbGVhbkV4cGVuc2VEYXRhLnVzZXJJZCA9IGNsZWFuRXhwZW5zZURhdGEudXNlcklkLnNwbGl0KCc6JylbMV1cbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgLy8gRW5zdXJlIGNhdGVnb3J5SWQgaXMgYSBzdHJpbmcsIG5vdCBhIHJlY29yZCByZWZlcmVuY2VcbiAgICBpZiAoY2xlYW5FeHBlbnNlRGF0YS5jYXRlZ29yeUlkICYmIHR5cGVvZiBjbGVhbkV4cGVuc2VEYXRhLmNhdGVnb3J5SWQgPT09ICdzdHJpbmcnICYmIGNsZWFuRXhwZW5zZURhdGEuY2F0ZWdvcnlJZC5pbmNsdWRlcygnOicpKSB7XG4gICAgICBjbGVhbkV4cGVuc2VEYXRhLmNhdGVnb3J5SWQgPSBjbGVhbkV4cGVuc2VEYXRhLmNhdGVnb3J5SWQuc3BsaXQoJzonKVsxXVxuICAgIH1cbiAgICBcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLmRiLnF1ZXJ5KCdVU0UgTlMgcnVwZWUgREIgZmluYW5jZTsgQ1JFQVRFIGV4cGVuc2VzIENPTlRFTlQgJGV4cGVuc2VEYXRhJywgeyBleHBlbnNlRGF0YTogY2xlYW5FeHBlbnNlRGF0YSB9KVxuICAgIHJldHVybiByZXN1bHRbMV0/LlswXSB8fCByZXN1bHRbMF0/LnJlc3VsdD8uWzBdXG4gIH1cblxuICBhc3luYyBnZXRFeHBlbnNlcyh1c2VySWQ6IHN0cmluZyk6IFByb21pc2U8YW55W10+IHtcbiAgICBhd2FpdCB0aGlzLmNvbm5lY3QoKVxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMuZGIucXVlcnkoJ1VTRSBOUyBydXBlZSBEQiBmaW5hbmNlOyBTRUxFQ1QgKiBGUk9NIGV4cGVuc2VzIFdIRVJFIHVzZXJJZCA9ICR1c2VySWQnLCB7IHVzZXJJZCB9KVxuICAgIHJldHVybiByZXN1bHRbMV0gfHwgcmVzdWx0WzBdPy5yZXN1bHQgfHwgW11cbiAgfVxuXG4gIGFzeW5jIHVwZGF0ZUV4cGVuc2UoZXhwZW5zZUlkOiBzdHJpbmcsIGV4cGVuc2VEYXRhOiBhbnkpOiBQcm9taXNlPGFueT4ge1xuICAgIGF3YWl0IHRoaXMuY29ubmVjdCgpXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5kYi5xdWVyeSgnVVNFIE5TIHJ1cGVlIERCIGZpbmFuY2U7IFVQREFURSBleHBlbnNlcyBTRVQgKiA9ICRleHBlbnNlRGF0YSBXSEVSRSBpZCA9ICRleHBlbnNlSWQnLCB7IGV4cGVuc2VJZCwgZXhwZW5zZURhdGEgfSlcbiAgICByZXR1cm4gcmVzdWx0WzFdPy5bMF0gfHwgcmVzdWx0WzBdPy5yZXN1bHQ/LlswXVxuICB9XG5cbiAgYXN5bmMgZGVsZXRlRXhwZW5zZShleHBlbnNlSWQ6IHN0cmluZyk6IFByb21pc2U8YW55PiB7XG4gICAgYXdhaXQgdGhpcy5jb25uZWN0KClcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLmRiLnF1ZXJ5KCdVU0UgTlMgcnVwZWUgREIgZmluYW5jZTsgREVMRVRFIGV4cGVuc2VzIFdIRVJFIGlkID0gJGV4cGVuc2VJZCcsIHsgZXhwZW5zZUlkIH0pXG4gICAgcmV0dXJuIHJlc3VsdFsxXT8uWzBdIHx8IHJlc3VsdFswXT8ucmVzdWx0Py5bMF1cbiAgfVxuXG4gIC8vIEluY29tZSBvcGVyYXRpb25zXG4gIGFzeW5jIGNyZWF0ZUluY29tZShpbmNvbWVEYXRhOiBhbnkpOiBQcm9taXNlPGFueT4ge1xuICAgIGF3YWl0IHRoaXMuY29ubmVjdCgpXG4gICAgXG4gICAgLy8gRW5zdXJlIHVzZXJJZCBpcyBhIHN0cmluZywgbm90IGEgcmVjb3JkIHJlZmVyZW5jZVxuICAgIGNvbnN0IGNsZWFuSW5jb21lRGF0YSA9IHsgLi4uaW5jb21lRGF0YSB9XG4gICAgaWYgKGNsZWFuSW5jb21lRGF0YS51c2VySWQpIHtcbiAgICAgIGlmICh0eXBlb2YgY2xlYW5JbmNvbWVEYXRhLnVzZXJJZCA9PT0gJ29iamVjdCcgJiYgY2xlYW5JbmNvbWVEYXRhLnVzZXJJZC5pZCkge1xuICAgICAgICAvLyBIYW5kbGUgX1JlY29yZElkIG9iamVjdFxuICAgICAgICBjbGVhbkluY29tZURhdGEudXNlcklkID0gY2xlYW5JbmNvbWVEYXRhLnVzZXJJZC5pZFxuICAgICAgfSBlbHNlIGlmICh0eXBlb2YgY2xlYW5JbmNvbWVEYXRhLnVzZXJJZCA9PT0gJ3N0cmluZycgJiYgY2xlYW5JbmNvbWVEYXRhLnVzZXJJZC5pbmNsdWRlcygnOicpKSB7XG4gICAgICAgIC8vIEhhbmRsZSBzdHJpbmcgcmVjb3JkIHJlZmVyZW5jZVxuICAgICAgICBjbGVhbkluY29tZURhdGEudXNlcklkID0gY2xlYW5JbmNvbWVEYXRhLnVzZXJJZC5zcGxpdCgnOicpWzFdXG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMuZGIucXVlcnkoJ1VTRSBOUyBydXBlZSBEQiBmaW5hbmNlOyBDUkVBVEUgaW5jb21lcyBDT05URU5UICRpbmNvbWVEYXRhJywgeyBpbmNvbWVEYXRhOiBjbGVhbkluY29tZURhdGEgfSlcbiAgICByZXR1cm4gcmVzdWx0WzFdPy5bMF0gfHwgcmVzdWx0WzBdPy5yZXN1bHQ/LlswXVxuICB9XG5cbiAgYXN5bmMgZ2V0SW5jb21lcyh1c2VySWQ6IHN0cmluZyk6IFByb21pc2U8YW55W10+IHtcbiAgICBhd2FpdCB0aGlzLmNvbm5lY3QoKVxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMuZGIucXVlcnkoJ1VTRSBOUyBydXBlZSBEQiBmaW5hbmNlOyBTRUxFQ1QgKiBGUk9NIGluY29tZXMgV0hFUkUgdXNlcklkID0gJHVzZXJJZCcsIHsgdXNlcklkIH0pXG4gICAgcmV0dXJuIHJlc3VsdFsxXSB8fCByZXN1bHRbMF0/LnJlc3VsdCB8fCBbXVxuICB9XG5cbiAgYXN5bmMgdXBkYXRlSW5jb21lKGluY29tZUlkOiBzdHJpbmcsIGluY29tZURhdGE6IGFueSk6IFByb21pc2U8YW55PiB7XG4gICAgYXdhaXQgdGhpcy5jb25uZWN0KClcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLmRiLnF1ZXJ5KCdVU0UgTlMgcnVwZWUgREIgZmluYW5jZTsgVVBEQVRFIGluY29tZXMgU0VUICogPSAkaW5jb21lRGF0YSBXSEVSRSBpZCA9ICRpbmNvbWVJZCcsIHsgaW5jb21lSWQsIGluY29tZURhdGEgfSlcbiAgICByZXR1cm4gcmVzdWx0WzFdPy5bMF0gfHwgcmVzdWx0WzBdPy5yZXN1bHQ/LlswXVxuICB9XG5cbiAgYXN5bmMgZGVsZXRlSW5jb21lKGluY29tZUlkOiBzdHJpbmcpOiBQcm9taXNlPGFueT4ge1xuICAgIGF3YWl0IHRoaXMuY29ubmVjdCgpXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5kYi5xdWVyeSgnVVNFIE5TIHJ1cGVlIERCIGZpbmFuY2U7IERFTEVURSBpbmNvbWVzIFdIRVJFIGlkID0gJGluY29tZUlkJywgeyBpbmNvbWVJZCB9KVxuICAgIHJldHVybiByZXN1bHRbMV0/LlswXSB8fCByZXN1bHRbMF0/LnJlc3VsdD8uWzBdXG4gIH1cblxuICAvLyBDYXRlZ29yeSBvcGVyYXRpb25zXG4gIGFzeW5jIGNyZWF0ZUNhdGVnb3J5KGNhdGVnb3J5RGF0YTogYW55KTogUHJvbWlzZTxhbnk+IHtcbiAgICBhd2FpdCB0aGlzLmNvbm5lY3QoKVxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMuZGIucXVlcnkoJ1VTRSBOUyBydXBlZSBEQiBmaW5hbmNlOyBDUkVBVEUgY2F0ZWdvcmllcyBDT05URU5UICRjYXRlZ29yeURhdGEnLCB7IGNhdGVnb3J5RGF0YSB9KVxuICAgIHJldHVybiByZXN1bHRbMV0/LlswXSB8fCByZXN1bHRbMF0/LnJlc3VsdD8uWzBdXG4gIH1cblxuICBhc3luYyBnZXRDYXRlZ29yaWVzKHVzZXJJZDogc3RyaW5nKTogUHJvbWlzZTxhbnlbXT4ge1xuICAgIGF3YWl0IHRoaXMuY29ubmVjdCgpXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5kYi5xdWVyeSgnVVNFIE5TIHJ1cGVlIERCIGZpbmFuY2U7IFNFTEVDVCAqIEZST00gY2F0ZWdvcmllcyBXSEVSRSB1c2VySWQgPSAkdXNlcklkJywgeyB1c2VySWQgfSlcbiAgICByZXR1cm4gcmVzdWx0WzFdIHx8IHJlc3VsdFswXT8ucmVzdWx0IHx8IFtdXG4gIH1cblxuICBhc3luYyB1cGRhdGVDYXRlZ29yeShjYXRlZ29yeUlkOiBzdHJpbmcsIGNhdGVnb3J5RGF0YTogYW55KTogUHJvbWlzZTxhbnk+IHtcbiAgICBhd2FpdCB0aGlzLmNvbm5lY3QoKVxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMuZGIucXVlcnkoJ1VTRSBOUyBydXBlZSBEQiBmaW5hbmNlOyBVUERBVEUgY2F0ZWdvcmllcyBTRVQgKiA9ICRjYXRlZ29yeURhdGEgV0hFUkUgaWQgPSAkY2F0ZWdvcnlJZCcsIHsgY2F0ZWdvcnlJZCwgY2F0ZWdvcnlEYXRhIH0pXG4gICAgcmV0dXJuIHJlc3VsdFsxXT8uWzBdIHx8IHJlc3VsdFswXT8ucmVzdWx0Py5bMF1cbiAgfVxuXG4gIGFzeW5jIGRlbGV0ZUNhdGVnb3J5KGNhdGVnb3J5SWQ6IHN0cmluZyk6IFByb21pc2U8YW55PiB7XG4gICAgYXdhaXQgdGhpcy5jb25uZWN0KClcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLmRiLnF1ZXJ5KCdVU0UgTlMgcnVwZWUgREIgZmluYW5jZTsgREVMRVRFIGNhdGVnb3JpZXMgV0hFUkUgaWQgPSAkY2F0ZWdvcnlJZCcsIHsgY2F0ZWdvcnlJZCB9KVxuICAgIHJldHVybiByZXN1bHRbMV0/LlswXSB8fCByZXN1bHRbMF0/LnJlc3VsdD8uWzBdXG4gIH1cblxuICAvLyBTYXZpbmdzIGdvYWxzIG9wZXJhdGlvbnNcbiAgYXN5bmMgY3JlYXRlU2F2aW5nc0dvYWwoZ29hbERhdGE6IGFueSk6IFByb21pc2U8YW55PiB7XG4gICAgYXdhaXQgdGhpcy5jb25uZWN0KClcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLmRiLnF1ZXJ5KCdVU0UgTlMgcnVwZWUgREIgZmluYW5jZTsgQ1JFQVRFIHNhdmluZ3NfZ29hbHMgQ09OVEVOVCAkZ29hbERhdGEnLCB7IGdvYWxEYXRhIH0pXG4gICAgcmV0dXJuIHJlc3VsdFsxXT8uWzBdIHx8IHJlc3VsdFswXT8ucmVzdWx0Py5bMF1cbiAgfVxuXG4gIGFzeW5jIGdldFNhdmluZ3NHb2Fscyh1c2VySWQ6IHN0cmluZyk6IFByb21pc2U8YW55W10+IHtcbiAgICBhd2FpdCB0aGlzLmNvbm5lY3QoKVxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMuZGIucXVlcnkoJ1VTRSBOUyBydXBlZSBEQiBmaW5hbmNlOyBTRUxFQ1QgKiBGUk9NIHNhdmluZ3NfZ29hbHMgV0hFUkUgdXNlcklkID0gJHVzZXJJZCcsIHsgdXNlcklkIH0pXG4gICAgcmV0dXJuIHJlc3VsdFsxXSB8fCByZXN1bHRbMF0/LnJlc3VsdCB8fCBbXVxuICB9XG5cbiAgYXN5bmMgdXBkYXRlU2F2aW5nc0dvYWwoZ29hbElkOiBzdHJpbmcsIGdvYWxEYXRhOiBhbnkpOiBQcm9taXNlPGFueT4ge1xuICAgIGF3YWl0IHRoaXMuY29ubmVjdCgpXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5kYi5xdWVyeSgnVVNFIE5TIHJ1cGVlIERCIGZpbmFuY2U7IFVQREFURSBzYXZpbmdzX2dvYWxzIFNFVCAqID0gJGdvYWxEYXRhIFdIRVJFIGlkID0gJGdvYWxJZCcsIHsgZ29hbElkLCBnb2FsRGF0YSB9KVxuICAgIHJldHVybiByZXN1bHRbMV0/LlswXSB8fCByZXN1bHRbMF0/LnJlc3VsdD8uWzBdXG4gIH1cblxuICBhc3luYyBkZWxldGVTYXZpbmdzR29hbChnb2FsSWQ6IHN0cmluZyk6IFByb21pc2U8YW55PiB7XG4gICAgYXdhaXQgdGhpcy5jb25uZWN0KClcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLmRiLnF1ZXJ5KCdVU0UgTlMgcnVwZWUgREIgZmluYW5jZTsgREVMRVRFIHNhdmluZ3NfZ29hbHMgV0hFUkUgaWQgPSAkZ29hbElkJywgeyBnb2FsSWQgfSlcbiAgICByZXR1cm4gcmVzdWx0WzFdPy5bMF0gfHwgcmVzdWx0WzBdPy5yZXN1bHQ/LlswXVxuICB9XG5cbiAgLy8gQnVkZ2V0IGxpbWl0cyBvcGVyYXRpb25zXG4gIGFzeW5jIGNyZWF0ZUJ1ZGdldExpbWl0KGxpbWl0RGF0YTogYW55KTogUHJvbWlzZTxhbnk+IHtcbiAgICBhd2FpdCB0aGlzLmNvbm5lY3QoKVxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMuZGIucXVlcnkoJ1VTRSBOUyBydXBlZSBEQiBmaW5hbmNlOyBDUkVBVEUgYnVkZ2V0X2xpbWl0cyBDT05URU5UICRsaW1pdERhdGEnLCB7IGxpbWl0RGF0YSB9KVxuICAgIHJldHVybiByZXN1bHRbMV0/LlswXSB8fCByZXN1bHRbMF0/LnJlc3VsdD8uWzBdXG4gIH1cblxuICBhc3luYyBnZXRCdWRnZXRMaW1pdHModXNlcklkOiBzdHJpbmcpOiBQcm9taXNlPGFueVtdPiB7XG4gICAgYXdhaXQgdGhpcy5jb25uZWN0KClcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLmRiLnF1ZXJ5KCdVU0UgTlMgcnVwZWUgREIgZmluYW5jZTsgU0VMRUNUICogRlJPTSBidWRnZXRfbGltaXRzIFdIRVJFIHVzZXJJZCA9ICR1c2VySWQnLCB7IHVzZXJJZCB9KVxuICAgIHJldHVybiByZXN1bHRbMV0gfHwgcmVzdWx0WzBdPy5yZXN1bHQgfHwgW11cbiAgfVxuXG4gIGFzeW5jIHVwZGF0ZUJ1ZGdldExpbWl0KGxpbWl0SWQ6IHN0cmluZywgbGltaXREYXRhOiBhbnkpOiBQcm9taXNlPGFueT4ge1xuICAgIGF3YWl0IHRoaXMuY29ubmVjdCgpXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5kYi5xdWVyeSgnVVNFIE5TIHJ1cGVlIERCIGZpbmFuY2U7IFVQREFURSBidWRnZXRfbGltaXRzIFNFVCAqID0gJGxpbWl0RGF0YSBXSEVSRSBpZCA9ICRsaW1pdElkJywgeyBsaW1pdElkLCBsaW1pdERhdGEgfSlcbiAgICByZXR1cm4gcmVzdWx0WzFdPy5bMF0gfHwgcmVzdWx0WzBdPy5yZXN1bHQ/LlswXVxuICB9XG5cbiAgYXN5bmMgZGVsZXRlQnVkZ2V0TGltaXQobGltaXRJZDogc3RyaW5nKTogUHJvbWlzZTxhbnk+IHtcbiAgICBhd2FpdCB0aGlzLmNvbm5lY3QoKVxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMuZGIucXVlcnkoJ1VTRSBOUyBydXBlZSBEQiBmaW5hbmNlOyBERUxFVEUgYnVkZ2V0X2xpbWl0cyBXSEVSRSBpZCA9ICRsaW1pdElkJywgeyBsaW1pdElkIH0pXG4gICAgcmV0dXJuIHJlc3VsdFsxXT8uWzBdIHx8IHJlc3VsdFswXT8ucmVzdWx0Py5bMF1cbiAgfVxuXG4gIC8vIEluc2lnaHRzIG9wZXJhdGlvbnNcbiAgYXN5bmMgY3JlYXRlSW5zaWdodChpbnNpZ2h0RGF0YTogYW55KTogUHJvbWlzZTxhbnk+IHtcbiAgICBhd2FpdCB0aGlzLmNvbm5lY3QoKVxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMuZGIucXVlcnkoJ1VTRSBOUyBydXBlZSBEQiBmaW5hbmNlOyBDUkVBVEUgaW5zaWdodHMgQ09OVEVOVCAkaW5zaWdodERhdGEnLCB7IGluc2lnaHREYXRhIH0pXG4gICAgcmV0dXJuIHJlc3VsdFsxXT8uWzBdIHx8IHJlc3VsdFswXT8ucmVzdWx0Py5bMF1cbiAgfVxuXG4gIGFzeW5jIGdldEluc2lnaHRzKHVzZXJJZDogc3RyaW5nKTogUHJvbWlzZTxhbnlbXT4ge1xuICAgIGF3YWl0IHRoaXMuY29ubmVjdCgpXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5kYi5xdWVyeSgnVVNFIE5TIHJ1cGVlIERCIGZpbmFuY2U7IFNFTEVDVCAqIEZST00gaW5zaWdodHMgV0hFUkUgdXNlcklkID0gJHVzZXJJZCBPUkRFUiBCWSBjcmVhdGVkQXQgREVTQycsIHsgdXNlcklkIH0pXG4gICAgcmV0dXJuIHJlc3VsdFsxXSB8fCByZXN1bHRbMF0/LnJlc3VsdCB8fCBbXVxuICB9XG5cbiAgYXN5bmMgbWFya0luc2lnaHRBc1JlYWQoaW5zaWdodElkOiBzdHJpbmcpOiBQcm9taXNlPGFueT4ge1xuICAgIGF3YWl0IHRoaXMuY29ubmVjdCgpXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5kYi5xdWVyeSgnVVNFIE5TIHJ1cGVlIERCIGZpbmFuY2U7IFVQREFURSBpbnNpZ2h0cyBTRVQgaXNSZWFkID0gdHJ1ZSBXSEVSRSBpZCA9ICRpbnNpZ2h0SWQnLCB7IGluc2lnaHRJZCB9KVxuICAgIHJldHVybiByZXN1bHRbMV0/LlswXSB8fCByZXN1bHRbMF0/LnJlc3VsdD8uWzBdXG4gIH1cblxuICAvLyBBbGVydHMgb3BlcmF0aW9uc1xuICBhc3luYyBjcmVhdGVBbGVydChhbGVydERhdGE6IGFueSk6IFByb21pc2U8YW55PiB7XG4gICAgYXdhaXQgdGhpcy5jb25uZWN0KClcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLmRiLnF1ZXJ5KCdVU0UgTlMgcnVwZWUgREIgZmluYW5jZTsgQ1JFQVRFIGFsZXJ0cyBDT05URU5UICRhbGVydERhdGEnLCB7IGFsZXJ0RGF0YSB9KVxuICAgIHJldHVybiByZXN1bHRbMV0/LlswXSB8fCByZXN1bHRbMF0/LnJlc3VsdD8uWzBdXG4gIH1cblxuICBhc3luYyBnZXRBbGVydHModXNlcklkOiBzdHJpbmcpOiBQcm9taXNlPGFueVtdPiB7XG4gICAgYXdhaXQgdGhpcy5jb25uZWN0KClcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLmRiLnF1ZXJ5KCdVU0UgTlMgcnVwZWUgREIgZmluYW5jZTsgU0VMRUNUICogRlJPTSBhbGVydHMgV0hFUkUgdXNlcklkID0gJHVzZXJJZCBPUkRFUiBCWSBjcmVhdGVkQXQgREVTQycsIHsgdXNlcklkIH0pXG4gICAgcmV0dXJuIHJlc3VsdFsxXSB8fCByZXN1bHRbMF0/LnJlc3VsdCB8fCBbXVxuICB9XG5cbiAgYXN5bmMgbWFya0FsZXJ0QXNSZWFkKGFsZXJ0SWQ6IHN0cmluZyk6IFByb21pc2U8YW55PiB7XG4gICAgYXdhaXQgdGhpcy5jb25uZWN0KClcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLmRiLnF1ZXJ5KCdVU0UgTlMgcnVwZWUgREIgZmluYW5jZTsgVVBEQVRFIGFsZXJ0cyBTRVQgaXNSZWFkID0gdHJ1ZSBXSEVSRSBpZCA9ICRhbGVydElkJywgeyBhbGVydElkIH0pXG4gICAgcmV0dXJuIHJlc3VsdFsxXT8uWzBdIHx8IHJlc3VsdFswXT8ucmVzdWx0Py5bMF1cbiAgfVxuXG4gIGFzeW5jIGRlbGV0ZUFsZXJ0KGFsZXJ0SWQ6IHN0cmluZyk6IFByb21pc2U8YW55PiB7XG4gICAgYXdhaXQgdGhpcy5jb25uZWN0KClcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLmRiLnF1ZXJ5KCdVU0UgTlMgcnVwZWUgREIgZmluYW5jZTsgREVMRVRFIGFsZXJ0cyBXSEVSRSBpZCA9ICRhbGVydElkJywgeyBhbGVydElkIH0pXG4gICAgcmV0dXJuIHJlc3VsdFsxXT8uWzBdIHx8IHJlc3VsdFswXT8ucmVzdWx0Py5bMF1cbiAgfVxuXG4gIC8vIEFuYWx5dGljcyBxdWVyaWVzXG4gIGFzeW5jIGdldE1vbnRobHlFeHBlbnNlcyh1c2VySWQ6IHN0cmluZywgeWVhcjogbnVtYmVyLCBtb250aDogbnVtYmVyKTogUHJvbWlzZTxhbnlbXT4ge1xuICAgIGF3YWl0IHRoaXMuY29ubmVjdCgpXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5kYi5xdWVyeShgXG4gICAgICBVU0UgTlMgcnVwZWUgREIgZmluYW5jZTtcbiAgICAgIFNFTEVDVCAqIEZST00gZXhwZW5zZXMgXG4gICAgICBXSEVSRSB1c2VySWQgPSAkdXNlcklkIFxuICAgICAgQU5EIHRpbWU6OnllYXIoZGF0ZSkgPSAkeWVhciBcbiAgICAgIEFORCB0aW1lOjptb250aChkYXRlKSA9ICRtb250aFxuICAgICAgT1JERVIgQlkgZGF0ZSBERVNDXG4gICAgYCwgeyB1c2VySWQsIHllYXIsIG1vbnRoIH0pXG4gICAgcmV0dXJuIHJlc3VsdFsxXSB8fCByZXN1bHRbMF0/LnJlc3VsdCB8fCBbXVxuICB9XG5cbiAgYXN5bmMgZ2V0RXhwZW5zZXNCeUNhdGVnb3J5KHVzZXJJZDogc3RyaW5nLCBzdGFydERhdGU6IHN0cmluZywgZW5kRGF0ZTogc3RyaW5nKTogUHJvbWlzZTxhbnlbXT4ge1xuICAgIGF3YWl0IHRoaXMuY29ubmVjdCgpXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5kYi5xdWVyeShgXG4gICAgICBVU0UgTlMgcnVwZWUgREIgZmluYW5jZTtcbiAgICAgIFNFTEVDVCBjYXRlZ29yeUlkLCBzdW0oYW1vdW50KSBhcyB0b3RhbCBcbiAgICAgIEZST00gZXhwZW5zZXMgXG4gICAgICBXSEVSRSB1c2VySWQgPSAkdXNlcklkIFxuICAgICAgQU5EIGRhdGUgPj0gJHN0YXJ0RGF0ZSBcbiAgICAgIEFORCBkYXRlIDw9ICRlbmREYXRlXG4gICAgICBHUk9VUCBCWSBjYXRlZ29yeUlkXG4gICAgYCwgeyB1c2VySWQsIHN0YXJ0RGF0ZSwgZW5kRGF0ZSB9KVxuICAgIHJldHVybiByZXN1bHRbMV0gfHwgcmVzdWx0WzBdPy5yZXN1bHQgfHwgW11cbiAgfVxuXG4gIGFzeW5jIGdldFRvdGFsU2F2aW5ncyh1c2VySWQ6IHN0cmluZyk6IFByb21pc2U8bnVtYmVyPiB7XG4gICAgYXdhaXQgdGhpcy5jb25uZWN0KClcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLmRiLnF1ZXJ5KGBcbiAgICAgIFVTRSBOUyBydXBlZSBEQiBmaW5hbmNlO1xuICAgICAgU0VMRUNUIHN1bShjdXJyZW50QW1vdW50KSBhcyB0b3RhbCBcbiAgICAgIEZST00gc2F2aW5nc19nb2FscyBcbiAgICAgIFdIRVJFIHVzZXJJZCA9ICR1c2VySWRcbiAgICBgLCB7IHVzZXJJZCB9KVxuICAgIHJldHVybiByZXN1bHRbMV0/LlswXT8udG90YWwgfHwgcmVzdWx0WzBdPy5yZXN1bHQ/LlswXT8udG90YWwgfHwgMFxuICB9XG59XG5cbmV4cG9ydCBjb25zdCBzdXJyZWFsREIgPSBTdXJyZWFsREJTZXJ2aWNlLmdldEluc3RhbmNlKClcbmV4cG9ydCBkZWZhdWx0IHN1cnJlYWxEQiAiXSwibmFtZXMiOlsiU3VycmVhbCIsIlNVUlJFQUxfQ09ORklHIiwidXJsIiwicHJvY2VzcyIsImVudiIsIk5FWFRfUFVCTElDX1NVUlJFQUxfVVJMIiwibmFtZXNwYWNlIiwiTkVYVF9QVUJMSUNfU1VSUkVBTF9OQU1FU1BBQ0UiLCJkYXRhYmFzZSIsIk5FWFRfUFVCTElDX1NVUlJFQUxfREFUQUJBU0UiLCJ1c2VybmFtZSIsIk5FWFRfUFVCTElDX1NVUlJFQUxfVVNFUk5BTUUiLCJwYXNzd29yZCIsIk5FWFRfUFVCTElDX1NVUlJFQUxfUEFTU1dPUkQiLCJ0b2tlbiIsIk5FWFRfUFVCTElDX1NVUlJFQUxfVE9LRU4iLCJTdXJyZWFsREJTZXJ2aWNlIiwiZ2V0SW5zdGFuY2UiLCJpbnN0YW5jZSIsImNvbm5lY3QiLCJpc0Nvbm5lY3RlZCIsImRiIiwiYXV0aGVudGljYXRlIiwic2lnbmluIiwidXNlIiwibnMiLCJjb25zb2xlIiwibG9nIiwiaW5pdGlhbGl6ZVNjaGVtYSIsImZpeEFsbFVzZXJzIiwiZXJyb3IiLCJ3YXJuIiwiZml4RGF0ZUZpZWxkc1NpbXBsZSIsImZpeFJlY29yZFJlZmVyZW5jZXMiLCJmaXhTcGVjaWZpY1JlY29yZEVycm9yIiwiZml4QWxsUmVjb3JkUmVmZXJlbmNlcyIsInF1ZXJ5IiwibWVzc2FnZSIsImluY2x1ZGVzIiwiZGlzY29ubmVjdCIsImNsb3NlIiwiY3JlYXRlVXNlciIsInVzZXJEYXRhIiwicmVzdWx0IiwiZGVmYXVsdFVzZXJEYXRhIiwicHJlZmVyZW5jZXMiLCJjdXJyZW5jeSIsInRoZW1lIiwibm90aWZpY2F0aW9ucyIsImRlZmF1bHRQYXltZW50TWV0aG9kIiwiYnVkZ2V0TGltaXRzIiwiYWxlcnRTZXR0aW5ncyIsIm92ZXJzcGVuZGluZ0FsZXJ0cyIsImJ1ZGdldExpbWl0QWxlcnRzIiwic2F2aW5nc0dvYWxBbGVydHMiLCJ3ZWVrbHlJbnNpZ2h0cyIsImVtYWlsTm90aWZpY2F0aW9ucyIsInB1c2hOb3RpZmljYXRpb25zIiwiZ2FtaWZpY2F0aW9uRW5hYmxlZCIsImF1dG9CYWNrdXBFbmFibGVkIiwiY2xvdWRTeW5jRW5hYmxlZCIsInJlY2VpcHRTY2FubmluZ0VuYWJsZWQiLCJwcm9maWxlcyIsImFjdGl2ZVByb2ZpbGVJZCIsInNlY3VyaXR5U2V0dGluZ3MiLCJwaW5FbmFibGVkIiwiYmlvbWV0cmljRW5hYmxlZCIsImF1dG9Mb2NrVGltZW91dCIsInJlcXVpcmVBdXRoRm9yRXhwb3J0IiwicmVxdWlyZUF1dGhGb3JTZXR0aW5ncyIsImFjaGlldmVtZW50cyIsInN0cmVha3MiLCJjdXJyZW50U3RyZWFrIiwibG9uZ2VzdFN0cmVhayIsIm5vU3BlbmREYXlzIiwidG90YWxOb1NwZW5kRGF5cyIsImN1cnJlbnROb1NwZW5kU3RyZWFrIiwibG9uZ2VzdE5vU3BlbmRTdHJlYWsiLCJ1c2VyIiwiaWQiLCJzcGxpdCIsImdldFVzZXIiLCJ1c2VySWQiLCJ1cGRhdGVVc2VyIiwiZGVsZXRlVXNlciIsImZpeFVzZXJGaWVsZHMiLCJmaXhEYXRlRmllbGRzIiwiZXhwZW5zZXMiLCJsZW5ndGgiLCJleHBlbnNlIiwiZGF0ZSIsImluY29tZXMiLCJpbmNvbWUiLCJzdWNjZXNzIiwibmVlZHNGaXgiLCJjYXRlZ29yeUlkIiwiY2F0ZWdvcmllcyIsImNhdGVnb3J5IiwidGFibGVzIiwidGFibGUiLCJyZWNvcmRzIiwicmVjb3JkIiwiZml4ZWRDb3VudCIsImZpeGVkIiwicmVzdWx0MiIsInJlc3VsdDMiLCJjcmVhdGVFeHBlbnNlIiwiZXhwZW5zZURhdGEiLCJjbGVhbkV4cGVuc2VEYXRhIiwiZ2V0RXhwZW5zZXMiLCJ1cGRhdGVFeHBlbnNlIiwiZXhwZW5zZUlkIiwiZGVsZXRlRXhwZW5zZSIsImNyZWF0ZUluY29tZSIsImluY29tZURhdGEiLCJjbGVhbkluY29tZURhdGEiLCJnZXRJbmNvbWVzIiwidXBkYXRlSW5jb21lIiwiaW5jb21lSWQiLCJkZWxldGVJbmNvbWUiLCJjcmVhdGVDYXRlZ29yeSIsImNhdGVnb3J5RGF0YSIsImdldENhdGVnb3JpZXMiLCJ1cGRhdGVDYXRlZ29yeSIsImRlbGV0ZUNhdGVnb3J5IiwiY3JlYXRlU2F2aW5nc0dvYWwiLCJnb2FsRGF0YSIsImdldFNhdmluZ3NHb2FscyIsInVwZGF0ZVNhdmluZ3NHb2FsIiwiZ29hbElkIiwiZGVsZXRlU2F2aW5nc0dvYWwiLCJjcmVhdGVCdWRnZXRMaW1pdCIsImxpbWl0RGF0YSIsImdldEJ1ZGdldExpbWl0cyIsInVwZGF0ZUJ1ZGdldExpbWl0IiwibGltaXRJZCIsImRlbGV0ZUJ1ZGdldExpbWl0IiwiY3JlYXRlSW5zaWdodCIsImluc2lnaHREYXRhIiwiZ2V0SW5zaWdodHMiLCJtYXJrSW5zaWdodEFzUmVhZCIsImluc2lnaHRJZCIsImNyZWF0ZUFsZXJ0IiwiYWxlcnREYXRhIiwiZ2V0QWxlcnRzIiwibWFya0FsZXJ0QXNSZWFkIiwiYWxlcnRJZCIsImRlbGV0ZUFsZXJ0IiwiZ2V0TW9udGhseUV4cGVuc2VzIiwieWVhciIsIm1vbnRoIiwiZ2V0RXhwZW5zZXNCeUNhdGVnb3J5Iiwic3RhcnREYXRlIiwiZW5kRGF0ZSIsImdldFRvdGFsU2F2aW5ncyIsInRvdGFsIiwic3VycmVhbERCIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./lib/surrealdb.ts\n"));

/***/ })

});