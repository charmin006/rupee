"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/page",{

/***/ "(app-pages-browser)/./lib/surrealdb.ts":
/*!**************************!*\
  !*** ./lib/surrealdb.ts ***!
  \**************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   surrealDB: function() { return /* binding */ surrealDB; }\n/* harmony export */ });\n/* harmony import */ var surrealdb__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! surrealdb */ \"(app-pages-browser)/./node_modules/surrealdb/dist/index.mjs\");\n/* provided dependency */ var process = __webpack_require__(/*! process */ \"(app-pages-browser)/./node_modules/next/dist/build/polyfills/process.js\");\n\n// SurrealDB configuration\nconst SURREAL_CONFIG = {\n    url: \"wss://proud-mountain-06c6jke0n1vbn801agrm8g9sj4.aws-euw1.surreal.cloud/rpc\" || 0,\n    namespace: \"charmee\" || 0,\n    database: \"ruppee\" || 0,\n    // For local development\n    username: process.env.NEXT_PUBLIC_SURREAL_USERNAME || \"root\",\n    password: process.env.NEXT_PUBLIC_SURREAL_PASSWORD || \"root\",\n    // For Surreal Cloud (token-based auth)\n    token: \"eyJhbGciOiJQUzI1NiIsImtpZCI6IjFkNmViYjAyLWM5ZjEtNDg4Zi1iNjhjLWNlMzMzMzU4YzgyOCIsInR5cCI6IkpXVCJ9.eyJhYyI6ImNsb3VkIiwiYXVkIjoiMDZjNmprZTBuMXZibjgwMWFncm04ZzlzajQiLCJleHAiOjE3NTQxMjM1NDYsImlhdCI6MTc1NDEyMzQ4NiwicmwiOlsiT3duZXIiXX0.gxlfCBeWWUd4QZETJObI1S3N0qbL3_Kf1EhEFvrVZoZ2CZdu3lKiS7dSFR9mPupiI9huRuo2uoyd-vS14UMiL1rGWrBUxczB9yunRSnJPkIlsCVj47L2DYV5m6lVbguSZE9kagbYUHuO655wtH5bV96Or4z3TJE2YM5DcdPBzcrDFUUz2tamNbTd_ikOWtMbhgHdWNyaZR2QE16AQsPf3G99IZGNpM9SSmDzd0GNOpQOMTcp_-C4r4O042YvfCOYGtkb2Tpg6fKJ_ezRDuO8HASanB6I1aBKkUI1x005XTWTAak-QVvI2EL92MZkMj9HIKC1ZPfdyBOLGxpprK7JjA\" || 0\n};\nclass SurrealDBService {\n    static getInstance() {\n        if (!SurrealDBService.instance) {\n            SurrealDBService.instance = new SurrealDBService();\n        }\n        return SurrealDBService.instance;\n    }\n    async connect() {\n        if (this.isConnected) return;\n        try {\n            await this.db.connect(SURREAL_CONFIG.url);\n            // Authenticate based on environment (Cloud vs Local)\n            if (SURREAL_CONFIG.token) {\n                // Surreal Cloud: Use token authentication\n                await this.db.authenticate(SURREAL_CONFIG.token);\n            } else {\n                // Local development: Use username/password\n                await this.db.signin({\n                    username: SURREAL_CONFIG.username,\n                    password: SURREAL_CONFIG.password\n                });\n            }\n            // Use the namespace and database (create if they don't exist)\n            await this.db.use({\n                ns: SURREAL_CONFIG.namespace,\n                db: SURREAL_CONFIG.database\n            });\n            this.isConnected = true;\n            console.log(\"✅ Connected to SurrealDB\");\n            // Initialize database schema\n            await this.initializeSchema();\n            // Fix any existing users with NONE values\n            try {\n                await this.fixAllUsers();\n                console.log(\"✅ Fixed existing users with NONE values\");\n            } catch (error) {\n                console.warn(\"⚠️ Could not fix existing users:\", error);\n            }\n            // Fix any existing records with string dates\n            try {\n                await this.fixDateFieldsSimple();\n                console.log(\"✅ Fixed existing records with string dates\");\n            } catch (error) {\n                console.warn(\"⚠️ Could not fix existing date fields:\", error);\n            }\n            // Fix any existing records with record references instead of string IDs\n            try {\n                await this.fixRecordReferences();\n                console.log(\"✅ Fixed existing records with record references\");\n            } catch (error) {\n                console.warn(\"⚠️ Could not fix existing record references:\", error);\n            }\n            // Fix the specific error mentioned in the user query\n            try {\n                await this.fixSpecificRecordError();\n                console.log(\"✅ Fixed specific record error\");\n            } catch (error) {\n                console.warn(\"⚠️ Could not fix specific record error:\", error);\n            }\n            // Additional comprehensive fix for any remaining record references\n            try {\n                await this.fixAllRecordReferences();\n                console.log(\"✅ Fixed all remaining record references\");\n            } catch (error) {\n                console.warn(\"⚠️ Could not fix all record references:\", error);\n            }\n        } catch (error) {\n            console.error(\"❌ Failed to connect to SurrealDB:\", error);\n            throw error;\n        }\n    }\n    async initializeSchema() {\n        try {\n            console.log(\"\\uD83D\\uDD0D Initializing schema...\");\n            // Wrap in try-catch to handle \"table already exists\" errors gracefully\n            try {\n                await this.db.query(\"\\n          USE NS rupee DB finance;\\n          \\n          -- Users table\\n          DEFINE TABLE users SCHEMAFULL;\\n          DEFINE FIELD email ON users TYPE string ASSERT $value != NONE;\\n          DEFINE FIELD name ON users TYPE string;\\n          DEFINE FIELD preferences ON users TYPE object DEFAULT {\\n            currency: '₹',\\n            theme: 'light',\\n            notifications: true,\\n            defaultPaymentMethod: 'cash',\\n            budgetLimits: [],\\n            alertSettings: {\\n              overspendingAlerts: true,\\n              budgetLimitAlerts: true,\\n              savingsGoalAlerts: true,\\n              weeklyInsights: true,\\n              emailNotifications: false,\\n              pushNotifications: true\\n            },\\n            gamificationEnabled: true,\\n            autoBackupEnabled: false,\\n            cloudSyncEnabled: false,\\n            receiptScanningEnabled: false\\n          };\\n          DEFINE FIELD profiles ON users TYPE array DEFAULT [];\\n          DEFINE FIELD activeProfileId ON users TYPE string DEFAULT '';\\n          DEFINE FIELD securitySettings ON users TYPE object DEFAULT {\\n            pinEnabled: false,\\n            biometricEnabled: false,\\n            autoLockTimeout: 5,\\n            requireAuthForExport: true,\\n            requireAuthForSettings: false\\n          };\\n          DEFINE FIELD achievements ON users TYPE array DEFAULT [];\\n          DEFINE FIELD streaks ON users TYPE object DEFAULT {\\n            currentStreak: 0,\\n            longestStreak: 0,\\n            noSpendDays: 0,\\n            totalNoSpendDays: 0,\\n            currentNoSpendStreak: 0,\\n            longestNoSpendStreak: 0\\n          };\\n          DEFINE FIELD createdAt ON users TYPE datetime DEFAULT time::now();\\n          DEFINE FIELD updatedAt ON users TYPE datetime DEFAULT time::now();\\n          \\n          -- Expenses table\\n          DEFINE TABLE expenses SCHEMAFULL;\\n          DEFINE FIELD userId ON expenses TYPE string;\\n          DEFINE FIELD amount ON expenses TYPE number;\\n          DEFINE FIELD description ON expenses TYPE string;\\n          DEFINE FIELD categoryId ON expenses TYPE string;\\n          DEFINE FIELD date ON expenses TYPE datetime;\\n          DEFINE FIELD paymentMethod ON expenses TYPE string;\\n          DEFINE FIELD createdAt ON expenses TYPE datetime DEFAULT time::now();\\n          DEFINE FIELD updatedAt ON expenses TYPE datetime DEFAULT time::now();\\n          \\n          -- Incomes table\\n          DEFINE TABLE incomes SCHEMAFULL;\\n          DEFINE FIELD userId ON incomes TYPE string;\\n          DEFINE FIELD amount ON incomes TYPE number;\\n          DEFINE FIELD source ON incomes TYPE string;\\n          DEFINE FIELD date ON incomes TYPE datetime;\\n          DEFINE FIELD createdAt ON incomes TYPE datetime DEFAULT time::now();\\n          DEFINE FIELD updatedAt ON incomes TYPE datetime DEFAULT time::now();\\n          \\n          -- Categories table\\n          DEFINE TABLE categories SCHEMAFULL;\\n          DEFINE FIELD userId ON categories TYPE string;\\n          DEFINE FIELD name ON categories TYPE string;\\n          DEFINE FIELD color ON categories TYPE string;\\n          DEFINE FIELD icon ON categories TYPE string;\\n          DEFINE FIELD isCustom ON categories TYPE bool DEFAULT true;\\n          DEFINE FIELD createdAt ON categories TYPE datetime DEFAULT time::now();\\n          DEFINE FIELD updatedAt ON categories TYPE datetime DEFAULT time::now();\\n          \\n          -- Savings goals table\\n          DEFINE TABLE savings_goals SCHEMAFULL;\\n          DEFINE FIELD userId ON savings_goals TYPE string;\\n          DEFINE FIELD name ON savings_goals TYPE string;\\n          DEFINE FIELD targetAmount ON savings_goals TYPE number;\\n          DEFINE FIELD currentAmount ON savings_goals TYPE number DEFAULT 0;\\n          DEFINE FIELD targetDate ON savings_goals TYPE datetime;\\n          DEFINE FIELD createdAt ON savings_goals TYPE datetime DEFAULT time::now();\\n          DEFINE FIELD updatedAt ON savings_goals TYPE datetime DEFAULT time::now();\\n          \\n          -- Budget limits table\\n          DEFINE TABLE budget_limits SCHEMAFULL;\\n          DEFINE FIELD userId ON budget_limits TYPE string;\\n          DEFINE FIELD categoryId ON budget_limits TYPE string;\\n          DEFINE FIELD amount ON budget_limits TYPE number;\\n          DEFINE FIELD period ON budget_limits TYPE string;\\n          DEFINE FIELD isActive ON budget_limits TYPE bool DEFAULT true;\\n          DEFINE FIELD createdAt ON budget_limits TYPE datetime DEFAULT time::now();\\n          DEFINE FIELD updatedAt ON budget_limits TYPE datetime DEFAULT time::now();\\n          \\n          -- Insights table\\n          DEFINE TABLE insights SCHEMAFULL;\\n          DEFINE FIELD userId ON insights TYPE string;\\n          DEFINE FIELD type ON insights TYPE string;\\n          DEFINE FIELD title ON insights TYPE string;\\n          DEFINE FIELD description ON insights TYPE string;\\n          DEFINE FIELD data ON insights TYPE object;\\n          DEFINE FIELD isRead ON insights TYPE bool DEFAULT false;\\n          DEFINE FIELD createdAt ON insights TYPE datetime DEFAULT time::now();\\n          \\n          -- Alerts table\\n          DEFINE TABLE alerts SCHEMAFULL;\\n          DEFINE FIELD userId ON alerts TYPE string;\\n          DEFINE FIELD type ON alerts TYPE string;\\n          DEFINE FIELD title ON alerts TYPE string;\\n          DEFINE FIELD message ON alerts TYPE string;\\n          DEFINE FIELD severity ON alerts TYPE string;\\n          DEFINE FIELD isRead ON alerts TYPE bool DEFAULT false;\\n          DEFINE FIELD createdAt ON alerts TYPE datetime DEFAULT time::now();\\n          \\n          -- Recurring expenses table\\n          DEFINE TABLE recurring_expenses SCHEMAFULL;\\n          DEFINE FIELD userId ON recurring_expenses TYPE string;\\n          DEFINE FIELD amount ON recurring_expenses TYPE number;\\n          DEFINE FIELD description ON recurring_expenses TYPE string;\\n          DEFINE FIELD categoryId ON recurring_expenses TYPE string;\\n          DEFINE FIELD frequency ON recurring_expenses TYPE string;\\n          DEFINE FIELD nextDueDate ON recurring_expenses TYPE datetime;\\n          DEFINE FIELD isActive ON recurring_expenses TYPE bool DEFAULT true;\\n          DEFINE FIELD createdAt ON recurring_expenses TYPE datetime DEFAULT time::now();\\n          DEFINE FIELD updatedAt ON recurring_expenses TYPE datetime DEFAULT time::now();\\n          \\n          -- Profiles table\\n          DEFINE TABLE profiles SCHEMAFULL;\\n          DEFINE FIELD userId ON profiles TYPE string;\\n          DEFINE FIELD name ON profiles TYPE string;\\n          DEFINE FIELD role ON profiles TYPE string;\\n          DEFINE FIELD permissions ON profiles TYPE object;\\n          DEFINE FIELD createdAt ON profiles TYPE datetime DEFAULT time::now();\\n          DEFINE FIELD updatedAt ON profiles TYPE datetime DEFAULT time::now();\\n          \\n          -- Achievements table\\n          DEFINE TABLE achievements SCHEMAFULL;\\n          DEFINE FIELD userId ON achievements TYPE string;\\n          DEFINE FIELD name ON achievements TYPE string;\\n          DEFINE FIELD description ON achievements TYPE string;\\n          DEFINE FIELD icon ON achievements TYPE string;\\n          DEFINE FIELD progress ON achievements TYPE number DEFAULT 0;\\n          DEFINE FIELD maxProgress ON achievements TYPE number;\\n          DEFINE FIELD isUnlocked ON achievements TYPE bool DEFAULT false;\\n          DEFINE FIELD unlockedAt ON achievements TYPE datetime;\\n          DEFINE FIELD createdAt ON achievements TYPE datetime DEFAULT time::now();\\n          \\n          -- Backup history table\\n          DEFINE TABLE backup_history SCHEMAFULL;\\n          DEFINE FIELD userId ON backup_history TYPE string;\\n          DEFINE FIELD type ON backup_history TYPE string;\\n          DEFINE FIELD status ON backup_history TYPE string;\\n          DEFINE FIELD fileSize ON backup_history TYPE number;\\n          DEFINE FIELD createdAt ON backup_history TYPE datetime DEFAULT time::now();\\n        \");\n                console.log(\"✅ Database schema initialized\");\n            } catch (error) {\n                // Handle \"table already exists\" error gracefully\n                if (error.message && error.message.includes(\"already exists\")) {\n                    console.log(\"ℹ️ Schema already exists, skipping initialization\");\n                } else {\n                    console.error(\"❌ Failed to initialize schema:\", error);\n                    throw error;\n                }\n            }\n        } catch (error) {\n            console.error(\"❌ Error in initializeSchema:\", error);\n            throw error;\n        }\n    }\n    async disconnect() {\n        if (this.isConnected) {\n            await this.db.close();\n            this.isConnected = false;\n            console.log(\"\\uD83D\\uDD0C Disconnected from SurrealDB\");\n        }\n    }\n    // User operations\n    async createUser(userData) {\n        var _result_, _result__result, _result_1;\n        await this.connect();\n        // Ensure required fields have default values\n        const defaultUserData = {\n            preferences: {\n                currency: \"₹\",\n                theme: \"light\",\n                notifications: true,\n                defaultPaymentMethod: \"cash\",\n                budgetLimits: [],\n                alertSettings: {\n                    overspendingAlerts: true,\n                    budgetLimitAlerts: true,\n                    savingsGoalAlerts: true,\n                    weeklyInsights: true,\n                    emailNotifications: false,\n                    pushNotifications: true\n                },\n                gamificationEnabled: true,\n                autoBackupEnabled: false,\n                cloudSyncEnabled: false,\n                receiptScanningEnabled: false\n            },\n            profiles: [],\n            activeProfileId: \"\",\n            securitySettings: {\n                pinEnabled: false,\n                biometricEnabled: false,\n                autoLockTimeout: 5,\n                requireAuthForExport: true,\n                requireAuthForSettings: false\n            },\n            achievements: [],\n            streaks: {\n                currentStreak: 0,\n                longestStreak: 0,\n                noSpendDays: 0,\n                totalNoSpendDays: 0,\n                currentNoSpendStreak: 0,\n                longestNoSpendStreak: 0\n            },\n            ...userData\n        };\n        const result = await this.db.query(\"USE NS rupee DB finance; CREATE users CONTENT $userData\", {\n            userData: defaultUserData\n        });\n        const user = ((_result_ = result[1]) === null || _result_ === void 0 ? void 0 : _result_[0]) || ((_result_1 = result[0]) === null || _result_1 === void 0 ? void 0 : (_result__result = _result_1.result) === null || _result__result === void 0 ? void 0 : _result__result[0]);\n        // Return user with ID as string, not record reference\n        if (user && user.id) {\n            if (typeof user.id === \"object\" && user.id.id) {\n                // Handle _RecordId object\n                user.id = user.id.id;\n            } else if (typeof user.id === \"string\" && user.id.includes(\":\")) {\n                // Handle string record reference\n                user.id = user.id.split(\":\")[1] || user.id;\n            }\n        }\n        return user;\n    }\n    async getUser(userId) {\n        var _result_, _result__result, _result_1;\n        await this.connect();\n        const result = await this.db.query(\"USE NS rupee DB finance; SELECT * FROM users WHERE id = $userId\", {\n            userId\n        });\n        return ((_result_ = result[1]) === null || _result_ === void 0 ? void 0 : _result_[0]) || ((_result_1 = result[0]) === null || _result_1 === void 0 ? void 0 : (_result__result = _result_1.result) === null || _result__result === void 0 ? void 0 : _result__result[0]);\n    }\n    async updateUser(userId, userData) {\n        var _result_, _result__result, _result_1;\n        await this.connect();\n        const result = await this.db.query(\"USE NS rupee DB finance; UPDATE users SET * = $userData WHERE id = $userId\", {\n            userId,\n            userData\n        });\n        return ((_result_ = result[1]) === null || _result_ === void 0 ? void 0 : _result_[0]) || ((_result_1 = result[0]) === null || _result_1 === void 0 ? void 0 : (_result__result = _result_1.result) === null || _result__result === void 0 ? void 0 : _result__result[0]);\n    }\n    async deleteUser(userId) {\n        var _result_, _result__result, _result_1;\n        await this.connect();\n        const result = await this.db.query(\"USE NS rupee DB finance; DELETE users WHERE id = $userId\", {\n            userId\n        });\n        return ((_result_ = result[1]) === null || _result_ === void 0 ? void 0 : _result_[0]) || ((_result_1 = result[0]) === null || _result_1 === void 0 ? void 0 : (_result__result = _result_1.result) === null || _result__result === void 0 ? void 0 : _result__result[0]);\n    }\n    async fixUserFields(userId) {\n        var _result_, _result__result, _result_1;\n        await this.connect();\n        // Fix users with NONE values for required fields\n        const result = await this.db.query(\"\\n      USE NS rupee DB finance;\\n      UPDATE users SET \\n        achievements = [] WHERE id = $userId AND achievements = NONE;\\n      UPDATE users SET \\n        streaks = {\\n          currentStreak: 0,\\n          longestStreak: 0,\\n          noSpendDays: 0,\\n          totalNoSpendDays: 0,\\n          currentNoSpendStreak: 0,\\n          longestNoSpendStreak: 0\\n        } WHERE id = $userId AND streaks = NONE;\\n      UPDATE users SET \\n        profiles = [] WHERE id = $userId AND profiles = NONE;\\n      UPDATE users SET \\n        activeProfileId = '' WHERE id = $userId AND activeProfileId = NONE;\\n      UPDATE users SET \\n        securitySettings = {\\n          pinEnabled: false,\\n          biometricEnabled: false,\\n          autoLockTimeout: 5,\\n          requireAuthForExport: true,\\n          requireAuthForSettings: false\\n        } WHERE id = $userId AND securitySettings = NONE;\\n    \", {\n            userId\n        });\n        return ((_result_ = result[1]) === null || _result_ === void 0 ? void 0 : _result_[0]) || ((_result_1 = result[0]) === null || _result_1 === void 0 ? void 0 : (_result__result = _result_1.result) === null || _result__result === void 0 ? void 0 : _result__result[0]);\n    }\n    async fixAllUsers() {\n        var _result_;\n        await this.connect();\n        // Fix all users with NONE values for required fields\n        const result = await this.db.query(\"\\n      USE NS rupee DB finance;\\n      UPDATE users SET \\n        achievements = [] WHERE achievements = NONE;\\n      UPDATE users SET \\n        streaks = {\\n          currentStreak: 0,\\n          longestStreak: 0,\\n          noSpendDays: 0,\\n          totalNoSpendDays: 0,\\n          currentNoSpendStreak: 0,\\n          longestNoSpendStreak: 0\\n        } WHERE streaks = NONE;\\n      UPDATE users SET \\n        profiles = [] WHERE profiles = NONE;\\n      UPDATE users SET \\n        activeProfileId = '' WHERE activeProfileId = NONE;\\n      UPDATE users SET \\n        securitySettings = {\\n          pinEnabled: false,\\n          biometricEnabled: false,\\n          autoLockTimeout: 5,\\n          requireAuthForExport: true,\\n          requireAuthForSettings: false\\n        } WHERE securitySettings = NONE;\\n    \");\n        return result[1] || ((_result_ = result[0]) === null || _result_ === void 0 ? void 0 : _result_.result) || [];\n    }\n    async fixDateFields() {\n        var _result_;\n        await this.connect();\n        // Fix expenses with string dates by converting them to datetime\n        const result = await this.db.query(\"\\n      USE NS rupee DB finance;\\n      UPDATE expenses SET \\n        date = time::parse(date) WHERE type::of(date) = 'string';\\n      UPDATE incomes SET \\n        date = time::parse(date) WHERE type::of(date) = 'string';\\n      UPDATE savings_goals SET \\n        targetDate = time::parse(targetDate) WHERE type::of(targetDate) = 'string';\\n      UPDATE recurring_expenses SET \\n        nextDueDate = time::parse(nextDueDate) WHERE type::of(nextDueDate) = 'string';\\n    \");\n        return result[1] || ((_result_ = result[0]) === null || _result_ === void 0 ? void 0 : _result_.result) || [];\n    }\n    async fixDateFieldsSimple() {\n        await this.connect();\n        // Get all expenses and check if they have string dates\n        const expenses = await this.db.query(\"\\n      USE NS rupee DB finance;\\n      SELECT * FROM expenses;\\n    \");\n        if (expenses[1] && expenses[1].length > 0) {\n            for (const expense of expenses[1]){\n                // Check if the date is a string (not a datetime object)\n                if (typeof expense.date === \"string\" && expense.date.includes(\"T\")) {\n                    try {\n                        await this.db.query(\"\\n              USE NS rupee DB finance;\\n              UPDATE \".concat(expense.id, \" SET date = time::parse('\").concat(expense.date, \"');\\n            \"));\n                    } catch (error) {\n                        console.warn(\"Could not fix date for expense \".concat(expense.id, \":\"), error);\n                    }\n                }\n            }\n        }\n        // Get all incomes and check if they have string dates\n        const incomes = await this.db.query(\"\\n      USE NS rupee DB finance;\\n      SELECT * FROM incomes;\\n    \");\n        if (incomes[1] && incomes[1].length > 0) {\n            for (const income of incomes[1]){\n                // Check if the date is a string (not a datetime object)\n                if (typeof income.date === \"string\" && income.date.includes(\"T\")) {\n                    try {\n                        await this.db.query(\"\\n              USE NS rupee DB finance;\\n              UPDATE \".concat(income.id, \" SET date = time::parse('\").concat(income.date, \"');\\n            \"));\n                    } catch (error) {\n                        console.warn(\"Could not fix date for income \".concat(income.id, \":\"), error);\n                    }\n                }\n            }\n        }\n        return {\n            success: true\n        };\n    }\n    async fixRecordReferences() {\n        await this.connect();\n        // Fix expenses with record references instead of string IDs\n        const expenses = await this.db.query(\"\\n      USE NS rupee DB finance;\\n      SELECT * FROM expenses;\\n    \");\n        if (expenses[1] && expenses[1].length > 0) {\n            for (const expense of expenses[1]){\n                // Check if userId is a record reference or _RecordId object\n                if (expense.userId) {\n                    let userId = expense.userId;\n                    let needsFix = false;\n                    if (typeof expense.userId === \"object\" && expense.userId.id) {\n                        // Handle _RecordId object\n                        userId = expense.userId.id;\n                        needsFix = true;\n                    } else if (typeof expense.userId === \"string\" && expense.userId.includes(\":\")) {\n                        // Handle string record reference\n                        userId = expense.userId.split(\":\")[1];\n                        needsFix = true;\n                    }\n                    if (needsFix) {\n                        try {\n                            await this.db.query(\"\\n                USE NS rupee DB finance;\\n                UPDATE \".concat(expense.id, \" SET userId = '\").concat(userId, \"';\\n              \"));\n                            console.log(\"Fixed userId for expense \".concat(expense.id, \": \").concat(expense.userId, \" -> \").concat(userId));\n                        } catch (error) {\n                            console.warn(\"Could not fix userId for expense \".concat(expense.id, \":\"), error);\n                        }\n                    }\n                }\n                // Also check categoryId if it's a record reference\n                if (expense.categoryId && typeof expense.categoryId === \"string\" && expense.categoryId.includes(\":\")) {\n                    try {\n                        const categoryId = expense.categoryId.split(\":\")[1];\n                        await this.db.query(\"\\n              USE NS rupee DB finance;\\n              UPDATE \".concat(expense.id, \" SET categoryId = '\").concat(categoryId, \"';\\n            \"));\n                        console.log(\"Fixed categoryId for expense \".concat(expense.id, \": \").concat(expense.categoryId, \" -> \").concat(categoryId));\n                    } catch (error) {\n                        console.warn(\"Could not fix categoryId for expense \".concat(expense.id, \":\"), error);\n                    }\n                }\n            }\n        }\n        // Fix incomes with record references instead of string IDs\n        const incomes = await this.db.query(\"\\n      USE NS rupee DB finance;\\n      SELECT * FROM incomes;\\n    \");\n        if (incomes[1] && incomes[1].length > 0) {\n            for (const income of incomes[1]){\n                // Check if userId is a record reference or _RecordId object\n                if (income.userId) {\n                    let userId = income.userId;\n                    let needsFix = false;\n                    if (typeof income.userId === \"object\" && income.userId.id) {\n                        // Handle _RecordId object\n                        userId = income.userId.id;\n                        needsFix = true;\n                    } else if (typeof income.userId === \"string\" && income.userId.includes(\":\")) {\n                        // Handle string record reference\n                        userId = income.userId.split(\":\")[1];\n                        needsFix = true;\n                    }\n                    if (needsFix) {\n                        try {\n                            await this.db.query(\"\\n                USE NS rupee DB finance;\\n                UPDATE \".concat(income.id, \" SET userId = '\").concat(userId, \"';\\n              \"));\n                            console.log(\"Fixed userId for income \".concat(income.id, \": \").concat(income.userId, \" -> \").concat(userId));\n                        } catch (error) {\n                            console.warn(\"Could not fix userId for income \".concat(income.id, \":\"), error);\n                        }\n                    }\n                }\n            }\n        }\n        // Fix categories with record references\n        const categories = await this.db.query(\"\\n      USE NS rupee DB finance;\\n      SELECT * FROM categories;\\n    \");\n        if (categories[1] && categories[1].length > 0) {\n            for (const category of categories[1]){\n                // Check if userId is a record reference (contains ':')\n                if (category.userId && typeof category.userId === \"string\" && category.userId.includes(\":\")) {\n                    try {\n                        const userId = category.userId.split(\":\")[1];\n                        await this.db.query(\"\\n              USE NS rupee DB finance;\\n              UPDATE \".concat(category.id, \" SET userId = '\").concat(userId, \"';\\n            \"));\n                        console.log(\"Fixed userId for category \".concat(category.id, \": \").concat(category.userId, \" -> \").concat(userId));\n                    } catch (error) {\n                        console.warn(\"Could not fix userId for category \".concat(category.id, \":\"), error);\n                    }\n                }\n            }\n        }\n        // Fix other tables with userId references\n        const tables = [\n            \"savings_goals\",\n            \"budget_limits\",\n            \"insights\",\n            \"alerts\",\n            \"recurring_expenses\",\n            \"profiles\",\n            \"achievements\",\n            \"backup_history\"\n        ];\n        for (const table of tables){\n            try {\n                const records = await this.db.query(\"\\n          USE NS rupee DB finance;\\n          SELECT * FROM \".concat(table, \";\\n        \"));\n                if (records[1] && records[1].length > 0) {\n                    for (const record of records[1]){\n                        if (record.userId && typeof record.userId === \"string\" && record.userId.includes(\":\")) {\n                            try {\n                                const userId = record.userId.split(\":\")[1];\n                                await this.db.query(\"\\n                  USE NS rupee DB finance;\\n                  UPDATE \".concat(record.id, \" SET userId = '\").concat(userId, \"';\\n                \"));\n                                console.log(\"Fixed userId for \".concat(table, \" \").concat(record.id, \": \").concat(record.userId, \" -> \").concat(userId));\n                            } catch (error) {\n                                console.warn(\"Could not fix userId for \".concat(table, \" \").concat(record.id, \":\"), error);\n                            }\n                        }\n                    }\n                }\n            } catch (error) {\n                console.warn(\"Could not process table \".concat(table, \":\"), error);\n            }\n        }\n        return {\n            success: true\n        };\n    }\n    // Comprehensive method to fix all record references\n    async fixAllRecordReferences() {\n        await this.connect();\n        try {\n            // Get all expenses and fix any record references\n            const expenses = await this.db.query(\"\\n        USE NS rupee DB finance;\\n        SELECT * FROM expenses;\\n      \");\n            let fixedCount = 0;\n            if (expenses[1] && expenses[1].length > 0) {\n                for (const expense of expenses[1]){\n                    if (expense.userId && typeof expense.userId === \"string\" && expense.userId.includes(\":\")) {\n                        try {\n                            const userId = expense.userId.split(\":\")[1];\n                            await this.db.query(\"\\n                USE NS rupee DB finance;\\n                UPDATE \".concat(expense.id, \" SET userId = '\").concat(userId, \"';\\n              \"));\n                            console.log(\"Fixed userId for expense \".concat(expense.id, \": \").concat(expense.userId, \" -> \").concat(userId));\n                            fixedCount++;\n                        } catch (error) {\n                            console.warn(\"Could not fix userId for expense \".concat(expense.id, \":\"), error);\n                        }\n                    }\n                    if (expense.categoryId && typeof expense.categoryId === \"string\" && expense.categoryId.includes(\":\")) {\n                        try {\n                            const categoryId = expense.categoryId.split(\":\")[1];\n                            await this.db.query(\"\\n                USE NS rupee DB finance;\\n                UPDATE \".concat(expense.id, \" SET categoryId = '\").concat(categoryId, \"';\\n              \"));\n                            console.log(\"Fixed categoryId for expense \".concat(expense.id, \": \").concat(expense.categoryId, \" -> \").concat(categoryId));\n                            fixedCount++;\n                        } catch (error) {\n                            console.warn(\"Could not fix categoryId for expense \".concat(expense.id, \":\"), error);\n                        }\n                    }\n                }\n            }\n            // Get all incomes and fix any record references\n            const incomes = await this.db.query(\"\\n        USE NS rupee DB finance;\\n        SELECT * FROM incomes;\\n      \");\n            if (incomes[1] && incomes[1].length > 0) {\n                for (const income of incomes[1]){\n                    if (income.userId && typeof income.userId === \"string\" && income.userId.includes(\":\")) {\n                        try {\n                            const userId = income.userId.split(\":\")[1];\n                            await this.db.query(\"\\n                USE NS rupee DB finance;\\n                UPDATE \".concat(income.id, \" SET userId = '\").concat(userId, \"';\\n              \"));\n                            console.log(\"Fixed userId for income \".concat(income.id, \": \").concat(income.userId, \" -> \").concat(userId));\n                            fixedCount++;\n                        } catch (error) {\n                            console.warn(\"Could not fix userId for income \".concat(income.id, \":\"), error);\n                        }\n                    }\n                }\n            }\n            console.log(\"Fixed \".concat(fixedCount, \" record references\"));\n            return {\n                success: true,\n                fixedCount\n            };\n        } catch (error) {\n            console.error(\"Error fixing all record references:\", error);\n            return {\n                success: false,\n                error: error.message\n            };\n        }\n    }\n    // New method to fix the specific error mentioned\n    async fixSpecificRecordError() {\n        await this.connect();\n        try {\n            // Find the specific expense mentioned in the error\n            const result = await this.db.query(\"\\n        USE NS rupee DB finance;\\n        SELECT * FROM expenses WHERE id = 'expenses:2dahp1q8e9cer4n5s8ze';\\n      \");\n            if (result[1] && result[1].length > 0) {\n                const expense = result[1][0];\n                if (expense.userId && typeof expense.userId === \"string\" && expense.userId.includes(\":\")) {\n                    const userId = expense.userId.split(\":\")[1];\n                    await this.db.query(\"\\n            USE NS rupee DB finance;\\n            UPDATE expenses:2dahp1q8e9cer4n5s8ze SET userId = '\".concat(userId, \"';\\n          \"));\n                    console.log(\"Fixed specific expense userId: \".concat(expense.userId, \" -> \").concat(userId));\n                    return {\n                        success: true,\n                        fixed: true\n                    };\n                }\n            }\n            // Also check for the new error mentioned\n            const result2 = await this.db.query(\"\\n        USE NS rupee DB finance;\\n        SELECT * FROM expenses WHERE id = 'expenses:ce9obee44h94a18tq6m9';\\n      \");\n            if (result2[1] && result2[1].length > 0) {\n                const expense = result2[1][0];\n                if (expense.userId && typeof expense.userId === \"string\" && expense.userId.includes(\":\")) {\n                    const userId = expense.userId.split(\":\")[1];\n                    await this.db.query(\"\\n            USE NS rupee DB finance;\\n            UPDATE expenses:ce9obee44h94a18tq6m9 SET userId = '\".concat(userId, \"';\\n          \"));\n                    console.log(\"Fixed specific expense userId: \".concat(expense.userId, \" -> \").concat(userId));\n                    return {\n                        success: true,\n                        fixed: true\n                    };\n                }\n            }\n            // Check for the latest error mentioned\n            const result3 = await this.db.query(\"\\n        USE NS rupee DB finance;\\n        SELECT * FROM expenses WHERE id = 'expenses:5t7s208me18ur6hzf4jp';\\n      \");\n            if (result3[1] && result3[1].length > 0) {\n                const expense = result3[1][0];\n                if (expense.userId && typeof expense.userId === \"string\" && expense.userId.includes(\":\")) {\n                    const userId = expense.userId.split(\":\")[1];\n                    await this.db.query(\"\\n            USE NS rupee DB finance;\\n            UPDATE expenses:5t7s208me18ur6hzf4jp SET userId = '\".concat(userId, \"';\\n          \"));\n                    console.log(\"Fixed specific expense userId: \".concat(expense.userId, \" -> \").concat(userId));\n                    return {\n                        success: true,\n                        fixed: true\n                    };\n                }\n            }\n            return {\n                success: true,\n                fixed: false\n            };\n        } catch (error) {\n            console.error(\"Error fixing specific record:\", error);\n            return {\n                success: false,\n                error: error.message\n            };\n        }\n    }\n    // Expense operations\n    async createExpense(expenseData) {\n        var _result_, _result__result, _result_1;\n        await this.connect();\n        // Ensure userId is a string, not a record reference\n        const cleanExpenseData = {\n            ...expenseData\n        };\n        if (cleanExpenseData.userId) {\n            if (typeof cleanExpenseData.userId === \"object\" && cleanExpenseData.userId.id) {\n                // Handle _RecordId object\n                cleanExpenseData.userId = cleanExpenseData.userId.id;\n            } else if (typeof cleanExpenseData.userId === \"string\" && cleanExpenseData.userId.includes(\":\")) {\n                // Handle string record reference\n                cleanExpenseData.userId = cleanExpenseData.userId.split(\":\")[1];\n            }\n        }\n        // Ensure categoryId is a string, not a record reference\n        if (cleanExpenseData.categoryId && typeof cleanExpenseData.categoryId === \"string\" && cleanExpenseData.categoryId.includes(\":\")) {\n            cleanExpenseData.categoryId = cleanExpenseData.categoryId.split(\":\")[1];\n        }\n        const result = await this.db.query(\"USE NS rupee DB finance; CREATE expenses CONTENT $expenseData\", {\n            expenseData: cleanExpenseData\n        });\n        return ((_result_ = result[1]) === null || _result_ === void 0 ? void 0 : _result_[0]) || ((_result_1 = result[0]) === null || _result_1 === void 0 ? void 0 : (_result__result = _result_1.result) === null || _result__result === void 0 ? void 0 : _result__result[0]);\n    }\n    async getExpenses(userId) {\n        var _result_;\n        await this.connect();\n        const result = await this.db.query(\"USE NS rupee DB finance; SELECT * FROM expenses WHERE userId = $userId\", {\n            userId\n        });\n        return result[1] || ((_result_ = result[0]) === null || _result_ === void 0 ? void 0 : _result_.result) || [];\n    }\n    async updateExpense(expenseId, expenseData) {\n        var _result_, _result__result, _result_1;\n        await this.connect();\n        const result = await this.db.query(\"USE NS rupee DB finance; UPDATE expenses SET * = $expenseData WHERE id = $expenseId\", {\n            expenseId,\n            expenseData\n        });\n        return ((_result_ = result[1]) === null || _result_ === void 0 ? void 0 : _result_[0]) || ((_result_1 = result[0]) === null || _result_1 === void 0 ? void 0 : (_result__result = _result_1.result) === null || _result__result === void 0 ? void 0 : _result__result[0]);\n    }\n    async deleteExpense(expenseId) {\n        var _result_, _result__result, _result_1;\n        await this.connect();\n        const result = await this.db.query(\"USE NS rupee DB finance; DELETE expenses WHERE id = $expenseId\", {\n            expenseId\n        });\n        return ((_result_ = result[1]) === null || _result_ === void 0 ? void 0 : _result_[0]) || ((_result_1 = result[0]) === null || _result_1 === void 0 ? void 0 : (_result__result = _result_1.result) === null || _result__result === void 0 ? void 0 : _result__result[0]);\n    }\n    // Income operations\n    async createIncome(incomeData) {\n        var _result_, _result__result, _result_1;\n        await this.connect();\n        // Ensure userId is a string, not a record reference\n        const cleanIncomeData = {\n            ...incomeData\n        };\n        if (cleanIncomeData.userId) {\n            if (typeof cleanIncomeData.userId === \"object\" && cleanIncomeData.userId.id) {\n                // Handle _RecordId object\n                cleanIncomeData.userId = cleanIncomeData.userId.id;\n            } else if (typeof cleanIncomeData.userId === \"string\" && cleanIncomeData.userId.includes(\":\")) {\n                // Handle string record reference\n                cleanIncomeData.userId = cleanIncomeData.userId.split(\":\")[1];\n            }\n        }\n        const result = await this.db.query(\"USE NS rupee DB finance; CREATE incomes CONTENT $incomeData\", {\n            incomeData: cleanIncomeData\n        });\n        return ((_result_ = result[1]) === null || _result_ === void 0 ? void 0 : _result_[0]) || ((_result_1 = result[0]) === null || _result_1 === void 0 ? void 0 : (_result__result = _result_1.result) === null || _result__result === void 0 ? void 0 : _result__result[0]);\n    }\n    async getIncomes(userId) {\n        var _result_;\n        await this.connect();\n        const result = await this.db.query(\"USE NS rupee DB finance; SELECT * FROM incomes WHERE userId = $userId\", {\n            userId\n        });\n        return result[1] || ((_result_ = result[0]) === null || _result_ === void 0 ? void 0 : _result_.result) || [];\n    }\n    async updateIncome(incomeId, incomeData) {\n        var _result_, _result__result, _result_1;\n        await this.connect();\n        const result = await this.db.query(\"USE NS rupee DB finance; UPDATE incomes SET * = $incomeData WHERE id = $incomeId\", {\n            incomeId,\n            incomeData\n        });\n        return ((_result_ = result[1]) === null || _result_ === void 0 ? void 0 : _result_[0]) || ((_result_1 = result[0]) === null || _result_1 === void 0 ? void 0 : (_result__result = _result_1.result) === null || _result__result === void 0 ? void 0 : _result__result[0]);\n    }\n    async deleteIncome(incomeId) {\n        var _result_, _result__result, _result_1;\n        await this.connect();\n        const result = await this.db.query(\"USE NS rupee DB finance; DELETE incomes WHERE id = $incomeId\", {\n            incomeId\n        });\n        return ((_result_ = result[1]) === null || _result_ === void 0 ? void 0 : _result_[0]) || ((_result_1 = result[0]) === null || _result_1 === void 0 ? void 0 : (_result__result = _result_1.result) === null || _result__result === void 0 ? void 0 : _result__result[0]);\n    }\n    // Category operations\n    async createCategory(categoryData) {\n        var _result_, _result__result, _result_1;\n        await this.connect();\n        const result = await this.db.query(\"USE NS rupee DB finance; CREATE categories CONTENT $categoryData\", {\n            categoryData\n        });\n        return ((_result_ = result[1]) === null || _result_ === void 0 ? void 0 : _result_[0]) || ((_result_1 = result[0]) === null || _result_1 === void 0 ? void 0 : (_result__result = _result_1.result) === null || _result__result === void 0 ? void 0 : _result__result[0]);\n    }\n    async getCategories(userId) {\n        var _result_;\n        await this.connect();\n        const result = await this.db.query(\"USE NS rupee DB finance; SELECT * FROM categories WHERE userId = $userId\", {\n            userId\n        });\n        return result[1] || ((_result_ = result[0]) === null || _result_ === void 0 ? void 0 : _result_.result) || [];\n    }\n    async updateCategory(categoryId, categoryData) {\n        var _result_, _result__result, _result_1;\n        await this.connect();\n        const result = await this.db.query(\"USE NS rupee DB finance; UPDATE categories SET * = $categoryData WHERE id = $categoryId\", {\n            categoryId,\n            categoryData\n        });\n        return ((_result_ = result[1]) === null || _result_ === void 0 ? void 0 : _result_[0]) || ((_result_1 = result[0]) === null || _result_1 === void 0 ? void 0 : (_result__result = _result_1.result) === null || _result__result === void 0 ? void 0 : _result__result[0]);\n    }\n    async deleteCategory(categoryId) {\n        var _result_, _result__result, _result_1;\n        await this.connect();\n        const result = await this.db.query(\"USE NS rupee DB finance; DELETE categories WHERE id = $categoryId\", {\n            categoryId\n        });\n        return ((_result_ = result[1]) === null || _result_ === void 0 ? void 0 : _result_[0]) || ((_result_1 = result[0]) === null || _result_1 === void 0 ? void 0 : (_result__result = _result_1.result) === null || _result__result === void 0 ? void 0 : _result__result[0]);\n    }\n    // Savings goals operations\n    async createSavingsGoal(goalData) {\n        var _result_, _result__result, _result_1;\n        await this.connect();\n        const result = await this.db.query(\"USE NS rupee DB finance; CREATE savings_goals CONTENT $goalData\", {\n            goalData\n        });\n        return ((_result_ = result[1]) === null || _result_ === void 0 ? void 0 : _result_[0]) || ((_result_1 = result[0]) === null || _result_1 === void 0 ? void 0 : (_result__result = _result_1.result) === null || _result__result === void 0 ? void 0 : _result__result[0]);\n    }\n    async getSavingsGoals(userId) {\n        var _result_;\n        await this.connect();\n        const result = await this.db.query(\"USE NS rupee DB finance; SELECT * FROM savings_goals WHERE userId = $userId\", {\n            userId\n        });\n        return result[1] || ((_result_ = result[0]) === null || _result_ === void 0 ? void 0 : _result_.result) || [];\n    }\n    async updateSavingsGoal(goalId, goalData) {\n        var _result_, _result__result, _result_1;\n        await this.connect();\n        const result = await this.db.query(\"USE NS rupee DB finance; UPDATE savings_goals SET * = $goalData WHERE id = $goalId\", {\n            goalId,\n            goalData\n        });\n        return ((_result_ = result[1]) === null || _result_ === void 0 ? void 0 : _result_[0]) || ((_result_1 = result[0]) === null || _result_1 === void 0 ? void 0 : (_result__result = _result_1.result) === null || _result__result === void 0 ? void 0 : _result__result[0]);\n    }\n    async deleteSavingsGoal(goalId) {\n        var _result_, _result__result, _result_1;\n        await this.connect();\n        const result = await this.db.query(\"USE NS rupee DB finance; DELETE savings_goals WHERE id = $goalId\", {\n            goalId\n        });\n        return ((_result_ = result[1]) === null || _result_ === void 0 ? void 0 : _result_[0]) || ((_result_1 = result[0]) === null || _result_1 === void 0 ? void 0 : (_result__result = _result_1.result) === null || _result__result === void 0 ? void 0 : _result__result[0]);\n    }\n    // Budget limits operations\n    async createBudgetLimit(limitData) {\n        var _result_, _result__result, _result_1;\n        await this.connect();\n        const result = await this.db.query(\"USE NS rupee DB finance; CREATE budget_limits CONTENT $limitData\", {\n            limitData\n        });\n        return ((_result_ = result[1]) === null || _result_ === void 0 ? void 0 : _result_[0]) || ((_result_1 = result[0]) === null || _result_1 === void 0 ? void 0 : (_result__result = _result_1.result) === null || _result__result === void 0 ? void 0 : _result__result[0]);\n    }\n    async getBudgetLimits(userId) {\n        var _result_;\n        await this.connect();\n        const result = await this.db.query(\"USE NS rupee DB finance; SELECT * FROM budget_limits WHERE userId = $userId\", {\n            userId\n        });\n        return result[1] || ((_result_ = result[0]) === null || _result_ === void 0 ? void 0 : _result_.result) || [];\n    }\n    async updateBudgetLimit(limitId, limitData) {\n        var _result_, _result__result, _result_1;\n        await this.connect();\n        const result = await this.db.query(\"USE NS rupee DB finance; UPDATE budget_limits SET * = $limitData WHERE id = $limitId\", {\n            limitId,\n            limitData\n        });\n        return ((_result_ = result[1]) === null || _result_ === void 0 ? void 0 : _result_[0]) || ((_result_1 = result[0]) === null || _result_1 === void 0 ? void 0 : (_result__result = _result_1.result) === null || _result__result === void 0 ? void 0 : _result__result[0]);\n    }\n    async deleteBudgetLimit(limitId) {\n        var _result_, _result__result, _result_1;\n        await this.connect();\n        const result = await this.db.query(\"USE NS rupee DB finance; DELETE budget_limits WHERE id = $limitId\", {\n            limitId\n        });\n        return ((_result_ = result[1]) === null || _result_ === void 0 ? void 0 : _result_[0]) || ((_result_1 = result[0]) === null || _result_1 === void 0 ? void 0 : (_result__result = _result_1.result) === null || _result__result === void 0 ? void 0 : _result__result[0]);\n    }\n    // Insights operations\n    async createInsight(insightData) {\n        var _result_, _result__result, _result_1;\n        await this.connect();\n        const result = await this.db.query(\"USE NS rupee DB finance; CREATE insights CONTENT $insightData\", {\n            insightData\n        });\n        return ((_result_ = result[1]) === null || _result_ === void 0 ? void 0 : _result_[0]) || ((_result_1 = result[0]) === null || _result_1 === void 0 ? void 0 : (_result__result = _result_1.result) === null || _result__result === void 0 ? void 0 : _result__result[0]);\n    }\n    async getInsights(userId) {\n        var _result_;\n        await this.connect();\n        const result = await this.db.query(\"USE NS rupee DB finance; SELECT * FROM insights WHERE userId = $userId ORDER BY createdAt DESC\", {\n            userId\n        });\n        return result[1] || ((_result_ = result[0]) === null || _result_ === void 0 ? void 0 : _result_.result) || [];\n    }\n    async markInsightAsRead(insightId) {\n        var _result_, _result__result, _result_1;\n        await this.connect();\n        const result = await this.db.query(\"USE NS rupee DB finance; UPDATE insights SET isRead = true WHERE id = $insightId\", {\n            insightId\n        });\n        return ((_result_ = result[1]) === null || _result_ === void 0 ? void 0 : _result_[0]) || ((_result_1 = result[0]) === null || _result_1 === void 0 ? void 0 : (_result__result = _result_1.result) === null || _result__result === void 0 ? void 0 : _result__result[0]);\n    }\n    // Alerts operations\n    async createAlert(alertData) {\n        var _result_, _result__result, _result_1;\n        await this.connect();\n        const result = await this.db.query(\"USE NS rupee DB finance; CREATE alerts CONTENT $alertData\", {\n            alertData\n        });\n        return ((_result_ = result[1]) === null || _result_ === void 0 ? void 0 : _result_[0]) || ((_result_1 = result[0]) === null || _result_1 === void 0 ? void 0 : (_result__result = _result_1.result) === null || _result__result === void 0 ? void 0 : _result__result[0]);\n    }\n    async getAlerts(userId) {\n        var _result_;\n        await this.connect();\n        const result = await this.db.query(\"USE NS rupee DB finance; SELECT * FROM alerts WHERE userId = $userId ORDER BY createdAt DESC\", {\n            userId\n        });\n        return result[1] || ((_result_ = result[0]) === null || _result_ === void 0 ? void 0 : _result_.result) || [];\n    }\n    async markAlertAsRead(alertId) {\n        var _result_, _result__result, _result_1;\n        await this.connect();\n        const result = await this.db.query(\"USE NS rupee DB finance; UPDATE alerts SET isRead = true WHERE id = $alertId\", {\n            alertId\n        });\n        return ((_result_ = result[1]) === null || _result_ === void 0 ? void 0 : _result_[0]) || ((_result_1 = result[0]) === null || _result_1 === void 0 ? void 0 : (_result__result = _result_1.result) === null || _result__result === void 0 ? void 0 : _result__result[0]);\n    }\n    async deleteAlert(alertId) {\n        var _result_, _result__result, _result_1;\n        await this.connect();\n        const result = await this.db.query(\"USE NS rupee DB finance; DELETE alerts WHERE id = $alertId\", {\n            alertId\n        });\n        return ((_result_ = result[1]) === null || _result_ === void 0 ? void 0 : _result_[0]) || ((_result_1 = result[0]) === null || _result_1 === void 0 ? void 0 : (_result__result = _result_1.result) === null || _result__result === void 0 ? void 0 : _result__result[0]);\n    }\n    // Analytics queries\n    async getMonthlyExpenses(userId, year, month) {\n        var _result_;\n        await this.connect();\n        const result = await this.db.query(\"\\n      USE NS rupee DB finance;\\n      SELECT * FROM expenses \\n      WHERE userId = $userId \\n      AND time::year(date) = $year \\n      AND time::month(date) = $month\\n      ORDER BY date DESC\\n    \", {\n            userId,\n            year,\n            month\n        });\n        return result[1] || ((_result_ = result[0]) === null || _result_ === void 0 ? void 0 : _result_.result) || [];\n    }\n    async getExpensesByCategory(userId, startDate, endDate) {\n        var _result_;\n        await this.connect();\n        const result = await this.db.query(\"\\n      USE NS rupee DB finance;\\n      SELECT categoryId, sum(amount) as total \\n      FROM expenses \\n      WHERE userId = $userId \\n      AND date >= $startDate \\n      AND date <= $endDate\\n      GROUP BY categoryId\\n    \", {\n            userId,\n            startDate,\n            endDate\n        });\n        return result[1] || ((_result_ = result[0]) === null || _result_ === void 0 ? void 0 : _result_.result) || [];\n    }\n    async getTotalSavings(userId) {\n        var _result__, _result_, _result__result_, _result__result, _result_1;\n        await this.connect();\n        const result = await this.db.query(\"\\n      USE NS rupee DB finance;\\n      SELECT sum(currentAmount) as total \\n      FROM savings_goals \\n      WHERE userId = $userId\\n    \", {\n            userId\n        });\n        return ((_result_ = result[1]) === null || _result_ === void 0 ? void 0 : (_result__ = _result_[0]) === null || _result__ === void 0 ? void 0 : _result__.total) || ((_result_1 = result[0]) === null || _result_1 === void 0 ? void 0 : (_result__result = _result_1.result) === null || _result__result === void 0 ? void 0 : (_result__result_ = _result__result[0]) === null || _result__result_ === void 0 ? void 0 : _result__result_.total) || 0;\n    }\n    constructor(){\n        this.isConnected = false;\n        this.db = new surrealdb__WEBPACK_IMPORTED_MODULE_0__.Surreal();\n    }\n}\nconst surrealDB = SurrealDBService.getInstance();\n/* harmony default export */ __webpack_exports__[\"default\"] = (surrealDB);\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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STtJQUNuRTtJQWhnQ0EsYUFBc0I7YUFGZHZJLGNBQXVCO1FBRzdCLElBQUksQ0FBQ0MsRUFBRSxHQUFHLElBQUlyQiw4Q0FBT0E7SUFDdkI7QUErL0JGO0FBRU8sTUFBTTRKLFlBQVk1SSxpQkFBaUJDLFdBQVcsR0FBRTtBQUN2RCwrREFBZTJJLFNBQVNBLEVBQUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbGliL3N1cnJlYWxkYi50cz83OWJkIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFN1cnJlYWwgfSBmcm9tICdzdXJyZWFsZGInXG5cbi8vIFN1cnJlYWxEQiBjb25maWd1cmF0aW9uXG5jb25zdCBTVVJSRUFMX0NPTkZJRyA9IHtcbiAgdXJsOiBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19TVVJSRUFMX1VSTCB8fCAnd3M6Ly9sb2NhbGhvc3Q6ODAwMC9ycGMnLFxuICBuYW1lc3BhY2U6IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NVUlJFQUxfTkFNRVNQQUNFIHx8ICdydXBlZScsXG4gIGRhdGFiYXNlOiBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19TVVJSRUFMX0RBVEFCQVNFIHx8ICdmaW5hbmNlJyxcbiAgLy8gRm9yIGxvY2FsIGRldmVsb3BtZW50XG4gIHVzZXJuYW1lOiBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19TVVJSRUFMX1VTRVJOQU1FIHx8ICdyb290JyxcbiAgcGFzc3dvcmQ6IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NVUlJFQUxfUEFTU1dPUkQgfHwgJ3Jvb3QnLFxuICAvLyBGb3IgU3VycmVhbCBDbG91ZCAodG9rZW4tYmFzZWQgYXV0aClcbiAgdG9rZW46IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NVUlJFQUxfVE9LRU4gfHwgbnVsbCxcbn1cblxuY2xhc3MgU3VycmVhbERCU2VydmljZSB7XG4gIHByaXZhdGUgc3RhdGljIGluc3RhbmNlOiBTdXJyZWFsREJTZXJ2aWNlXG4gIHByaXZhdGUgZGI6IFN1cnJlYWxcbiAgcHJpdmF0ZSBpc0Nvbm5lY3RlZDogYm9vbGVhbiA9IGZhbHNlXG5cbiAgcHJpdmF0ZSBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLmRiID0gbmV3IFN1cnJlYWwoKVxuICB9XG5cbiAgc3RhdGljIGdldEluc3RhbmNlKCk6IFN1cnJlYWxEQlNlcnZpY2Uge1xuICAgIGlmICghU3VycmVhbERCU2VydmljZS5pbnN0YW5jZSkge1xuICAgICAgU3VycmVhbERCU2VydmljZS5pbnN0YW5jZSA9IG5ldyBTdXJyZWFsREJTZXJ2aWNlKClcbiAgICB9XG4gICAgcmV0dXJuIFN1cnJlYWxEQlNlcnZpY2UuaW5zdGFuY2VcbiAgfVxuXG4gIGFzeW5jIGNvbm5lY3QoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgaWYgKHRoaXMuaXNDb25uZWN0ZWQpIHJldHVyblxuXG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IHRoaXMuZGIuY29ubmVjdChTVVJSRUFMX0NPTkZJRy51cmwpXG4gICAgICBcbiAgICAgIC8vIEF1dGhlbnRpY2F0ZSBiYXNlZCBvbiBlbnZpcm9ubWVudCAoQ2xvdWQgdnMgTG9jYWwpXG4gICAgICBpZiAoU1VSUkVBTF9DT05GSUcudG9rZW4pIHtcbiAgICAgICAgLy8gU3VycmVhbCBDbG91ZDogVXNlIHRva2VuIGF1dGhlbnRpY2F0aW9uXG4gICAgICAgIGF3YWl0IHRoaXMuZGIuYXV0aGVudGljYXRlKFNVUlJFQUxfQ09ORklHLnRva2VuKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gTG9jYWwgZGV2ZWxvcG1lbnQ6IFVzZSB1c2VybmFtZS9wYXNzd29yZFxuICAgICAgICBhd2FpdCB0aGlzLmRiLnNpZ25pbih7XG4gICAgICAgICAgdXNlcm5hbWU6IFNVUlJFQUxfQ09ORklHLnVzZXJuYW1lLFxuICAgICAgICAgIHBhc3N3b3JkOiBTVVJSRUFMX0NPTkZJRy5wYXNzd29yZCxcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gVXNlIHRoZSBuYW1lc3BhY2UgYW5kIGRhdGFiYXNlIChjcmVhdGUgaWYgdGhleSBkb24ndCBleGlzdClcbiAgICAgIGF3YWl0IHRoaXMuZGIudXNlKHtcbiAgICAgICAgbnM6IFNVUlJFQUxfQ09ORklHLm5hbWVzcGFjZSxcbiAgICAgICAgZGI6IFNVUlJFQUxfQ09ORklHLmRhdGFiYXNlLFxuICAgICAgfSlcbiAgICAgIFxuICAgICAgdGhpcy5pc0Nvbm5lY3RlZCA9IHRydWVcbiAgICAgIGNvbnNvbGUubG9nKCfinIUgQ29ubmVjdGVkIHRvIFN1cnJlYWxEQicpXG4gICAgICBcbiAgICAgIC8vIEluaXRpYWxpemUgZGF0YWJhc2Ugc2NoZW1hXG4gICAgICBhd2FpdCB0aGlzLmluaXRpYWxpemVTY2hlbWEoKVxuICAgICAgXG4gICAgICAvLyBGaXggYW55IGV4aXN0aW5nIHVzZXJzIHdpdGggTk9ORSB2YWx1ZXNcbiAgICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IHRoaXMuZml4QWxsVXNlcnMoKVxuICAgICAgICBjb25zb2xlLmxvZygn4pyFIEZpeGVkIGV4aXN0aW5nIHVzZXJzIHdpdGggTk9ORSB2YWx1ZXMnKVxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS53YXJuKCfimqDvuI8gQ291bGQgbm90IGZpeCBleGlzdGluZyB1c2VyczonLCBlcnJvcilcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gRml4IGFueSBleGlzdGluZyByZWNvcmRzIHdpdGggc3RyaW5nIGRhdGVzXG4gICAgICB0cnkge1xuICAgICAgICBhd2FpdCB0aGlzLmZpeERhdGVGaWVsZHNTaW1wbGUoKVxuICAgICAgICBjb25zb2xlLmxvZygn4pyFIEZpeGVkIGV4aXN0aW5nIHJlY29yZHMgd2l0aCBzdHJpbmcgZGF0ZXMnKVxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS53YXJuKCfimqDvuI8gQ291bGQgbm90IGZpeCBleGlzdGluZyBkYXRlIGZpZWxkczonLCBlcnJvcilcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gRml4IGFueSBleGlzdGluZyByZWNvcmRzIHdpdGggcmVjb3JkIHJlZmVyZW5jZXMgaW5zdGVhZCBvZiBzdHJpbmcgSURzXG4gICAgICB0cnkge1xuICAgICAgICBhd2FpdCB0aGlzLmZpeFJlY29yZFJlZmVyZW5jZXMoKVxuICAgICAgICBjb25zb2xlLmxvZygn4pyFIEZpeGVkIGV4aXN0aW5nIHJlY29yZHMgd2l0aCByZWNvcmQgcmVmZXJlbmNlcycpXG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLndhcm4oJ+KaoO+4jyBDb3VsZCBub3QgZml4IGV4aXN0aW5nIHJlY29yZCByZWZlcmVuY2VzOicsIGVycm9yKVxuICAgICAgfVxuICAgICAgXG4gICAgICAgIC8vIEZpeCB0aGUgc3BlY2lmaWMgZXJyb3IgbWVudGlvbmVkIGluIHRoZSB1c2VyIHF1ZXJ5XG4gIHRyeSB7XG4gICAgYXdhaXQgdGhpcy5maXhTcGVjaWZpY1JlY29yZEVycm9yKClcbiAgICBjb25zb2xlLmxvZygn4pyFIEZpeGVkIHNwZWNpZmljIHJlY29yZCBlcnJvcicpXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS53YXJuKCfimqDvuI8gQ291bGQgbm90IGZpeCBzcGVjaWZpYyByZWNvcmQgZXJyb3I6JywgZXJyb3IpXG4gIH1cbiAgXG4gIC8vIEFkZGl0aW9uYWwgY29tcHJlaGVuc2l2ZSBmaXggZm9yIGFueSByZW1haW5pbmcgcmVjb3JkIHJlZmVyZW5jZXNcbiAgdHJ5IHtcbiAgICBhd2FpdCB0aGlzLmZpeEFsbFJlY29yZFJlZmVyZW5jZXMoKVxuICAgIGNvbnNvbGUubG9nKCfinIUgRml4ZWQgYWxsIHJlbWFpbmluZyByZWNvcmQgcmVmZXJlbmNlcycpXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS53YXJuKCfimqDvuI8gQ291bGQgbm90IGZpeCBhbGwgcmVjb3JkIHJlZmVyZW5jZXM6JywgZXJyb3IpXG4gIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcign4p2MIEZhaWxlZCB0byBjb25uZWN0IHRvIFN1cnJlYWxEQjonLCBlcnJvcilcbiAgICAgIHRocm93IGVycm9yXG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBpbml0aWFsaXplU2NoZW1hKCk6IFByb21pc2U8dm9pZD4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zb2xlLmxvZygn8J+UjSBJbml0aWFsaXppbmcgc2NoZW1hLi4uJylcbiAgICAgIC8vIFdyYXAgaW4gdHJ5LWNhdGNoIHRvIGhhbmRsZSBcInRhYmxlIGFscmVhZHkgZXhpc3RzXCIgZXJyb3JzIGdyYWNlZnVsbHlcbiAgICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IHRoaXMuZGIucXVlcnkoYFxuICAgICAgICAgIFVTRSBOUyBydXBlZSBEQiBmaW5hbmNlO1xuICAgICAgICAgIFxuICAgICAgICAgIC0tIFVzZXJzIHRhYmxlXG4gICAgICAgICAgREVGSU5FIFRBQkxFIHVzZXJzIFNDSEVNQUZVTEw7XG4gICAgICAgICAgREVGSU5FIEZJRUxEIGVtYWlsIE9OIHVzZXJzIFRZUEUgc3RyaW5nIEFTU0VSVCAkdmFsdWUgIT0gTk9ORTtcbiAgICAgICAgICBERUZJTkUgRklFTEQgbmFtZSBPTiB1c2VycyBUWVBFIHN0cmluZztcbiAgICAgICAgICBERUZJTkUgRklFTEQgcHJlZmVyZW5jZXMgT04gdXNlcnMgVFlQRSBvYmplY3QgREVGQVVMVCB7XG4gICAgICAgICAgICBjdXJyZW5jeTogJ+KCuScsXG4gICAgICAgICAgICB0aGVtZTogJ2xpZ2h0JyxcbiAgICAgICAgICAgIG5vdGlmaWNhdGlvbnM6IHRydWUsXG4gICAgICAgICAgICBkZWZhdWx0UGF5bWVudE1ldGhvZDogJ2Nhc2gnLFxuICAgICAgICAgICAgYnVkZ2V0TGltaXRzOiBbXSxcbiAgICAgICAgICAgIGFsZXJ0U2V0dGluZ3M6IHtcbiAgICAgICAgICAgICAgb3ZlcnNwZW5kaW5nQWxlcnRzOiB0cnVlLFxuICAgICAgICAgICAgICBidWRnZXRMaW1pdEFsZXJ0czogdHJ1ZSxcbiAgICAgICAgICAgICAgc2F2aW5nc0dvYWxBbGVydHM6IHRydWUsXG4gICAgICAgICAgICAgIHdlZWtseUluc2lnaHRzOiB0cnVlLFxuICAgICAgICAgICAgICBlbWFpbE5vdGlmaWNhdGlvbnM6IGZhbHNlLFxuICAgICAgICAgICAgICBwdXNoTm90aWZpY2F0aW9uczogdHJ1ZVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdhbWlmaWNhdGlvbkVuYWJsZWQ6IHRydWUsXG4gICAgICAgICAgICBhdXRvQmFja3VwRW5hYmxlZDogZmFsc2UsXG4gICAgICAgICAgICBjbG91ZFN5bmNFbmFibGVkOiBmYWxzZSxcbiAgICAgICAgICAgIHJlY2VpcHRTY2FubmluZ0VuYWJsZWQ6IGZhbHNlXG4gICAgICAgICAgfTtcbiAgICAgICAgICBERUZJTkUgRklFTEQgcHJvZmlsZXMgT04gdXNlcnMgVFlQRSBhcnJheSBERUZBVUxUIFtdO1xuICAgICAgICAgIERFRklORSBGSUVMRCBhY3RpdmVQcm9maWxlSWQgT04gdXNlcnMgVFlQRSBzdHJpbmcgREVGQVVMVCAnJztcbiAgICAgICAgICBERUZJTkUgRklFTEQgc2VjdXJpdHlTZXR0aW5ncyBPTiB1c2VycyBUWVBFIG9iamVjdCBERUZBVUxUIHtcbiAgICAgICAgICAgIHBpbkVuYWJsZWQ6IGZhbHNlLFxuICAgICAgICAgICAgYmlvbWV0cmljRW5hYmxlZDogZmFsc2UsXG4gICAgICAgICAgICBhdXRvTG9ja1RpbWVvdXQ6IDUsXG4gICAgICAgICAgICByZXF1aXJlQXV0aEZvckV4cG9ydDogdHJ1ZSxcbiAgICAgICAgICAgIHJlcXVpcmVBdXRoRm9yU2V0dGluZ3M6IGZhbHNlXG4gICAgICAgICAgfTtcbiAgICAgICAgICBERUZJTkUgRklFTEQgYWNoaWV2ZW1lbnRzIE9OIHVzZXJzIFRZUEUgYXJyYXkgREVGQVVMVCBbXTtcbiAgICAgICAgICBERUZJTkUgRklFTEQgc3RyZWFrcyBPTiB1c2VycyBUWVBFIG9iamVjdCBERUZBVUxUIHtcbiAgICAgICAgICAgIGN1cnJlbnRTdHJlYWs6IDAsXG4gICAgICAgICAgICBsb25nZXN0U3RyZWFrOiAwLFxuICAgICAgICAgICAgbm9TcGVuZERheXM6IDAsXG4gICAgICAgICAgICB0b3RhbE5vU3BlbmREYXlzOiAwLFxuICAgICAgICAgICAgY3VycmVudE5vU3BlbmRTdHJlYWs6IDAsXG4gICAgICAgICAgICBsb25nZXN0Tm9TcGVuZFN0cmVhazogMFxuICAgICAgICAgIH07XG4gICAgICAgICAgREVGSU5FIEZJRUxEIGNyZWF0ZWRBdCBPTiB1c2VycyBUWVBFIGRhdGV0aW1lIERFRkFVTFQgdGltZTo6bm93KCk7XG4gICAgICAgICAgREVGSU5FIEZJRUxEIHVwZGF0ZWRBdCBPTiB1c2VycyBUWVBFIGRhdGV0aW1lIERFRkFVTFQgdGltZTo6bm93KCk7XG4gICAgICAgICAgXG4gICAgICAgICAgLS0gRXhwZW5zZXMgdGFibGVcbiAgICAgICAgICBERUZJTkUgVEFCTEUgZXhwZW5zZXMgU0NIRU1BRlVMTDtcbiAgICAgICAgICBERUZJTkUgRklFTEQgdXNlcklkIE9OIGV4cGVuc2VzIFRZUEUgc3RyaW5nO1xuICAgICAgICAgIERFRklORSBGSUVMRCBhbW91bnQgT04gZXhwZW5zZXMgVFlQRSBudW1iZXI7XG4gICAgICAgICAgREVGSU5FIEZJRUxEIGRlc2NyaXB0aW9uIE9OIGV4cGVuc2VzIFRZUEUgc3RyaW5nO1xuICAgICAgICAgIERFRklORSBGSUVMRCBjYXRlZ29yeUlkIE9OIGV4cGVuc2VzIFRZUEUgc3RyaW5nO1xuICAgICAgICAgIERFRklORSBGSUVMRCBkYXRlIE9OIGV4cGVuc2VzIFRZUEUgZGF0ZXRpbWU7XG4gICAgICAgICAgREVGSU5FIEZJRUxEIHBheW1lbnRNZXRob2QgT04gZXhwZW5zZXMgVFlQRSBzdHJpbmc7XG4gICAgICAgICAgREVGSU5FIEZJRUxEIGNyZWF0ZWRBdCBPTiBleHBlbnNlcyBUWVBFIGRhdGV0aW1lIERFRkFVTFQgdGltZTo6bm93KCk7XG4gICAgICAgICAgREVGSU5FIEZJRUxEIHVwZGF0ZWRBdCBPTiBleHBlbnNlcyBUWVBFIGRhdGV0aW1lIERFRkFVTFQgdGltZTo6bm93KCk7XG4gICAgICAgICAgXG4gICAgICAgICAgLS0gSW5jb21lcyB0YWJsZVxuICAgICAgICAgIERFRklORSBUQUJMRSBpbmNvbWVzIFNDSEVNQUZVTEw7XG4gICAgICAgICAgREVGSU5FIEZJRUxEIHVzZXJJZCBPTiBpbmNvbWVzIFRZUEUgc3RyaW5nO1xuICAgICAgICAgIERFRklORSBGSUVMRCBhbW91bnQgT04gaW5jb21lcyBUWVBFIG51bWJlcjtcbiAgICAgICAgICBERUZJTkUgRklFTEQgc291cmNlIE9OIGluY29tZXMgVFlQRSBzdHJpbmc7XG4gICAgICAgICAgREVGSU5FIEZJRUxEIGRhdGUgT04gaW5jb21lcyBUWVBFIGRhdGV0aW1lO1xuICAgICAgICAgIERFRklORSBGSUVMRCBjcmVhdGVkQXQgT04gaW5jb21lcyBUWVBFIGRhdGV0aW1lIERFRkFVTFQgdGltZTo6bm93KCk7XG4gICAgICAgICAgREVGSU5FIEZJRUxEIHVwZGF0ZWRBdCBPTiBpbmNvbWVzIFRZUEUgZGF0ZXRpbWUgREVGQVVMVCB0aW1lOjpub3coKTtcbiAgICAgICAgICBcbiAgICAgICAgICAtLSBDYXRlZ29yaWVzIHRhYmxlXG4gICAgICAgICAgREVGSU5FIFRBQkxFIGNhdGVnb3JpZXMgU0NIRU1BRlVMTDtcbiAgICAgICAgICBERUZJTkUgRklFTEQgdXNlcklkIE9OIGNhdGVnb3JpZXMgVFlQRSBzdHJpbmc7XG4gICAgICAgICAgREVGSU5FIEZJRUxEIG5hbWUgT04gY2F0ZWdvcmllcyBUWVBFIHN0cmluZztcbiAgICAgICAgICBERUZJTkUgRklFTEQgY29sb3IgT04gY2F0ZWdvcmllcyBUWVBFIHN0cmluZztcbiAgICAgICAgICBERUZJTkUgRklFTEQgaWNvbiBPTiBjYXRlZ29yaWVzIFRZUEUgc3RyaW5nO1xuICAgICAgICAgIERFRklORSBGSUVMRCBpc0N1c3RvbSBPTiBjYXRlZ29yaWVzIFRZUEUgYm9vbCBERUZBVUxUIHRydWU7XG4gICAgICAgICAgREVGSU5FIEZJRUxEIGNyZWF0ZWRBdCBPTiBjYXRlZ29yaWVzIFRZUEUgZGF0ZXRpbWUgREVGQVVMVCB0aW1lOjpub3coKTtcbiAgICAgICAgICBERUZJTkUgRklFTEQgdXBkYXRlZEF0IE9OIGNhdGVnb3JpZXMgVFlQRSBkYXRldGltZSBERUZBVUxUIHRpbWU6Om5vdygpO1xuICAgICAgICAgIFxuICAgICAgICAgIC0tIFNhdmluZ3MgZ29hbHMgdGFibGVcbiAgICAgICAgICBERUZJTkUgVEFCTEUgc2F2aW5nc19nb2FscyBTQ0hFTUFGVUxMO1xuICAgICAgICAgIERFRklORSBGSUVMRCB1c2VySWQgT04gc2F2aW5nc19nb2FscyBUWVBFIHN0cmluZztcbiAgICAgICAgICBERUZJTkUgRklFTEQgbmFtZSBPTiBzYXZpbmdzX2dvYWxzIFRZUEUgc3RyaW5nO1xuICAgICAgICAgIERFRklORSBGSUVMRCB0YXJnZXRBbW91bnQgT04gc2F2aW5nc19nb2FscyBUWVBFIG51bWJlcjtcbiAgICAgICAgICBERUZJTkUgRklFTEQgY3VycmVudEFtb3VudCBPTiBzYXZpbmdzX2dvYWxzIFRZUEUgbnVtYmVyIERFRkFVTFQgMDtcbiAgICAgICAgICBERUZJTkUgRklFTEQgdGFyZ2V0RGF0ZSBPTiBzYXZpbmdzX2dvYWxzIFRZUEUgZGF0ZXRpbWU7XG4gICAgICAgICAgREVGSU5FIEZJRUxEIGNyZWF0ZWRBdCBPTiBzYXZpbmdzX2dvYWxzIFRZUEUgZGF0ZXRpbWUgREVGQVVMVCB0aW1lOjpub3coKTtcbiAgICAgICAgICBERUZJTkUgRklFTEQgdXBkYXRlZEF0IE9OIHNhdmluZ3NfZ29hbHMgVFlQRSBkYXRldGltZSBERUZBVUxUIHRpbWU6Om5vdygpO1xuICAgICAgICAgIFxuICAgICAgICAgIC0tIEJ1ZGdldCBsaW1pdHMgdGFibGVcbiAgICAgICAgICBERUZJTkUgVEFCTEUgYnVkZ2V0X2xpbWl0cyBTQ0hFTUFGVUxMO1xuICAgICAgICAgIERFRklORSBGSUVMRCB1c2VySWQgT04gYnVkZ2V0X2xpbWl0cyBUWVBFIHN0cmluZztcbiAgICAgICAgICBERUZJTkUgRklFTEQgY2F0ZWdvcnlJZCBPTiBidWRnZXRfbGltaXRzIFRZUEUgc3RyaW5nO1xuICAgICAgICAgIERFRklORSBGSUVMRCBhbW91bnQgT04gYnVkZ2V0X2xpbWl0cyBUWVBFIG51bWJlcjtcbiAgICAgICAgICBERUZJTkUgRklFTEQgcGVyaW9kIE9OIGJ1ZGdldF9saW1pdHMgVFlQRSBzdHJpbmc7XG4gICAgICAgICAgREVGSU5FIEZJRUxEIGlzQWN0aXZlIE9OIGJ1ZGdldF9saW1pdHMgVFlQRSBib29sIERFRkFVTFQgdHJ1ZTtcbiAgICAgICAgICBERUZJTkUgRklFTEQgY3JlYXRlZEF0IE9OIGJ1ZGdldF9saW1pdHMgVFlQRSBkYXRldGltZSBERUZBVUxUIHRpbWU6Om5vdygpO1xuICAgICAgICAgIERFRklORSBGSUVMRCB1cGRhdGVkQXQgT04gYnVkZ2V0X2xpbWl0cyBUWVBFIGRhdGV0aW1lIERFRkFVTFQgdGltZTo6bm93KCk7XG4gICAgICAgICAgXG4gICAgICAgICAgLS0gSW5zaWdodHMgdGFibGVcbiAgICAgICAgICBERUZJTkUgVEFCTEUgaW5zaWdodHMgU0NIRU1BRlVMTDtcbiAgICAgICAgICBERUZJTkUgRklFTEQgdXNlcklkIE9OIGluc2lnaHRzIFRZUEUgc3RyaW5nO1xuICAgICAgICAgIERFRklORSBGSUVMRCB0eXBlIE9OIGluc2lnaHRzIFRZUEUgc3RyaW5nO1xuICAgICAgICAgIERFRklORSBGSUVMRCB0aXRsZSBPTiBpbnNpZ2h0cyBUWVBFIHN0cmluZztcbiAgICAgICAgICBERUZJTkUgRklFTEQgZGVzY3JpcHRpb24gT04gaW5zaWdodHMgVFlQRSBzdHJpbmc7XG4gICAgICAgICAgREVGSU5FIEZJRUxEIGRhdGEgT04gaW5zaWdodHMgVFlQRSBvYmplY3Q7XG4gICAgICAgICAgREVGSU5FIEZJRUxEIGlzUmVhZCBPTiBpbnNpZ2h0cyBUWVBFIGJvb2wgREVGQVVMVCBmYWxzZTtcbiAgICAgICAgICBERUZJTkUgRklFTEQgY3JlYXRlZEF0IE9OIGluc2lnaHRzIFRZUEUgZGF0ZXRpbWUgREVGQVVMVCB0aW1lOjpub3coKTtcbiAgICAgICAgICBcbiAgICAgICAgICAtLSBBbGVydHMgdGFibGVcbiAgICAgICAgICBERUZJTkUgVEFCTEUgYWxlcnRzIFNDSEVNQUZVTEw7XG4gICAgICAgICAgREVGSU5FIEZJRUxEIHVzZXJJZCBPTiBhbGVydHMgVFlQRSBzdHJpbmc7XG4gICAgICAgICAgREVGSU5FIEZJRUxEIHR5cGUgT04gYWxlcnRzIFRZUEUgc3RyaW5nO1xuICAgICAgICAgIERFRklORSBGSUVMRCB0aXRsZSBPTiBhbGVydHMgVFlQRSBzdHJpbmc7XG4gICAgICAgICAgREVGSU5FIEZJRUxEIG1lc3NhZ2UgT04gYWxlcnRzIFRZUEUgc3RyaW5nO1xuICAgICAgICAgIERFRklORSBGSUVMRCBzZXZlcml0eSBPTiBhbGVydHMgVFlQRSBzdHJpbmc7XG4gICAgICAgICAgREVGSU5FIEZJRUxEIGlzUmVhZCBPTiBhbGVydHMgVFlQRSBib29sIERFRkFVTFQgZmFsc2U7XG4gICAgICAgICAgREVGSU5FIEZJRUxEIGNyZWF0ZWRBdCBPTiBhbGVydHMgVFlQRSBkYXRldGltZSBERUZBVUxUIHRpbWU6Om5vdygpO1xuICAgICAgICAgIFxuICAgICAgICAgIC0tIFJlY3VycmluZyBleHBlbnNlcyB0YWJsZVxuICAgICAgICAgIERFRklORSBUQUJMRSByZWN1cnJpbmdfZXhwZW5zZXMgU0NIRU1BRlVMTDtcbiAgICAgICAgICBERUZJTkUgRklFTEQgdXNlcklkIE9OIHJlY3VycmluZ19leHBlbnNlcyBUWVBFIHN0cmluZztcbiAgICAgICAgICBERUZJTkUgRklFTEQgYW1vdW50IE9OIHJlY3VycmluZ19leHBlbnNlcyBUWVBFIG51bWJlcjtcbiAgICAgICAgICBERUZJTkUgRklFTEQgZGVzY3JpcHRpb24gT04gcmVjdXJyaW5nX2V4cGVuc2VzIFRZUEUgc3RyaW5nO1xuICAgICAgICAgIERFRklORSBGSUVMRCBjYXRlZ29yeUlkIE9OIHJlY3VycmluZ19leHBlbnNlcyBUWVBFIHN0cmluZztcbiAgICAgICAgICBERUZJTkUgRklFTEQgZnJlcXVlbmN5IE9OIHJlY3VycmluZ19leHBlbnNlcyBUWVBFIHN0cmluZztcbiAgICAgICAgICBERUZJTkUgRklFTEQgbmV4dER1ZURhdGUgT04gcmVjdXJyaW5nX2V4cGVuc2VzIFRZUEUgZGF0ZXRpbWU7XG4gICAgICAgICAgREVGSU5FIEZJRUxEIGlzQWN0aXZlIE9OIHJlY3VycmluZ19leHBlbnNlcyBUWVBFIGJvb2wgREVGQVVMVCB0cnVlO1xuICAgICAgICAgIERFRklORSBGSUVMRCBjcmVhdGVkQXQgT04gcmVjdXJyaW5nX2V4cGVuc2VzIFRZUEUgZGF0ZXRpbWUgREVGQVVMVCB0aW1lOjpub3coKTtcbiAgICAgICAgICBERUZJTkUgRklFTEQgdXBkYXRlZEF0IE9OIHJlY3VycmluZ19leHBlbnNlcyBUWVBFIGRhdGV0aW1lIERFRkFVTFQgdGltZTo6bm93KCk7XG4gICAgICAgICAgXG4gICAgICAgICAgLS0gUHJvZmlsZXMgdGFibGVcbiAgICAgICAgICBERUZJTkUgVEFCTEUgcHJvZmlsZXMgU0NIRU1BRlVMTDtcbiAgICAgICAgICBERUZJTkUgRklFTEQgdXNlcklkIE9OIHByb2ZpbGVzIFRZUEUgc3RyaW5nO1xuICAgICAgICAgIERFRklORSBGSUVMRCBuYW1lIE9OIHByb2ZpbGVzIFRZUEUgc3RyaW5nO1xuICAgICAgICAgIERFRklORSBGSUVMRCByb2xlIE9OIHByb2ZpbGVzIFRZUEUgc3RyaW5nO1xuICAgICAgICAgIERFRklORSBGSUVMRCBwZXJtaXNzaW9ucyBPTiBwcm9maWxlcyBUWVBFIG9iamVjdDtcbiAgICAgICAgICBERUZJTkUgRklFTEQgY3JlYXRlZEF0IE9OIHByb2ZpbGVzIFRZUEUgZGF0ZXRpbWUgREVGQVVMVCB0aW1lOjpub3coKTtcbiAgICAgICAgICBERUZJTkUgRklFTEQgdXBkYXRlZEF0IE9OIHByb2ZpbGVzIFRZUEUgZGF0ZXRpbWUgREVGQVVMVCB0aW1lOjpub3coKTtcbiAgICAgICAgICBcbiAgICAgICAgICAtLSBBY2hpZXZlbWVudHMgdGFibGVcbiAgICAgICAgICBERUZJTkUgVEFCTEUgYWNoaWV2ZW1lbnRzIFNDSEVNQUZVTEw7XG4gICAgICAgICAgREVGSU5FIEZJRUxEIHVzZXJJZCBPTiBhY2hpZXZlbWVudHMgVFlQRSBzdHJpbmc7XG4gICAgICAgICAgREVGSU5FIEZJRUxEIG5hbWUgT04gYWNoaWV2ZW1lbnRzIFRZUEUgc3RyaW5nO1xuICAgICAgICAgIERFRklORSBGSUVMRCBkZXNjcmlwdGlvbiBPTiBhY2hpZXZlbWVudHMgVFlQRSBzdHJpbmc7XG4gICAgICAgICAgREVGSU5FIEZJRUxEIGljb24gT04gYWNoaWV2ZW1lbnRzIFRZUEUgc3RyaW5nO1xuICAgICAgICAgIERFRklORSBGSUVMRCBwcm9ncmVzcyBPTiBhY2hpZXZlbWVudHMgVFlQRSBudW1iZXIgREVGQVVMVCAwO1xuICAgICAgICAgIERFRklORSBGSUVMRCBtYXhQcm9ncmVzcyBPTiBhY2hpZXZlbWVudHMgVFlQRSBudW1iZXI7XG4gICAgICAgICAgREVGSU5FIEZJRUxEIGlzVW5sb2NrZWQgT04gYWNoaWV2ZW1lbnRzIFRZUEUgYm9vbCBERUZBVUxUIGZhbHNlO1xuICAgICAgICAgIERFRklORSBGSUVMRCB1bmxvY2tlZEF0IE9OIGFjaGlldmVtZW50cyBUWVBFIGRhdGV0aW1lO1xuICAgICAgICAgIERFRklORSBGSUVMRCBjcmVhdGVkQXQgT04gYWNoaWV2ZW1lbnRzIFRZUEUgZGF0ZXRpbWUgREVGQVVMVCB0aW1lOjpub3coKTtcbiAgICAgICAgICBcbiAgICAgICAgICAtLSBCYWNrdXAgaGlzdG9yeSB0YWJsZVxuICAgICAgICAgIERFRklORSBUQUJMRSBiYWNrdXBfaGlzdG9yeSBTQ0hFTUFGVUxMO1xuICAgICAgICAgIERFRklORSBGSUVMRCB1c2VySWQgT04gYmFja3VwX2hpc3RvcnkgVFlQRSBzdHJpbmc7XG4gICAgICAgICAgREVGSU5FIEZJRUxEIHR5cGUgT04gYmFja3VwX2hpc3RvcnkgVFlQRSBzdHJpbmc7XG4gICAgICAgICAgREVGSU5FIEZJRUxEIHN0YXR1cyBPTiBiYWNrdXBfaGlzdG9yeSBUWVBFIHN0cmluZztcbiAgICAgICAgICBERUZJTkUgRklFTEQgZmlsZVNpemUgT04gYmFja3VwX2hpc3RvcnkgVFlQRSBudW1iZXI7XG4gICAgICAgICAgREVGSU5FIEZJRUxEIGNyZWF0ZWRBdCBPTiBiYWNrdXBfaGlzdG9yeSBUWVBFIGRhdGV0aW1lIERFRkFVTFQgdGltZTo6bm93KCk7XG4gICAgICAgIGApXG4gICAgICAgIGNvbnNvbGUubG9nKCfinIUgRGF0YWJhc2Ugc2NoZW1hIGluaXRpYWxpemVkJylcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIC8vIEhhbmRsZSBcInRhYmxlIGFscmVhZHkgZXhpc3RzXCIgZXJyb3IgZ3JhY2VmdWxseVxuICAgICAgICBpZiAoZXJyb3IubWVzc2FnZSAmJiBlcnJvci5tZXNzYWdlLmluY2x1ZGVzKCdhbHJlYWR5IGV4aXN0cycpKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coJ+KEue+4jyBTY2hlbWEgYWxyZWFkeSBleGlzdHMsIHNraXBwaW5nIGluaXRpYWxpemF0aW9uJylcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCfinYwgRmFpbGVkIHRvIGluaXRpYWxpemUgc2NoZW1hOicsIGVycm9yKVxuICAgICAgICAgIHRocm93IGVycm9yXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcign4p2MIEVycm9yIGluIGluaXRpYWxpemVTY2hlbWE6JywgZXJyb3IpXG4gICAgICB0aHJvdyBlcnJvclxuICAgIH1cbiAgfVxuXG4gIGFzeW5jIGRpc2Nvbm5lY3QoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgaWYgKHRoaXMuaXNDb25uZWN0ZWQpIHtcbiAgICAgIGF3YWl0IHRoaXMuZGIuY2xvc2UoKVxuICAgICAgdGhpcy5pc0Nvbm5lY3RlZCA9IGZhbHNlXG4gICAgICBjb25zb2xlLmxvZygn8J+UjCBEaXNjb25uZWN0ZWQgZnJvbSBTdXJyZWFsREInKVxuICAgIH1cbiAgfVxuXG4gIC8vIFVzZXIgb3BlcmF0aW9uc1xuICBhc3luYyBjcmVhdGVVc2VyKHVzZXJEYXRhOiBhbnkpOiBQcm9taXNlPGFueT4ge1xuICAgIGF3YWl0IHRoaXMuY29ubmVjdCgpXG4gICAgXG4gICAgLy8gRW5zdXJlIHJlcXVpcmVkIGZpZWxkcyBoYXZlIGRlZmF1bHQgdmFsdWVzXG4gICAgY29uc3QgZGVmYXVsdFVzZXJEYXRhID0ge1xuICAgICAgcHJlZmVyZW5jZXM6IHtcbiAgICAgICAgY3VycmVuY3k6ICfigrknLFxuICAgICAgICB0aGVtZTogJ2xpZ2h0JyxcbiAgICAgICAgbm90aWZpY2F0aW9uczogdHJ1ZSxcbiAgICAgICAgZGVmYXVsdFBheW1lbnRNZXRob2Q6ICdjYXNoJyxcbiAgICAgICAgYnVkZ2V0TGltaXRzOiBbXSxcbiAgICAgICAgYWxlcnRTZXR0aW5nczoge1xuICAgICAgICAgIG92ZXJzcGVuZGluZ0FsZXJ0czogdHJ1ZSxcbiAgICAgICAgICBidWRnZXRMaW1pdEFsZXJ0czogdHJ1ZSxcbiAgICAgICAgICBzYXZpbmdzR29hbEFsZXJ0czogdHJ1ZSxcbiAgICAgICAgICB3ZWVrbHlJbnNpZ2h0czogdHJ1ZSxcbiAgICAgICAgICBlbWFpbE5vdGlmaWNhdGlvbnM6IGZhbHNlLFxuICAgICAgICAgIHB1c2hOb3RpZmljYXRpb25zOiB0cnVlXG4gICAgICAgIH0sXG4gICAgICAgIGdhbWlmaWNhdGlvbkVuYWJsZWQ6IHRydWUsXG4gICAgICAgIGF1dG9CYWNrdXBFbmFibGVkOiBmYWxzZSxcbiAgICAgICAgY2xvdWRTeW5jRW5hYmxlZDogZmFsc2UsXG4gICAgICAgIHJlY2VpcHRTY2FubmluZ0VuYWJsZWQ6IGZhbHNlXG4gICAgICB9LFxuICAgICAgcHJvZmlsZXM6IFtdLFxuICAgICAgYWN0aXZlUHJvZmlsZUlkOiAnJyxcbiAgICAgIHNlY3VyaXR5U2V0dGluZ3M6IHtcbiAgICAgICAgcGluRW5hYmxlZDogZmFsc2UsXG4gICAgICAgIGJpb21ldHJpY0VuYWJsZWQ6IGZhbHNlLFxuICAgICAgICBhdXRvTG9ja1RpbWVvdXQ6IDUsXG4gICAgICAgIHJlcXVpcmVBdXRoRm9yRXhwb3J0OiB0cnVlLFxuICAgICAgICByZXF1aXJlQXV0aEZvclNldHRpbmdzOiBmYWxzZVxuICAgICAgfSxcbiAgICAgIGFjaGlldmVtZW50czogW10sXG4gICAgICBzdHJlYWtzOiB7XG4gICAgICAgIGN1cnJlbnRTdHJlYWs6IDAsXG4gICAgICAgIGxvbmdlc3RTdHJlYWs6IDAsXG4gICAgICAgIG5vU3BlbmREYXlzOiAwLFxuICAgICAgICB0b3RhbE5vU3BlbmREYXlzOiAwLFxuICAgICAgICBjdXJyZW50Tm9TcGVuZFN0cmVhazogMCxcbiAgICAgICAgbG9uZ2VzdE5vU3BlbmRTdHJlYWs6IDBcbiAgICAgIH0sXG4gICAgICAuLi51c2VyRGF0YVxuICAgIH1cbiAgICBcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLmRiLnF1ZXJ5KCdVU0UgTlMgcnVwZWUgREIgZmluYW5jZTsgQ1JFQVRFIHVzZXJzIENPTlRFTlQgJHVzZXJEYXRhJywgeyB1c2VyRGF0YTogZGVmYXVsdFVzZXJEYXRhIH0pXG4gICAgY29uc3QgdXNlciA9IHJlc3VsdFsxXT8uWzBdIHx8IHJlc3VsdFswXT8ucmVzdWx0Py5bMF1cbiAgICBcbiAgICAvLyBSZXR1cm4gdXNlciB3aXRoIElEIGFzIHN0cmluZywgbm90IHJlY29yZCByZWZlcmVuY2VcbiAgICBpZiAodXNlciAmJiB1c2VyLmlkKSB7XG4gICAgICBpZiAodHlwZW9mIHVzZXIuaWQgPT09ICdvYmplY3QnICYmIHVzZXIuaWQuaWQpIHtcbiAgICAgICAgLy8gSGFuZGxlIF9SZWNvcmRJZCBvYmplY3RcbiAgICAgICAgdXNlci5pZCA9IHVzZXIuaWQuaWRcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHVzZXIuaWQgPT09ICdzdHJpbmcnICYmIHVzZXIuaWQuaW5jbHVkZXMoJzonKSkge1xuICAgICAgICAvLyBIYW5kbGUgc3RyaW5nIHJlY29yZCByZWZlcmVuY2VcbiAgICAgICAgdXNlci5pZCA9IHVzZXIuaWQuc3BsaXQoJzonKVsxXSB8fCB1c2VyLmlkXG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIHJldHVybiB1c2VyXG4gIH1cblxuICBhc3luYyBnZXRVc2VyKHVzZXJJZDogc3RyaW5nKTogUHJvbWlzZTxhbnk+IHtcbiAgICBhd2FpdCB0aGlzLmNvbm5lY3QoKVxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMuZGIucXVlcnkoJ1VTRSBOUyBydXBlZSBEQiBmaW5hbmNlOyBTRUxFQ1QgKiBGUk9NIHVzZXJzIFdIRVJFIGlkID0gJHVzZXJJZCcsIHsgdXNlcklkIH0pXG4gICAgcmV0dXJuIHJlc3VsdFsxXT8uWzBdIHx8IHJlc3VsdFswXT8ucmVzdWx0Py5bMF1cbiAgfVxuXG4gIGFzeW5jIHVwZGF0ZVVzZXIodXNlcklkOiBzdHJpbmcsIHVzZXJEYXRhOiBhbnkpOiBQcm9taXNlPGFueT4ge1xuICAgIGF3YWl0IHRoaXMuY29ubmVjdCgpXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5kYi5xdWVyeSgnVVNFIE5TIHJ1cGVlIERCIGZpbmFuY2U7IFVQREFURSB1c2VycyBTRVQgKiA9ICR1c2VyRGF0YSBXSEVSRSBpZCA9ICR1c2VySWQnLCB7IHVzZXJJZCwgdXNlckRhdGEgfSlcbiAgICByZXR1cm4gcmVzdWx0WzFdPy5bMF0gfHwgcmVzdWx0WzBdPy5yZXN1bHQ/LlswXVxuICB9XG5cbiAgYXN5bmMgZGVsZXRlVXNlcih1c2VySWQ6IHN0cmluZyk6IFByb21pc2U8YW55PiB7XG4gICAgYXdhaXQgdGhpcy5jb25uZWN0KClcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLmRiLnF1ZXJ5KCdVU0UgTlMgcnVwZWUgREIgZmluYW5jZTsgREVMRVRFIHVzZXJzIFdIRVJFIGlkID0gJHVzZXJJZCcsIHsgdXNlcklkIH0pXG4gICAgcmV0dXJuIHJlc3VsdFsxXT8uWzBdIHx8IHJlc3VsdFswXT8ucmVzdWx0Py5bMF1cbiAgfVxuXG4gIGFzeW5jIGZpeFVzZXJGaWVsZHModXNlcklkOiBzdHJpbmcpOiBQcm9taXNlPGFueT4ge1xuICAgIGF3YWl0IHRoaXMuY29ubmVjdCgpXG4gICAgXG4gICAgLy8gRml4IHVzZXJzIHdpdGggTk9ORSB2YWx1ZXMgZm9yIHJlcXVpcmVkIGZpZWxkc1xuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMuZGIucXVlcnkoYFxuICAgICAgVVNFIE5TIHJ1cGVlIERCIGZpbmFuY2U7XG4gICAgICBVUERBVEUgdXNlcnMgU0VUIFxuICAgICAgICBhY2hpZXZlbWVudHMgPSBbXSBXSEVSRSBpZCA9ICR1c2VySWQgQU5EIGFjaGlldmVtZW50cyA9IE5PTkU7XG4gICAgICBVUERBVEUgdXNlcnMgU0VUIFxuICAgICAgICBzdHJlYWtzID0ge1xuICAgICAgICAgIGN1cnJlbnRTdHJlYWs6IDAsXG4gICAgICAgICAgbG9uZ2VzdFN0cmVhazogMCxcbiAgICAgICAgICBub1NwZW5kRGF5czogMCxcbiAgICAgICAgICB0b3RhbE5vU3BlbmREYXlzOiAwLFxuICAgICAgICAgIGN1cnJlbnROb1NwZW5kU3RyZWFrOiAwLFxuICAgICAgICAgIGxvbmdlc3ROb1NwZW5kU3RyZWFrOiAwXG4gICAgICAgIH0gV0hFUkUgaWQgPSAkdXNlcklkIEFORCBzdHJlYWtzID0gTk9ORTtcbiAgICAgIFVQREFURSB1c2VycyBTRVQgXG4gICAgICAgIHByb2ZpbGVzID0gW10gV0hFUkUgaWQgPSAkdXNlcklkIEFORCBwcm9maWxlcyA9IE5PTkU7XG4gICAgICBVUERBVEUgdXNlcnMgU0VUIFxuICAgICAgICBhY3RpdmVQcm9maWxlSWQgPSAnJyBXSEVSRSBpZCA9ICR1c2VySWQgQU5EIGFjdGl2ZVByb2ZpbGVJZCA9IE5PTkU7XG4gICAgICBVUERBVEUgdXNlcnMgU0VUIFxuICAgICAgICBzZWN1cml0eVNldHRpbmdzID0ge1xuICAgICAgICAgIHBpbkVuYWJsZWQ6IGZhbHNlLFxuICAgICAgICAgIGJpb21ldHJpY0VuYWJsZWQ6IGZhbHNlLFxuICAgICAgICAgIGF1dG9Mb2NrVGltZW91dDogNSxcbiAgICAgICAgICByZXF1aXJlQXV0aEZvckV4cG9ydDogdHJ1ZSxcbiAgICAgICAgICByZXF1aXJlQXV0aEZvclNldHRpbmdzOiBmYWxzZVxuICAgICAgICB9IFdIRVJFIGlkID0gJHVzZXJJZCBBTkQgc2VjdXJpdHlTZXR0aW5ncyA9IE5PTkU7XG4gICAgYCwgeyB1c2VySWQgfSlcbiAgICBcbiAgICByZXR1cm4gcmVzdWx0WzFdPy5bMF0gfHwgcmVzdWx0WzBdPy5yZXN1bHQ/LlswXVxuICB9XG5cbiAgYXN5bmMgZml4QWxsVXNlcnMoKTogUHJvbWlzZTxhbnk+IHtcbiAgICBhd2FpdCB0aGlzLmNvbm5lY3QoKVxuICAgIFxuICAgIC8vIEZpeCBhbGwgdXNlcnMgd2l0aCBOT05FIHZhbHVlcyBmb3IgcmVxdWlyZWQgZmllbGRzXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5kYi5xdWVyeShgXG4gICAgICBVU0UgTlMgcnVwZWUgREIgZmluYW5jZTtcbiAgICAgIFVQREFURSB1c2VycyBTRVQgXG4gICAgICAgIGFjaGlldmVtZW50cyA9IFtdIFdIRVJFIGFjaGlldmVtZW50cyA9IE5PTkU7XG4gICAgICBVUERBVEUgdXNlcnMgU0VUIFxuICAgICAgICBzdHJlYWtzID0ge1xuICAgICAgICAgIGN1cnJlbnRTdHJlYWs6IDAsXG4gICAgICAgICAgbG9uZ2VzdFN0cmVhazogMCxcbiAgICAgICAgICBub1NwZW5kRGF5czogMCxcbiAgICAgICAgICB0b3RhbE5vU3BlbmREYXlzOiAwLFxuICAgICAgICAgIGN1cnJlbnROb1NwZW5kU3RyZWFrOiAwLFxuICAgICAgICAgIGxvbmdlc3ROb1NwZW5kU3RyZWFrOiAwXG4gICAgICAgIH0gV0hFUkUgc3RyZWFrcyA9IE5PTkU7XG4gICAgICBVUERBVEUgdXNlcnMgU0VUIFxuICAgICAgICBwcm9maWxlcyA9IFtdIFdIRVJFIHByb2ZpbGVzID0gTk9ORTtcbiAgICAgIFVQREFURSB1c2VycyBTRVQgXG4gICAgICAgIGFjdGl2ZVByb2ZpbGVJZCA9ICcnIFdIRVJFIGFjdGl2ZVByb2ZpbGVJZCA9IE5PTkU7XG4gICAgICBVUERBVEUgdXNlcnMgU0VUIFxuICAgICAgICBzZWN1cml0eVNldHRpbmdzID0ge1xuICAgICAgICAgIHBpbkVuYWJsZWQ6IGZhbHNlLFxuICAgICAgICAgIGJpb21ldHJpY0VuYWJsZWQ6IGZhbHNlLFxuICAgICAgICAgIGF1dG9Mb2NrVGltZW91dDogNSxcbiAgICAgICAgICByZXF1aXJlQXV0aEZvckV4cG9ydDogdHJ1ZSxcbiAgICAgICAgICByZXF1aXJlQXV0aEZvclNldHRpbmdzOiBmYWxzZVxuICAgICAgICB9IFdIRVJFIHNlY3VyaXR5U2V0dGluZ3MgPSBOT05FO1xuICAgIGApXG4gICAgXG4gICAgcmV0dXJuIHJlc3VsdFsxXSB8fCByZXN1bHRbMF0/LnJlc3VsdCB8fCBbXVxuICB9XG5cbiAgYXN5bmMgZml4RGF0ZUZpZWxkcygpOiBQcm9taXNlPGFueT4ge1xuICAgIGF3YWl0IHRoaXMuY29ubmVjdCgpXG4gICAgXG4gICAgLy8gRml4IGV4cGVuc2VzIHdpdGggc3RyaW5nIGRhdGVzIGJ5IGNvbnZlcnRpbmcgdGhlbSB0byBkYXRldGltZVxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMuZGIucXVlcnkoYFxuICAgICAgVVNFIE5TIHJ1cGVlIERCIGZpbmFuY2U7XG4gICAgICBVUERBVEUgZXhwZW5zZXMgU0VUIFxuICAgICAgICBkYXRlID0gdGltZTo6cGFyc2UoZGF0ZSkgV0hFUkUgdHlwZTo6b2YoZGF0ZSkgPSAnc3RyaW5nJztcbiAgICAgIFVQREFURSBpbmNvbWVzIFNFVCBcbiAgICAgICAgZGF0ZSA9IHRpbWU6OnBhcnNlKGRhdGUpIFdIRVJFIHR5cGU6Om9mKGRhdGUpID0gJ3N0cmluZyc7XG4gICAgICBVUERBVEUgc2F2aW5nc19nb2FscyBTRVQgXG4gICAgICAgIHRhcmdldERhdGUgPSB0aW1lOjpwYXJzZSh0YXJnZXREYXRlKSBXSEVSRSB0eXBlOjpvZih0YXJnZXREYXRlKSA9ICdzdHJpbmcnO1xuICAgICAgVVBEQVRFIHJlY3VycmluZ19leHBlbnNlcyBTRVQgXG4gICAgICAgIG5leHREdWVEYXRlID0gdGltZTo6cGFyc2UobmV4dER1ZURhdGUpIFdIRVJFIHR5cGU6Om9mKG5leHREdWVEYXRlKSA9ICdzdHJpbmcnO1xuICAgIGApXG4gICAgXG4gICAgcmV0dXJuIHJlc3VsdFsxXSB8fCByZXN1bHRbMF0/LnJlc3VsdCB8fCBbXVxuICB9XG5cbiAgYXN5bmMgZml4RGF0ZUZpZWxkc1NpbXBsZSgpOiBQcm9taXNlPGFueT4ge1xuICAgIGF3YWl0IHRoaXMuY29ubmVjdCgpXG4gICAgXG4gICAgLy8gR2V0IGFsbCBleHBlbnNlcyBhbmQgY2hlY2sgaWYgdGhleSBoYXZlIHN0cmluZyBkYXRlc1xuICAgIGNvbnN0IGV4cGVuc2VzID0gYXdhaXQgdGhpcy5kYi5xdWVyeShgXG4gICAgICBVU0UgTlMgcnVwZWUgREIgZmluYW5jZTtcbiAgICAgIFNFTEVDVCAqIEZST00gZXhwZW5zZXM7XG4gICAgYClcbiAgICBcbiAgICBpZiAoZXhwZW5zZXNbMV0gJiYgZXhwZW5zZXNbMV0ubGVuZ3RoID4gMCkge1xuICAgICAgZm9yIChjb25zdCBleHBlbnNlIG9mIGV4cGVuc2VzWzFdKSB7XG4gICAgICAgIC8vIENoZWNrIGlmIHRoZSBkYXRlIGlzIGEgc3RyaW5nIChub3QgYSBkYXRldGltZSBvYmplY3QpXG4gICAgICAgIGlmICh0eXBlb2YgZXhwZW5zZS5kYXRlID09PSAnc3RyaW5nJyAmJiBleHBlbnNlLmRhdGUuaW5jbHVkZXMoJ1QnKSkge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLmRiLnF1ZXJ5KGBcbiAgICAgICAgICAgICAgVVNFIE5TIHJ1cGVlIERCIGZpbmFuY2U7XG4gICAgICAgICAgICAgIFVQREFURSAke2V4cGVuc2UuaWR9IFNFVCBkYXRlID0gdGltZTo6cGFyc2UoJyR7ZXhwZW5zZS5kYXRlfScpO1xuICAgICAgICAgICAgYClcbiAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKGBDb3VsZCBub3QgZml4IGRhdGUgZm9yIGV4cGVuc2UgJHtleHBlbnNlLmlkfTpgLCBlcnJvcilcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgLy8gR2V0IGFsbCBpbmNvbWVzIGFuZCBjaGVjayBpZiB0aGV5IGhhdmUgc3RyaW5nIGRhdGVzXG4gICAgY29uc3QgaW5jb21lcyA9IGF3YWl0IHRoaXMuZGIucXVlcnkoYFxuICAgICAgVVNFIE5TIHJ1cGVlIERCIGZpbmFuY2U7XG4gICAgICBTRUxFQ1QgKiBGUk9NIGluY29tZXM7XG4gICAgYClcbiAgICBcbiAgICBpZiAoaW5jb21lc1sxXSAmJiBpbmNvbWVzWzFdLmxlbmd0aCA+IDApIHtcbiAgICAgIGZvciAoY29uc3QgaW5jb21lIG9mIGluY29tZXNbMV0pIHtcbiAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIGRhdGUgaXMgYSBzdHJpbmcgKG5vdCBhIGRhdGV0aW1lIG9iamVjdClcbiAgICAgICAgaWYgKHR5cGVvZiBpbmNvbWUuZGF0ZSA9PT0gJ3N0cmluZycgJiYgaW5jb21lLmRhdGUuaW5jbHVkZXMoJ1QnKSkge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLmRiLnF1ZXJ5KGBcbiAgICAgICAgICAgICAgVVNFIE5TIHJ1cGVlIERCIGZpbmFuY2U7XG4gICAgICAgICAgICAgIFVQREFURSAke2luY29tZS5pZH0gU0VUIGRhdGUgPSB0aW1lOjpwYXJzZSgnJHtpbmNvbWUuZGF0ZX0nKTtcbiAgICAgICAgICAgIGApXG4gICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihgQ291bGQgbm90IGZpeCBkYXRlIGZvciBpbmNvbWUgJHtpbmNvbWUuaWR9OmAsIGVycm9yKVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlIH1cbiAgfVxuXG4gIGFzeW5jIGZpeFJlY29yZFJlZmVyZW5jZXMoKTogUHJvbWlzZTxhbnk+IHtcbiAgICBhd2FpdCB0aGlzLmNvbm5lY3QoKVxuICAgIFxuICAgIC8vIEZpeCBleHBlbnNlcyB3aXRoIHJlY29yZCByZWZlcmVuY2VzIGluc3RlYWQgb2Ygc3RyaW5nIElEc1xuICAgIGNvbnN0IGV4cGVuc2VzID0gYXdhaXQgdGhpcy5kYi5xdWVyeShgXG4gICAgICBVU0UgTlMgcnVwZWUgREIgZmluYW5jZTtcbiAgICAgIFNFTEVDVCAqIEZST00gZXhwZW5zZXM7XG4gICAgYClcbiAgICBcbiAgICBpZiAoZXhwZW5zZXNbMV0gJiYgZXhwZW5zZXNbMV0ubGVuZ3RoID4gMCkge1xuICAgICAgZm9yIChjb25zdCBleHBlbnNlIG9mIGV4cGVuc2VzWzFdKSB7XG4gICAgICAgIC8vIENoZWNrIGlmIHVzZXJJZCBpcyBhIHJlY29yZCByZWZlcmVuY2Ugb3IgX1JlY29yZElkIG9iamVjdFxuICAgICAgICBpZiAoZXhwZW5zZS51c2VySWQpIHtcbiAgICAgICAgICBsZXQgdXNlcklkID0gZXhwZW5zZS51c2VySWRcbiAgICAgICAgICBsZXQgbmVlZHNGaXggPSBmYWxzZVxuICAgICAgICAgIFxuICAgICAgICAgIGlmICh0eXBlb2YgZXhwZW5zZS51c2VySWQgPT09ICdvYmplY3QnICYmIGV4cGVuc2UudXNlcklkLmlkKSB7XG4gICAgICAgICAgICAvLyBIYW5kbGUgX1JlY29yZElkIG9iamVjdFxuICAgICAgICAgICAgdXNlcklkID0gZXhwZW5zZS51c2VySWQuaWRcbiAgICAgICAgICAgIG5lZWRzRml4ID0gdHJ1ZVxuICAgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGV4cGVuc2UudXNlcklkID09PSAnc3RyaW5nJyAmJiBleHBlbnNlLnVzZXJJZC5pbmNsdWRlcygnOicpKSB7XG4gICAgICAgICAgICAvLyBIYW5kbGUgc3RyaW5nIHJlY29yZCByZWZlcmVuY2VcbiAgICAgICAgICAgIHVzZXJJZCA9IGV4cGVuc2UudXNlcklkLnNwbGl0KCc6JylbMV1cbiAgICAgICAgICAgIG5lZWRzRml4ID0gdHJ1ZVxuICAgICAgICAgIH1cbiAgICAgICAgICBcbiAgICAgICAgICBpZiAobmVlZHNGaXgpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIGF3YWl0IHRoaXMuZGIucXVlcnkoYFxuICAgICAgICAgICAgICAgIFVTRSBOUyBydXBlZSBEQiBmaW5hbmNlO1xuICAgICAgICAgICAgICAgIFVQREFURSAke2V4cGVuc2UuaWR9IFNFVCB1c2VySWQgPSAnJHt1c2VySWR9JztcbiAgICAgICAgICAgICAgYClcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coYEZpeGVkIHVzZXJJZCBmb3IgZXhwZW5zZSAke2V4cGVuc2UuaWR9OiAke2V4cGVuc2UudXNlcklkfSAtPiAke3VzZXJJZH1gKVxuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgY29uc29sZS53YXJuKGBDb3VsZCBub3QgZml4IHVzZXJJZCBmb3IgZXhwZW5zZSAke2V4cGVuc2UuaWR9OmAsIGVycm9yKVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gQWxzbyBjaGVjayBjYXRlZ29yeUlkIGlmIGl0J3MgYSByZWNvcmQgcmVmZXJlbmNlXG4gICAgICAgIGlmIChleHBlbnNlLmNhdGVnb3J5SWQgJiYgdHlwZW9mIGV4cGVuc2UuY2F0ZWdvcnlJZCA9PT0gJ3N0cmluZycgJiYgZXhwZW5zZS5jYXRlZ29yeUlkLmluY2x1ZGVzKCc6JykpIHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgY2F0ZWdvcnlJZCA9IGV4cGVuc2UuY2F0ZWdvcnlJZC5zcGxpdCgnOicpWzFdXG4gICAgICAgICAgICBhd2FpdCB0aGlzLmRiLnF1ZXJ5KGBcbiAgICAgICAgICAgICAgVVNFIE5TIHJ1cGVlIERCIGZpbmFuY2U7XG4gICAgICAgICAgICAgIFVQREFURSAke2V4cGVuc2UuaWR9IFNFVCBjYXRlZ29yeUlkID0gJyR7Y2F0ZWdvcnlJZH0nO1xuICAgICAgICAgICAgYClcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGBGaXhlZCBjYXRlZ29yeUlkIGZvciBleHBlbnNlICR7ZXhwZW5zZS5pZH06ICR7ZXhwZW5zZS5jYXRlZ29yeUlkfSAtPiAke2NhdGVnb3J5SWR9YClcbiAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKGBDb3VsZCBub3QgZml4IGNhdGVnb3J5SWQgZm9yIGV4cGVuc2UgJHtleHBlbnNlLmlkfTpgLCBlcnJvcilcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgLy8gRml4IGluY29tZXMgd2l0aCByZWNvcmQgcmVmZXJlbmNlcyBpbnN0ZWFkIG9mIHN0cmluZyBJRHNcbiAgICBjb25zdCBpbmNvbWVzID0gYXdhaXQgdGhpcy5kYi5xdWVyeShgXG4gICAgICBVU0UgTlMgcnVwZWUgREIgZmluYW5jZTtcbiAgICAgIFNFTEVDVCAqIEZST00gaW5jb21lcztcbiAgICBgKVxuICAgIFxuICAgIGlmIChpbmNvbWVzWzFdICYmIGluY29tZXNbMV0ubGVuZ3RoID4gMCkge1xuICAgICAgZm9yIChjb25zdCBpbmNvbWUgb2YgaW5jb21lc1sxXSkge1xuICAgICAgICAvLyBDaGVjayBpZiB1c2VySWQgaXMgYSByZWNvcmQgcmVmZXJlbmNlIG9yIF9SZWNvcmRJZCBvYmplY3RcbiAgICAgICAgaWYgKGluY29tZS51c2VySWQpIHtcbiAgICAgICAgICBsZXQgdXNlcklkID0gaW5jb21lLnVzZXJJZFxuICAgICAgICAgIGxldCBuZWVkc0ZpeCA9IGZhbHNlXG4gICAgICAgICAgXG4gICAgICAgICAgaWYgKHR5cGVvZiBpbmNvbWUudXNlcklkID09PSAnb2JqZWN0JyAmJiBpbmNvbWUudXNlcklkLmlkKSB7XG4gICAgICAgICAgICAvLyBIYW5kbGUgX1JlY29yZElkIG9iamVjdFxuICAgICAgICAgICAgdXNlcklkID0gaW5jb21lLnVzZXJJZC5pZFxuICAgICAgICAgICAgbmVlZHNGaXggPSB0cnVlXG4gICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgaW5jb21lLnVzZXJJZCA9PT0gJ3N0cmluZycgJiYgaW5jb21lLnVzZXJJZC5pbmNsdWRlcygnOicpKSB7XG4gICAgICAgICAgICAvLyBIYW5kbGUgc3RyaW5nIHJlY29yZCByZWZlcmVuY2VcbiAgICAgICAgICAgIHVzZXJJZCA9IGluY29tZS51c2VySWQuc3BsaXQoJzonKVsxXVxuICAgICAgICAgICAgbmVlZHNGaXggPSB0cnVlXG4gICAgICAgICAgfVxuICAgICAgICAgIFxuICAgICAgICAgIGlmIChuZWVkc0ZpeCkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgYXdhaXQgdGhpcy5kYi5xdWVyeShgXG4gICAgICAgICAgICAgICAgVVNFIE5TIHJ1cGVlIERCIGZpbmFuY2U7XG4gICAgICAgICAgICAgICAgVVBEQVRFICR7aW5jb21lLmlkfSBTRVQgdXNlcklkID0gJyR7dXNlcklkfSc7XG4gICAgICAgICAgICAgIGApXG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKGBGaXhlZCB1c2VySWQgZm9yIGluY29tZSAke2luY29tZS5pZH06ICR7aW5jb21lLnVzZXJJZH0gLT4gJHt1c2VySWR9YClcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUud2FybihgQ291bGQgbm90IGZpeCB1c2VySWQgZm9yIGluY29tZSAke2luY29tZS5pZH06YCwgZXJyb3IpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIC8vIEZpeCBjYXRlZ29yaWVzIHdpdGggcmVjb3JkIHJlZmVyZW5jZXNcbiAgICBjb25zdCBjYXRlZ29yaWVzID0gYXdhaXQgdGhpcy5kYi5xdWVyeShgXG4gICAgICBVU0UgTlMgcnVwZWUgREIgZmluYW5jZTtcbiAgICAgIFNFTEVDVCAqIEZST00gY2F0ZWdvcmllcztcbiAgICBgKVxuICAgIFxuICAgIGlmIChjYXRlZ29yaWVzWzFdICYmIGNhdGVnb3JpZXNbMV0ubGVuZ3RoID4gMCkge1xuICAgICAgZm9yIChjb25zdCBjYXRlZ29yeSBvZiBjYXRlZ29yaWVzWzFdKSB7XG4gICAgICAgIC8vIENoZWNrIGlmIHVzZXJJZCBpcyBhIHJlY29yZCByZWZlcmVuY2UgKGNvbnRhaW5zICc6JylcbiAgICAgICAgaWYgKGNhdGVnb3J5LnVzZXJJZCAmJiB0eXBlb2YgY2F0ZWdvcnkudXNlcklkID09PSAnc3RyaW5nJyAmJiBjYXRlZ29yeS51c2VySWQuaW5jbHVkZXMoJzonKSkge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCB1c2VySWQgPSBjYXRlZ29yeS51c2VySWQuc3BsaXQoJzonKVsxXVxuICAgICAgICAgICAgYXdhaXQgdGhpcy5kYi5xdWVyeShgXG4gICAgICAgICAgICAgIFVTRSBOUyBydXBlZSBEQiBmaW5hbmNlO1xuICAgICAgICAgICAgICBVUERBVEUgJHtjYXRlZ29yeS5pZH0gU0VUIHVzZXJJZCA9ICcke3VzZXJJZH0nO1xuICAgICAgICAgICAgYClcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGBGaXhlZCB1c2VySWQgZm9yIGNhdGVnb3J5ICR7Y2F0ZWdvcnkuaWR9OiAke2NhdGVnb3J5LnVzZXJJZH0gLT4gJHt1c2VySWR9YClcbiAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKGBDb3VsZCBub3QgZml4IHVzZXJJZCBmb3IgY2F0ZWdvcnkgJHtjYXRlZ29yeS5pZH06YCwgZXJyb3IpXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIC8vIEZpeCBvdGhlciB0YWJsZXMgd2l0aCB1c2VySWQgcmVmZXJlbmNlc1xuICAgIGNvbnN0IHRhYmxlcyA9IFsnc2F2aW5nc19nb2FscycsICdidWRnZXRfbGltaXRzJywgJ2luc2lnaHRzJywgJ2FsZXJ0cycsICdyZWN1cnJpbmdfZXhwZW5zZXMnLCAncHJvZmlsZXMnLCAnYWNoaWV2ZW1lbnRzJywgJ2JhY2t1cF9oaXN0b3J5J11cbiAgICBcbiAgICBmb3IgKGNvbnN0IHRhYmxlIG9mIHRhYmxlcykge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVjb3JkcyA9IGF3YWl0IHRoaXMuZGIucXVlcnkoYFxuICAgICAgICAgIFVTRSBOUyBydXBlZSBEQiBmaW5hbmNlO1xuICAgICAgICAgIFNFTEVDVCAqIEZST00gJHt0YWJsZX07XG4gICAgICAgIGApXG4gICAgICAgIFxuICAgICAgICBpZiAocmVjb3Jkc1sxXSAmJiByZWNvcmRzWzFdLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICBmb3IgKGNvbnN0IHJlY29yZCBvZiByZWNvcmRzWzFdKSB7XG4gICAgICAgICAgICBpZiAocmVjb3JkLnVzZXJJZCAmJiB0eXBlb2YgcmVjb3JkLnVzZXJJZCA9PT0gJ3N0cmluZycgJiYgcmVjb3JkLnVzZXJJZC5pbmNsdWRlcygnOicpKSB7XG4gICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdXNlcklkID0gcmVjb3JkLnVzZXJJZC5zcGxpdCgnOicpWzFdXG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5kYi5xdWVyeShgXG4gICAgICAgICAgICAgICAgICBVU0UgTlMgcnVwZWUgREIgZmluYW5jZTtcbiAgICAgICAgICAgICAgICAgIFVQREFURSAke3JlY29yZC5pZH0gU0VUIHVzZXJJZCA9ICcke3VzZXJJZH0nO1xuICAgICAgICAgICAgICAgIGApXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coYEZpeGVkIHVzZXJJZCBmb3IgJHt0YWJsZX0gJHtyZWNvcmQuaWR9OiAke3JlY29yZC51c2VySWR9IC0+ICR7dXNlcklkfWApXG4gICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKGBDb3VsZCBub3QgZml4IHVzZXJJZCBmb3IgJHt0YWJsZX0gJHtyZWNvcmQuaWR9OmAsIGVycm9yKVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLndhcm4oYENvdWxkIG5vdCBwcm9jZXNzIHRhYmxlICR7dGFibGV9OmAsIGVycm9yKVxuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlIH1cbiAgfVxuXG4gIC8vIENvbXByZWhlbnNpdmUgbWV0aG9kIHRvIGZpeCBhbGwgcmVjb3JkIHJlZmVyZW5jZXNcbiAgYXN5bmMgZml4QWxsUmVjb3JkUmVmZXJlbmNlcygpOiBQcm9taXNlPGFueT4ge1xuICAgIGF3YWl0IHRoaXMuY29ubmVjdCgpXG4gICAgXG4gICAgdHJ5IHtcbiAgICAgIC8vIEdldCBhbGwgZXhwZW5zZXMgYW5kIGZpeCBhbnkgcmVjb3JkIHJlZmVyZW5jZXNcbiAgICAgIGNvbnN0IGV4cGVuc2VzID0gYXdhaXQgdGhpcy5kYi5xdWVyeShgXG4gICAgICAgIFVTRSBOUyBydXBlZSBEQiBmaW5hbmNlO1xuICAgICAgICBTRUxFQ1QgKiBGUk9NIGV4cGVuc2VzO1xuICAgICAgYClcbiAgICAgIFxuICAgICAgbGV0IGZpeGVkQ291bnQgPSAwXG4gICAgICBpZiAoZXhwZW5zZXNbMV0gJiYgZXhwZW5zZXNbMV0ubGVuZ3RoID4gMCkge1xuICAgICAgICBmb3IgKGNvbnN0IGV4cGVuc2Ugb2YgZXhwZW5zZXNbMV0pIHtcbiAgICAgICAgICBpZiAoZXhwZW5zZS51c2VySWQgJiYgdHlwZW9mIGV4cGVuc2UudXNlcklkID09PSAnc3RyaW5nJyAmJiBleHBlbnNlLnVzZXJJZC5pbmNsdWRlcygnOicpKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBjb25zdCB1c2VySWQgPSBleHBlbnNlLnVzZXJJZC5zcGxpdCgnOicpWzFdXG4gICAgICAgICAgICAgIGF3YWl0IHRoaXMuZGIucXVlcnkoYFxuICAgICAgICAgICAgICAgIFVTRSBOUyBydXBlZSBEQiBmaW5hbmNlO1xuICAgICAgICAgICAgICAgIFVQREFURSAke2V4cGVuc2UuaWR9IFNFVCB1c2VySWQgPSAnJHt1c2VySWR9JztcbiAgICAgICAgICAgICAgYClcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coYEZpeGVkIHVzZXJJZCBmb3IgZXhwZW5zZSAke2V4cGVuc2UuaWR9OiAke2V4cGVuc2UudXNlcklkfSAtPiAke3VzZXJJZH1gKVxuICAgICAgICAgICAgICBmaXhlZENvdW50KytcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUud2FybihgQ291bGQgbm90IGZpeCB1c2VySWQgZm9yIGV4cGVuc2UgJHtleHBlbnNlLmlkfTpgLCBlcnJvcilcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgXG4gICAgICAgICAgaWYgKGV4cGVuc2UuY2F0ZWdvcnlJZCAmJiB0eXBlb2YgZXhwZW5zZS5jYXRlZ29yeUlkID09PSAnc3RyaW5nJyAmJiBleHBlbnNlLmNhdGVnb3J5SWQuaW5jbHVkZXMoJzonKSkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgY29uc3QgY2F0ZWdvcnlJZCA9IGV4cGVuc2UuY2F0ZWdvcnlJZC5zcGxpdCgnOicpWzFdXG4gICAgICAgICAgICAgIGF3YWl0IHRoaXMuZGIucXVlcnkoYFxuICAgICAgICAgICAgICAgIFVTRSBOUyBydXBlZSBEQiBmaW5hbmNlO1xuICAgICAgICAgICAgICAgIFVQREFURSAke2V4cGVuc2UuaWR9IFNFVCBjYXRlZ29yeUlkID0gJyR7Y2F0ZWdvcnlJZH0nO1xuICAgICAgICAgICAgICBgKVxuICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgRml4ZWQgY2F0ZWdvcnlJZCBmb3IgZXhwZW5zZSAke2V4cGVuc2UuaWR9OiAke2V4cGVuc2UuY2F0ZWdvcnlJZH0gLT4gJHtjYXRlZ29yeUlkfWApXG4gICAgICAgICAgICAgIGZpeGVkQ291bnQrK1xuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgY29uc29sZS53YXJuKGBDb3VsZCBub3QgZml4IGNhdGVnb3J5SWQgZm9yIGV4cGVuc2UgJHtleHBlbnNlLmlkfTpgLCBlcnJvcilcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gR2V0IGFsbCBpbmNvbWVzIGFuZCBmaXggYW55IHJlY29yZCByZWZlcmVuY2VzXG4gICAgICBjb25zdCBpbmNvbWVzID0gYXdhaXQgdGhpcy5kYi5xdWVyeShgXG4gICAgICAgIFVTRSBOUyBydXBlZSBEQiBmaW5hbmNlO1xuICAgICAgICBTRUxFQ1QgKiBGUk9NIGluY29tZXM7XG4gICAgICBgKVxuICAgICAgXG4gICAgICBpZiAoaW5jb21lc1sxXSAmJiBpbmNvbWVzWzFdLmxlbmd0aCA+IDApIHtcbiAgICAgICAgZm9yIChjb25zdCBpbmNvbWUgb2YgaW5jb21lc1sxXSkge1xuICAgICAgICAgIGlmIChpbmNvbWUudXNlcklkICYmIHR5cGVvZiBpbmNvbWUudXNlcklkID09PSAnc3RyaW5nJyAmJiBpbmNvbWUudXNlcklkLmluY2x1ZGVzKCc6JykpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIGNvbnN0IHVzZXJJZCA9IGluY29tZS51c2VySWQuc3BsaXQoJzonKVsxXVxuICAgICAgICAgICAgICBhd2FpdCB0aGlzLmRiLnF1ZXJ5KGBcbiAgICAgICAgICAgICAgICBVU0UgTlMgcnVwZWUgREIgZmluYW5jZTtcbiAgICAgICAgICAgICAgICBVUERBVEUgJHtpbmNvbWUuaWR9IFNFVCB1c2VySWQgPSAnJHt1c2VySWR9JztcbiAgICAgICAgICAgICAgYClcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coYEZpeGVkIHVzZXJJZCBmb3IgaW5jb21lICR7aW5jb21lLmlkfTogJHtpbmNvbWUudXNlcklkfSAtPiAke3VzZXJJZH1gKVxuICAgICAgICAgICAgICBmaXhlZENvdW50KytcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUud2FybihgQ291bGQgbm90IGZpeCB1c2VySWQgZm9yIGluY29tZSAke2luY29tZS5pZH06YCwgZXJyb3IpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBcbiAgICAgIGNvbnNvbGUubG9nKGBGaXhlZCAke2ZpeGVkQ291bnR9IHJlY29yZCByZWZlcmVuY2VzYClcbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGZpeGVkQ291bnQgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmaXhpbmcgYWxsIHJlY29yZCByZWZlcmVuY2VzOicsIGVycm9yKVxuICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBlcnJvci5tZXNzYWdlIH1cbiAgICB9XG4gIH1cblxuICAvLyBOZXcgbWV0aG9kIHRvIGZpeCB0aGUgc3BlY2lmaWMgZXJyb3IgbWVudGlvbmVkXG4gIGFzeW5jIGZpeFNwZWNpZmljUmVjb3JkRXJyb3IoKTogUHJvbWlzZTxhbnk+IHtcbiAgICBhd2FpdCB0aGlzLmNvbm5lY3QoKVxuICAgIFxuICAgIHRyeSB7XG4gICAgICAvLyBGaW5kIHRoZSBzcGVjaWZpYyBleHBlbnNlIG1lbnRpb25lZCBpbiB0aGUgZXJyb3JcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMuZGIucXVlcnkoYFxuICAgICAgICBVU0UgTlMgcnVwZWUgREIgZmluYW5jZTtcbiAgICAgICAgU0VMRUNUICogRlJPTSBleHBlbnNlcyBXSEVSRSBpZCA9ICdleHBlbnNlczoyZGFocDFxOGU5Y2VyNG41czh6ZSc7XG4gICAgICBgKVxuICAgICAgXG4gICAgICBpZiAocmVzdWx0WzFdICYmIHJlc3VsdFsxXS5sZW5ndGggPiAwKSB7XG4gICAgICAgIGNvbnN0IGV4cGVuc2UgPSByZXN1bHRbMV1bMF1cbiAgICAgICAgaWYgKGV4cGVuc2UudXNlcklkICYmIHR5cGVvZiBleHBlbnNlLnVzZXJJZCA9PT0gJ3N0cmluZycgJiYgZXhwZW5zZS51c2VySWQuaW5jbHVkZXMoJzonKSkge1xuICAgICAgICAgIGNvbnN0IHVzZXJJZCA9IGV4cGVuc2UudXNlcklkLnNwbGl0KCc6JylbMV1cbiAgICAgICAgICBhd2FpdCB0aGlzLmRiLnF1ZXJ5KGBcbiAgICAgICAgICAgIFVTRSBOUyBydXBlZSBEQiBmaW5hbmNlO1xuICAgICAgICAgICAgVVBEQVRFIGV4cGVuc2VzOjJkYWhwMXE4ZTljZXI0bjVzOHplIFNFVCB1c2VySWQgPSAnJHt1c2VySWR9JztcbiAgICAgICAgICBgKVxuICAgICAgICAgIGNvbnNvbGUubG9nKGBGaXhlZCBzcGVjaWZpYyBleHBlbnNlIHVzZXJJZDogJHtleHBlbnNlLnVzZXJJZH0gLT4gJHt1c2VySWR9YClcbiAgICAgICAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlLCBmaXhlZDogdHJ1ZSB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gQWxzbyBjaGVjayBmb3IgdGhlIG5ldyBlcnJvciBtZW50aW9uZWRcbiAgICAgIGNvbnN0IHJlc3VsdDIgPSBhd2FpdCB0aGlzLmRiLnF1ZXJ5KGBcbiAgICAgICAgVVNFIE5TIHJ1cGVlIERCIGZpbmFuY2U7XG4gICAgICAgIFNFTEVDVCAqIEZST00gZXhwZW5zZXMgV0hFUkUgaWQgPSAnZXhwZW5zZXM6Y2U5b2JlZTQ0aDk0YTE4dHE2bTknO1xuICAgICAgYClcbiAgICAgIFxuICAgICAgaWYgKHJlc3VsdDJbMV0gJiYgcmVzdWx0MlsxXS5sZW5ndGggPiAwKSB7XG4gICAgICAgIGNvbnN0IGV4cGVuc2UgPSByZXN1bHQyWzFdWzBdXG4gICAgICAgIGlmIChleHBlbnNlLnVzZXJJZCAmJiB0eXBlb2YgZXhwZW5zZS51c2VySWQgPT09ICdzdHJpbmcnICYmIGV4cGVuc2UudXNlcklkLmluY2x1ZGVzKCc6JykpIHtcbiAgICAgICAgICBjb25zdCB1c2VySWQgPSBleHBlbnNlLnVzZXJJZC5zcGxpdCgnOicpWzFdXG4gICAgICAgICAgYXdhaXQgdGhpcy5kYi5xdWVyeShgXG4gICAgICAgICAgICBVU0UgTlMgcnVwZWUgREIgZmluYW5jZTtcbiAgICAgICAgICAgIFVQREFURSBleHBlbnNlczpjZTlvYmVlNDRoOTRhMTh0cTZtOSBTRVQgdXNlcklkID0gJyR7dXNlcklkfSc7XG4gICAgICAgICAgYClcbiAgICAgICAgICBjb25zb2xlLmxvZyhgRml4ZWQgc3BlY2lmaWMgZXhwZW5zZSB1c2VySWQ6ICR7ZXhwZW5zZS51c2VySWR9IC0+ICR7dXNlcklkfWApXG4gICAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgZml4ZWQ6IHRydWUgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIENoZWNrIGZvciB0aGUgbGF0ZXN0IGVycm9yIG1lbnRpb25lZFxuICAgICAgY29uc3QgcmVzdWx0MyA9IGF3YWl0IHRoaXMuZGIucXVlcnkoYFxuICAgICAgICBVU0UgTlMgcnVwZWUgREIgZmluYW5jZTtcbiAgICAgICAgU0VMRUNUICogRlJPTSBleHBlbnNlcyBXSEVSRSBpZCA9ICdleHBlbnNlczo1dDdzMjA4bWUxOHVyNmh6ZjRqcCc7XG4gICAgICBgKVxuICAgICAgXG4gICAgICBpZiAocmVzdWx0M1sxXSAmJiByZXN1bHQzWzFdLmxlbmd0aCA+IDApIHtcbiAgICAgICAgY29uc3QgZXhwZW5zZSA9IHJlc3VsdDNbMV1bMF1cbiAgICAgICAgaWYgKGV4cGVuc2UudXNlcklkICYmIHR5cGVvZiBleHBlbnNlLnVzZXJJZCA9PT0gJ3N0cmluZycgJiYgZXhwZW5zZS51c2VySWQuaW5jbHVkZXMoJzonKSkge1xuICAgICAgICAgIGNvbnN0IHVzZXJJZCA9IGV4cGVuc2UudXNlcklkLnNwbGl0KCc6JylbMV1cbiAgICAgICAgICBhd2FpdCB0aGlzLmRiLnF1ZXJ5KGBcbiAgICAgICAgICAgIFVTRSBOUyBydXBlZSBEQiBmaW5hbmNlO1xuICAgICAgICAgICAgVVBEQVRFIGV4cGVuc2VzOjV0N3MyMDhtZTE4dXI2aHpmNGpwIFNFVCB1c2VySWQgPSAnJHt1c2VySWR9JztcbiAgICAgICAgICBgKVxuICAgICAgICAgIGNvbnNvbGUubG9nKGBGaXhlZCBzcGVjaWZpYyBleHBlbnNlIHVzZXJJZDogJHtleHBlbnNlLnVzZXJJZH0gLT4gJHt1c2VySWR9YClcbiAgICAgICAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlLCBmaXhlZDogdHJ1ZSB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIFxuICAgICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgZml4ZWQ6IGZhbHNlIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZml4aW5nIHNwZWNpZmljIHJlY29yZDonLCBlcnJvcilcbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogZXJyb3IubWVzc2FnZSB9XG4gICAgfVxuICB9XG5cbiAgLy8gRXhwZW5zZSBvcGVyYXRpb25zXG4gIGFzeW5jIGNyZWF0ZUV4cGVuc2UoZXhwZW5zZURhdGE6IGFueSk6IFByb21pc2U8YW55PiB7XG4gICAgYXdhaXQgdGhpcy5jb25uZWN0KClcbiAgICBcbiAgICAvLyBFbnN1cmUgdXNlcklkIGlzIGEgc3RyaW5nLCBub3QgYSByZWNvcmQgcmVmZXJlbmNlXG4gICAgY29uc3QgY2xlYW5FeHBlbnNlRGF0YSA9IHsgLi4uZXhwZW5zZURhdGEgfVxuICAgIGlmIChjbGVhbkV4cGVuc2VEYXRhLnVzZXJJZCkge1xuICAgICAgaWYgKHR5cGVvZiBjbGVhbkV4cGVuc2VEYXRhLnVzZXJJZCA9PT0gJ29iamVjdCcgJiYgY2xlYW5FeHBlbnNlRGF0YS51c2VySWQuaWQpIHtcbiAgICAgICAgLy8gSGFuZGxlIF9SZWNvcmRJZCBvYmplY3RcbiAgICAgICAgY2xlYW5FeHBlbnNlRGF0YS51c2VySWQgPSBjbGVhbkV4cGVuc2VEYXRhLnVzZXJJZC5pZFxuICAgICAgfSBlbHNlIGlmICh0eXBlb2YgY2xlYW5FeHBlbnNlRGF0YS51c2VySWQgPT09ICdzdHJpbmcnICYmIGNsZWFuRXhwZW5zZURhdGEudXNlcklkLmluY2x1ZGVzKCc6JykpIHtcbiAgICAgICAgLy8gSGFuZGxlIHN0cmluZyByZWNvcmQgcmVmZXJlbmNlXG4gICAgICAgIGNsZWFuRXhwZW5zZURhdGEudXNlcklkID0gY2xlYW5FeHBlbnNlRGF0YS51c2VySWQuc3BsaXQoJzonKVsxXVxuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICAvLyBFbnN1cmUgY2F0ZWdvcnlJZCBpcyBhIHN0cmluZywgbm90IGEgcmVjb3JkIHJlZmVyZW5jZVxuICAgIGlmIChjbGVhbkV4cGVuc2VEYXRhLmNhdGVnb3J5SWQgJiYgdHlwZW9mIGNsZWFuRXhwZW5zZURhdGEuY2F0ZWdvcnlJZCA9PT0gJ3N0cmluZycgJiYgY2xlYW5FeHBlbnNlRGF0YS5jYXRlZ29yeUlkLmluY2x1ZGVzKCc6JykpIHtcbiAgICAgIGNsZWFuRXhwZW5zZURhdGEuY2F0ZWdvcnlJZCA9IGNsZWFuRXhwZW5zZURhdGEuY2F0ZWdvcnlJZC5zcGxpdCgnOicpWzFdXG4gICAgfVxuICAgIFxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMuZGIucXVlcnkoJ1VTRSBOUyBydXBlZSBEQiBmaW5hbmNlOyBDUkVBVEUgZXhwZW5zZXMgQ09OVEVOVCAkZXhwZW5zZURhdGEnLCB7IGV4cGVuc2VEYXRhOiBjbGVhbkV4cGVuc2VEYXRhIH0pXG4gICAgcmV0dXJuIHJlc3VsdFsxXT8uWzBdIHx8IHJlc3VsdFswXT8ucmVzdWx0Py5bMF1cbiAgfVxuXG4gIGFzeW5jIGdldEV4cGVuc2VzKHVzZXJJZDogc3RyaW5nKTogUHJvbWlzZTxhbnlbXT4ge1xuICAgIGF3YWl0IHRoaXMuY29ubmVjdCgpXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5kYi5xdWVyeSgnVVNFIE5TIHJ1cGVlIERCIGZpbmFuY2U7IFNFTEVDVCAqIEZST00gZXhwZW5zZXMgV0hFUkUgdXNlcklkID0gJHVzZXJJZCcsIHsgdXNlcklkIH0pXG4gICAgcmV0dXJuIHJlc3VsdFsxXSB8fCByZXN1bHRbMF0/LnJlc3VsdCB8fCBbXVxuICB9XG5cbiAgYXN5bmMgdXBkYXRlRXhwZW5zZShleHBlbnNlSWQ6IHN0cmluZywgZXhwZW5zZURhdGE6IGFueSk6IFByb21pc2U8YW55PiB7XG4gICAgYXdhaXQgdGhpcy5jb25uZWN0KClcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLmRiLnF1ZXJ5KCdVU0UgTlMgcnVwZWUgREIgZmluYW5jZTsgVVBEQVRFIGV4cGVuc2VzIFNFVCAqID0gJGV4cGVuc2VEYXRhIFdIRVJFIGlkID0gJGV4cGVuc2VJZCcsIHsgZXhwZW5zZUlkLCBleHBlbnNlRGF0YSB9KVxuICAgIHJldHVybiByZXN1bHRbMV0/LlswXSB8fCByZXN1bHRbMF0/LnJlc3VsdD8uWzBdXG4gIH1cblxuICBhc3luYyBkZWxldGVFeHBlbnNlKGV4cGVuc2VJZDogc3RyaW5nKTogUHJvbWlzZTxhbnk+IHtcbiAgICBhd2FpdCB0aGlzLmNvbm5lY3QoKVxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMuZGIucXVlcnkoJ1VTRSBOUyBydXBlZSBEQiBmaW5hbmNlOyBERUxFVEUgZXhwZW5zZXMgV0hFUkUgaWQgPSAkZXhwZW5zZUlkJywgeyBleHBlbnNlSWQgfSlcbiAgICByZXR1cm4gcmVzdWx0WzFdPy5bMF0gfHwgcmVzdWx0WzBdPy5yZXN1bHQ/LlswXVxuICB9XG5cbiAgLy8gSW5jb21lIG9wZXJhdGlvbnNcbiAgYXN5bmMgY3JlYXRlSW5jb21lKGluY29tZURhdGE6IGFueSk6IFByb21pc2U8YW55PiB7XG4gICAgYXdhaXQgdGhpcy5jb25uZWN0KClcbiAgICBcbiAgICAvLyBFbnN1cmUgdXNlcklkIGlzIGEgc3RyaW5nLCBub3QgYSByZWNvcmQgcmVmZXJlbmNlXG4gICAgY29uc3QgY2xlYW5JbmNvbWVEYXRhID0geyAuLi5pbmNvbWVEYXRhIH1cbiAgICBpZiAoY2xlYW5JbmNvbWVEYXRhLnVzZXJJZCkge1xuICAgICAgaWYgKHR5cGVvZiBjbGVhbkluY29tZURhdGEudXNlcklkID09PSAnb2JqZWN0JyAmJiBjbGVhbkluY29tZURhdGEudXNlcklkLmlkKSB7XG4gICAgICAgIC8vIEhhbmRsZSBfUmVjb3JkSWQgb2JqZWN0XG4gICAgICAgIGNsZWFuSW5jb21lRGF0YS51c2VySWQgPSBjbGVhbkluY29tZURhdGEudXNlcklkLmlkXG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiBjbGVhbkluY29tZURhdGEudXNlcklkID09PSAnc3RyaW5nJyAmJiBjbGVhbkluY29tZURhdGEudXNlcklkLmluY2x1ZGVzKCc6JykpIHtcbiAgICAgICAgLy8gSGFuZGxlIHN0cmluZyByZWNvcmQgcmVmZXJlbmNlXG4gICAgICAgIGNsZWFuSW5jb21lRGF0YS51c2VySWQgPSBjbGVhbkluY29tZURhdGEudXNlcklkLnNwbGl0KCc6JylbMV1cbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5kYi5xdWVyeSgnVVNFIE5TIHJ1cGVlIERCIGZpbmFuY2U7IENSRUFURSBpbmNvbWVzIENPTlRFTlQgJGluY29tZURhdGEnLCB7IGluY29tZURhdGE6IGNsZWFuSW5jb21lRGF0YSB9KVxuICAgIHJldHVybiByZXN1bHRbMV0/LlswXSB8fCByZXN1bHRbMF0/LnJlc3VsdD8uWzBdXG4gIH1cblxuICBhc3luYyBnZXRJbmNvbWVzKHVzZXJJZDogc3RyaW5nKTogUHJvbWlzZTxhbnlbXT4ge1xuICAgIGF3YWl0IHRoaXMuY29ubmVjdCgpXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5kYi5xdWVyeSgnVVNFIE5TIHJ1cGVlIERCIGZpbmFuY2U7IFNFTEVDVCAqIEZST00gaW5jb21lcyBXSEVSRSB1c2VySWQgPSAkdXNlcklkJywgeyB1c2VySWQgfSlcbiAgICByZXR1cm4gcmVzdWx0WzFdIHx8IHJlc3VsdFswXT8ucmVzdWx0IHx8IFtdXG4gIH1cblxuICBhc3luYyB1cGRhdGVJbmNvbWUoaW5jb21lSWQ6IHN0cmluZywgaW5jb21lRGF0YTogYW55KTogUHJvbWlzZTxhbnk+IHtcbiAgICBhd2FpdCB0aGlzLmNvbm5lY3QoKVxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMuZGIucXVlcnkoJ1VTRSBOUyBydXBlZSBEQiBmaW5hbmNlOyBVUERBVEUgaW5jb21lcyBTRVQgKiA9ICRpbmNvbWVEYXRhIFdIRVJFIGlkID0gJGluY29tZUlkJywgeyBpbmNvbWVJZCwgaW5jb21lRGF0YSB9KVxuICAgIHJldHVybiByZXN1bHRbMV0/LlswXSB8fCByZXN1bHRbMF0/LnJlc3VsdD8uWzBdXG4gIH1cblxuICBhc3luYyBkZWxldGVJbmNvbWUoaW5jb21lSWQ6IHN0cmluZyk6IFByb21pc2U8YW55PiB7XG4gICAgYXdhaXQgdGhpcy5jb25uZWN0KClcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLmRiLnF1ZXJ5KCdVU0UgTlMgcnVwZWUgREIgZmluYW5jZTsgREVMRVRFIGluY29tZXMgV0hFUkUgaWQgPSAkaW5jb21lSWQnLCB7IGluY29tZUlkIH0pXG4gICAgcmV0dXJuIHJlc3VsdFsxXT8uWzBdIHx8IHJlc3VsdFswXT8ucmVzdWx0Py5bMF1cbiAgfVxuXG4gIC8vIENhdGVnb3J5IG9wZXJhdGlvbnNcbiAgYXN5bmMgY3JlYXRlQ2F0ZWdvcnkoY2F0ZWdvcnlEYXRhOiBhbnkpOiBQcm9taXNlPGFueT4ge1xuICAgIGF3YWl0IHRoaXMuY29ubmVjdCgpXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5kYi5xdWVyeSgnVVNFIE5TIHJ1cGVlIERCIGZpbmFuY2U7IENSRUFURSBjYXRlZ29yaWVzIENPTlRFTlQgJGNhdGVnb3J5RGF0YScsIHsgY2F0ZWdvcnlEYXRhIH0pXG4gICAgcmV0dXJuIHJlc3VsdFsxXT8uWzBdIHx8IHJlc3VsdFswXT8ucmVzdWx0Py5bMF1cbiAgfVxuXG4gIGFzeW5jIGdldENhdGVnb3JpZXModXNlcklkOiBzdHJpbmcpOiBQcm9taXNlPGFueVtdPiB7XG4gICAgYXdhaXQgdGhpcy5jb25uZWN0KClcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLmRiLnF1ZXJ5KCdVU0UgTlMgcnVwZWUgREIgZmluYW5jZTsgU0VMRUNUICogRlJPTSBjYXRlZ29yaWVzIFdIRVJFIHVzZXJJZCA9ICR1c2VySWQnLCB7IHVzZXJJZCB9KVxuICAgIHJldHVybiByZXN1bHRbMV0gfHwgcmVzdWx0WzBdPy5yZXN1bHQgfHwgW11cbiAgfVxuXG4gIGFzeW5jIHVwZGF0ZUNhdGVnb3J5KGNhdGVnb3J5SWQ6IHN0cmluZywgY2F0ZWdvcnlEYXRhOiBhbnkpOiBQcm9taXNlPGFueT4ge1xuICAgIGF3YWl0IHRoaXMuY29ubmVjdCgpXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5kYi5xdWVyeSgnVVNFIE5TIHJ1cGVlIERCIGZpbmFuY2U7IFVQREFURSBjYXRlZ29yaWVzIFNFVCAqID0gJGNhdGVnb3J5RGF0YSBXSEVSRSBpZCA9ICRjYXRlZ29yeUlkJywgeyBjYXRlZ29yeUlkLCBjYXRlZ29yeURhdGEgfSlcbiAgICByZXR1cm4gcmVzdWx0WzFdPy5bMF0gfHwgcmVzdWx0WzBdPy5yZXN1bHQ/LlswXVxuICB9XG5cbiAgYXN5bmMgZGVsZXRlQ2F0ZWdvcnkoY2F0ZWdvcnlJZDogc3RyaW5nKTogUHJvbWlzZTxhbnk+IHtcbiAgICBhd2FpdCB0aGlzLmNvbm5lY3QoKVxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMuZGIucXVlcnkoJ1VTRSBOUyBydXBlZSBEQiBmaW5hbmNlOyBERUxFVEUgY2F0ZWdvcmllcyBXSEVSRSBpZCA9ICRjYXRlZ29yeUlkJywgeyBjYXRlZ29yeUlkIH0pXG4gICAgcmV0dXJuIHJlc3VsdFsxXT8uWzBdIHx8IHJlc3VsdFswXT8ucmVzdWx0Py5bMF1cbiAgfVxuXG4gIC8vIFNhdmluZ3MgZ29hbHMgb3BlcmF0aW9uc1xuICBhc3luYyBjcmVhdGVTYXZpbmdzR29hbChnb2FsRGF0YTogYW55KTogUHJvbWlzZTxhbnk+IHtcbiAgICBhd2FpdCB0aGlzLmNvbm5lY3QoKVxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMuZGIucXVlcnkoJ1VTRSBOUyBydXBlZSBEQiBmaW5hbmNlOyBDUkVBVEUgc2F2aW5nc19nb2FscyBDT05URU5UICRnb2FsRGF0YScsIHsgZ29hbERhdGEgfSlcbiAgICByZXR1cm4gcmVzdWx0WzFdPy5bMF0gfHwgcmVzdWx0WzBdPy5yZXN1bHQ/LlswXVxuICB9XG5cbiAgYXN5bmMgZ2V0U2F2aW5nc0dvYWxzKHVzZXJJZDogc3RyaW5nKTogUHJvbWlzZTxhbnlbXT4ge1xuICAgIGF3YWl0IHRoaXMuY29ubmVjdCgpXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5kYi5xdWVyeSgnVVNFIE5TIHJ1cGVlIERCIGZpbmFuY2U7IFNFTEVDVCAqIEZST00gc2F2aW5nc19nb2FscyBXSEVSRSB1c2VySWQgPSAkdXNlcklkJywgeyB1c2VySWQgfSlcbiAgICByZXR1cm4gcmVzdWx0WzFdIHx8IHJlc3VsdFswXT8ucmVzdWx0IHx8IFtdXG4gIH1cblxuICBhc3luYyB1cGRhdGVTYXZpbmdzR29hbChnb2FsSWQ6IHN0cmluZywgZ29hbERhdGE6IGFueSk6IFByb21pc2U8YW55PiB7XG4gICAgYXdhaXQgdGhpcy5jb25uZWN0KClcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLmRiLnF1ZXJ5KCdVU0UgTlMgcnVwZWUgREIgZmluYW5jZTsgVVBEQVRFIHNhdmluZ3NfZ29hbHMgU0VUICogPSAkZ29hbERhdGEgV0hFUkUgaWQgPSAkZ29hbElkJywgeyBnb2FsSWQsIGdvYWxEYXRhIH0pXG4gICAgcmV0dXJuIHJlc3VsdFsxXT8uWzBdIHx8IHJlc3VsdFswXT8ucmVzdWx0Py5bMF1cbiAgfVxuXG4gIGFzeW5jIGRlbGV0ZVNhdmluZ3NHb2FsKGdvYWxJZDogc3RyaW5nKTogUHJvbWlzZTxhbnk+IHtcbiAgICBhd2FpdCB0aGlzLmNvbm5lY3QoKVxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMuZGIucXVlcnkoJ1VTRSBOUyBydXBlZSBEQiBmaW5hbmNlOyBERUxFVEUgc2F2aW5nc19nb2FscyBXSEVSRSBpZCA9ICRnb2FsSWQnLCB7IGdvYWxJZCB9KVxuICAgIHJldHVybiByZXN1bHRbMV0/LlswXSB8fCByZXN1bHRbMF0/LnJlc3VsdD8uWzBdXG4gIH1cblxuICAvLyBCdWRnZXQgbGltaXRzIG9wZXJhdGlvbnNcbiAgYXN5bmMgY3JlYXRlQnVkZ2V0TGltaXQobGltaXREYXRhOiBhbnkpOiBQcm9taXNlPGFueT4ge1xuICAgIGF3YWl0IHRoaXMuY29ubmVjdCgpXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5kYi5xdWVyeSgnVVNFIE5TIHJ1cGVlIERCIGZpbmFuY2U7IENSRUFURSBidWRnZXRfbGltaXRzIENPTlRFTlQgJGxpbWl0RGF0YScsIHsgbGltaXREYXRhIH0pXG4gICAgcmV0dXJuIHJlc3VsdFsxXT8uWzBdIHx8IHJlc3VsdFswXT8ucmVzdWx0Py5bMF1cbiAgfVxuXG4gIGFzeW5jIGdldEJ1ZGdldExpbWl0cyh1c2VySWQ6IHN0cmluZyk6IFByb21pc2U8YW55W10+IHtcbiAgICBhd2FpdCB0aGlzLmNvbm5lY3QoKVxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMuZGIucXVlcnkoJ1VTRSBOUyBydXBlZSBEQiBmaW5hbmNlOyBTRUxFQ1QgKiBGUk9NIGJ1ZGdldF9saW1pdHMgV0hFUkUgdXNlcklkID0gJHVzZXJJZCcsIHsgdXNlcklkIH0pXG4gICAgcmV0dXJuIHJlc3VsdFsxXSB8fCByZXN1bHRbMF0/LnJlc3VsdCB8fCBbXVxuICB9XG5cbiAgYXN5bmMgdXBkYXRlQnVkZ2V0TGltaXQobGltaXRJZDogc3RyaW5nLCBsaW1pdERhdGE6IGFueSk6IFByb21pc2U8YW55PiB7XG4gICAgYXdhaXQgdGhpcy5jb25uZWN0KClcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLmRiLnF1ZXJ5KCdVU0UgTlMgcnVwZWUgREIgZmluYW5jZTsgVVBEQVRFIGJ1ZGdldF9saW1pdHMgU0VUICogPSAkbGltaXREYXRhIFdIRVJFIGlkID0gJGxpbWl0SWQnLCB7IGxpbWl0SWQsIGxpbWl0RGF0YSB9KVxuICAgIHJldHVybiByZXN1bHRbMV0/LlswXSB8fCByZXN1bHRbMF0/LnJlc3VsdD8uWzBdXG4gIH1cblxuICBhc3luYyBkZWxldGVCdWRnZXRMaW1pdChsaW1pdElkOiBzdHJpbmcpOiBQcm9taXNlPGFueT4ge1xuICAgIGF3YWl0IHRoaXMuY29ubmVjdCgpXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5kYi5xdWVyeSgnVVNFIE5TIHJ1cGVlIERCIGZpbmFuY2U7IERFTEVURSBidWRnZXRfbGltaXRzIFdIRVJFIGlkID0gJGxpbWl0SWQnLCB7IGxpbWl0SWQgfSlcbiAgICByZXR1cm4gcmVzdWx0WzFdPy5bMF0gfHwgcmVzdWx0WzBdPy5yZXN1bHQ/LlswXVxuICB9XG5cbiAgLy8gSW5zaWdodHMgb3BlcmF0aW9uc1xuICBhc3luYyBjcmVhdGVJbnNpZ2h0KGluc2lnaHREYXRhOiBhbnkpOiBQcm9taXNlPGFueT4ge1xuICAgIGF3YWl0IHRoaXMuY29ubmVjdCgpXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5kYi5xdWVyeSgnVVNFIE5TIHJ1cGVlIERCIGZpbmFuY2U7IENSRUFURSBpbnNpZ2h0cyBDT05URU5UICRpbnNpZ2h0RGF0YScsIHsgaW5zaWdodERhdGEgfSlcbiAgICByZXR1cm4gcmVzdWx0WzFdPy5bMF0gfHwgcmVzdWx0WzBdPy5yZXN1bHQ/LlswXVxuICB9XG5cbiAgYXN5bmMgZ2V0SW5zaWdodHModXNlcklkOiBzdHJpbmcpOiBQcm9taXNlPGFueVtdPiB7XG4gICAgYXdhaXQgdGhpcy5jb25uZWN0KClcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLmRiLnF1ZXJ5KCdVU0UgTlMgcnVwZWUgREIgZmluYW5jZTsgU0VMRUNUICogRlJPTSBpbnNpZ2h0cyBXSEVSRSB1c2VySWQgPSAkdXNlcklkIE9SREVSIEJZIGNyZWF0ZWRBdCBERVNDJywgeyB1c2VySWQgfSlcbiAgICByZXR1cm4gcmVzdWx0WzFdIHx8IHJlc3VsdFswXT8ucmVzdWx0IHx8IFtdXG4gIH1cblxuICBhc3luYyBtYXJrSW5zaWdodEFzUmVhZChpbnNpZ2h0SWQ6IHN0cmluZyk6IFByb21pc2U8YW55PiB7XG4gICAgYXdhaXQgdGhpcy5jb25uZWN0KClcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLmRiLnF1ZXJ5KCdVU0UgTlMgcnVwZWUgREIgZmluYW5jZTsgVVBEQVRFIGluc2lnaHRzIFNFVCBpc1JlYWQgPSB0cnVlIFdIRVJFIGlkID0gJGluc2lnaHRJZCcsIHsgaW5zaWdodElkIH0pXG4gICAgcmV0dXJuIHJlc3VsdFsxXT8uWzBdIHx8IHJlc3VsdFswXT8ucmVzdWx0Py5bMF1cbiAgfVxuXG4gIC8vIEFsZXJ0cyBvcGVyYXRpb25zXG4gIGFzeW5jIGNyZWF0ZUFsZXJ0KGFsZXJ0RGF0YTogYW55KTogUHJvbWlzZTxhbnk+IHtcbiAgICBhd2FpdCB0aGlzLmNvbm5lY3QoKVxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMuZGIucXVlcnkoJ1VTRSBOUyBydXBlZSBEQiBmaW5hbmNlOyBDUkVBVEUgYWxlcnRzIENPTlRFTlQgJGFsZXJ0RGF0YScsIHsgYWxlcnREYXRhIH0pXG4gICAgcmV0dXJuIHJlc3VsdFsxXT8uWzBdIHx8IHJlc3VsdFswXT8ucmVzdWx0Py5bMF1cbiAgfVxuXG4gIGFzeW5jIGdldEFsZXJ0cyh1c2VySWQ6IHN0cmluZyk6IFByb21pc2U8YW55W10+IHtcbiAgICBhd2FpdCB0aGlzLmNvbm5lY3QoKVxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMuZGIucXVlcnkoJ1VTRSBOUyBydXBlZSBEQiBmaW5hbmNlOyBTRUxFQ1QgKiBGUk9NIGFsZXJ0cyBXSEVSRSB1c2VySWQgPSAkdXNlcklkIE9SREVSIEJZIGNyZWF0ZWRBdCBERVNDJywgeyB1c2VySWQgfSlcbiAgICByZXR1cm4gcmVzdWx0WzFdIHx8IHJlc3VsdFswXT8ucmVzdWx0IHx8IFtdXG4gIH1cblxuICBhc3luYyBtYXJrQWxlcnRBc1JlYWQoYWxlcnRJZDogc3RyaW5nKTogUHJvbWlzZTxhbnk+IHtcbiAgICBhd2FpdCB0aGlzLmNvbm5lY3QoKVxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMuZGIucXVlcnkoJ1VTRSBOUyBydXBlZSBEQiBmaW5hbmNlOyBVUERBVEUgYWxlcnRzIFNFVCBpc1JlYWQgPSB0cnVlIFdIRVJFIGlkID0gJGFsZXJ0SWQnLCB7IGFsZXJ0SWQgfSlcbiAgICByZXR1cm4gcmVzdWx0WzFdPy5bMF0gfHwgcmVzdWx0WzBdPy5yZXN1bHQ/LlswXVxuICB9XG5cbiAgYXN5bmMgZGVsZXRlQWxlcnQoYWxlcnRJZDogc3RyaW5nKTogUHJvbWlzZTxhbnk+IHtcbiAgICBhd2FpdCB0aGlzLmNvbm5lY3QoKVxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMuZGIucXVlcnkoJ1VTRSBOUyBydXBlZSBEQiBmaW5hbmNlOyBERUxFVEUgYWxlcnRzIFdIRVJFIGlkID0gJGFsZXJ0SWQnLCB7IGFsZXJ0SWQgfSlcbiAgICByZXR1cm4gcmVzdWx0WzFdPy5bMF0gfHwgcmVzdWx0WzBdPy5yZXN1bHQ/LlswXVxuICB9XG5cbiAgLy8gQW5hbHl0aWNzIHF1ZXJpZXNcbiAgYXN5bmMgZ2V0TW9udGhseUV4cGVuc2VzKHVzZXJJZDogc3RyaW5nLCB5ZWFyOiBudW1iZXIsIG1vbnRoOiBudW1iZXIpOiBQcm9taXNlPGFueVtdPiB7XG4gICAgYXdhaXQgdGhpcy5jb25uZWN0KClcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLmRiLnF1ZXJ5KGBcbiAgICAgIFVTRSBOUyBydXBlZSBEQiBmaW5hbmNlO1xuICAgICAgU0VMRUNUICogRlJPTSBleHBlbnNlcyBcbiAgICAgIFdIRVJFIHVzZXJJZCA9ICR1c2VySWQgXG4gICAgICBBTkQgdGltZTo6eWVhcihkYXRlKSA9ICR5ZWFyIFxuICAgICAgQU5EIHRpbWU6Om1vbnRoKGRhdGUpID0gJG1vbnRoXG4gICAgICBPUkRFUiBCWSBkYXRlIERFU0NcbiAgICBgLCB7IHVzZXJJZCwgeWVhciwgbW9udGggfSlcbiAgICByZXR1cm4gcmVzdWx0WzFdIHx8IHJlc3VsdFswXT8ucmVzdWx0IHx8IFtdXG4gIH1cblxuICBhc3luYyBnZXRFeHBlbnNlc0J5Q2F0ZWdvcnkodXNlcklkOiBzdHJpbmcsIHN0YXJ0RGF0ZTogc3RyaW5nLCBlbmREYXRlOiBzdHJpbmcpOiBQcm9taXNlPGFueVtdPiB7XG4gICAgYXdhaXQgdGhpcy5jb25uZWN0KClcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLmRiLnF1ZXJ5KGBcbiAgICAgIFVTRSBOUyBydXBlZSBEQiBmaW5hbmNlO1xuICAgICAgU0VMRUNUIGNhdGVnb3J5SWQsIHN1bShhbW91bnQpIGFzIHRvdGFsIFxuICAgICAgRlJPTSBleHBlbnNlcyBcbiAgICAgIFdIRVJFIHVzZXJJZCA9ICR1c2VySWQgXG4gICAgICBBTkQgZGF0ZSA+PSAkc3RhcnREYXRlIFxuICAgICAgQU5EIGRhdGUgPD0gJGVuZERhdGVcbiAgICAgIEdST1VQIEJZIGNhdGVnb3J5SWRcbiAgICBgLCB7IHVzZXJJZCwgc3RhcnREYXRlLCBlbmREYXRlIH0pXG4gICAgcmV0dXJuIHJlc3VsdFsxXSB8fCByZXN1bHRbMF0/LnJlc3VsdCB8fCBbXVxuICB9XG5cbiAgYXN5bmMgZ2V0VG90YWxTYXZpbmdzKHVzZXJJZDogc3RyaW5nKTogUHJvbWlzZTxudW1iZXI+IHtcbiAgICBhd2FpdCB0aGlzLmNvbm5lY3QoKVxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMuZGIucXVlcnkoYFxuICAgICAgVVNFIE5TIHJ1cGVlIERCIGZpbmFuY2U7XG4gICAgICBTRUxFQ1Qgc3VtKGN1cnJlbnRBbW91bnQpIGFzIHRvdGFsIFxuICAgICAgRlJPTSBzYXZpbmdzX2dvYWxzIFxuICAgICAgV0hFUkUgdXNlcklkID0gJHVzZXJJZFxuICAgIGAsIHsgdXNlcklkIH0pXG4gICAgcmV0dXJuIHJlc3VsdFsxXT8uWzBdPy50b3RhbCB8fCByZXN1bHRbMF0/LnJlc3VsdD8uWzBdPy50b3RhbCB8fCAwXG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IHN1cnJlYWxEQiA9IFN1cnJlYWxEQlNlcnZpY2UuZ2V0SW5zdGFuY2UoKVxuZXhwb3J0IGRlZmF1bHQgc3VycmVhbERCICJdLCJuYW1lcyI6WyJTdXJyZWFsIiwiU1VSUkVBTF9DT05GSUciLCJ1cmwiLCJwcm9jZXNzIiwiZW52IiwiTkVYVF9QVUJMSUNfU1VSUkVBTF9VUkwiLCJuYW1lc3BhY2UiLCJORVhUX1BVQkxJQ19TVVJSRUFMX05BTUVTUEFDRSIsImRhdGFiYXNlIiwiTkVYVF9QVUJMSUNfU1VSUkVBTF9EQVRBQkFTRSIsInVzZXJuYW1lIiwiTkVYVF9QVUJMSUNfU1VSUkVBTF9VU0VSTkFNRSIsInBhc3N3b3JkIiwiTkVYVF9QVUJMSUNfU1VSUkVBTF9QQVNTV09SRCIsInRva2VuIiwiTkVYVF9QVUJMSUNfU1VSUkVBTF9UT0tFTiIsIlN1cnJlYWxEQlNlcnZpY2UiLCJnZXRJbnN0YW5jZSIsImluc3RhbmNlIiwiY29ubmVjdCIsImlzQ29ubmVjdGVkIiwiZGIiLCJhdXRoZW50aWNhdGUiLCJzaWduaW4iLCJ1c2UiLCJucyIsImNvbnNvbGUiLCJsb2ciLCJpbml0aWFsaXplU2NoZW1hIiwiZml4QWxsVXNlcnMiLCJlcnJvciIsIndhcm4iLCJmaXhEYXRlRmllbGRzU2ltcGxlIiwiZml4UmVjb3JkUmVmZXJlbmNlcyIsImZpeFNwZWNpZmljUmVjb3JkRXJyb3IiLCJmaXhBbGxSZWNvcmRSZWZlcmVuY2VzIiwicXVlcnkiLCJtZXNzYWdlIiwiaW5jbHVkZXMiLCJkaXNjb25uZWN0IiwiY2xvc2UiLCJjcmVhdGVVc2VyIiwidXNlckRhdGEiLCJyZXN1bHQiLCJkZWZhdWx0VXNlckRhdGEiLCJwcmVmZXJlbmNlcyIsImN1cnJlbmN5IiwidGhlbWUiLCJub3RpZmljYXRpb25zIiwiZGVmYXVsdFBheW1lbnRNZXRob2QiLCJidWRnZXRMaW1pdHMiLCJhbGVydFNldHRpbmdzIiwib3ZlcnNwZW5kaW5nQWxlcnRzIiwiYnVkZ2V0TGltaXRBbGVydHMiLCJzYXZpbmdzR29hbEFsZXJ0cyIsIndlZWtseUluc2lnaHRzIiwiZW1haWxOb3RpZmljYXRpb25zIiwicHVzaE5vdGlmaWNhdGlvbnMiLCJnYW1pZmljYXRpb25FbmFibGVkIiwiYXV0b0JhY2t1cEVuYWJsZWQiLCJjbG91ZFN5bmNFbmFibGVkIiwicmVjZWlwdFNjYW5uaW5nRW5hYmxlZCIsInByb2ZpbGVzIiwiYWN0aXZlUHJvZmlsZUlkIiwic2VjdXJpdHlTZXR0aW5ncyIsInBpbkVuYWJsZWQiLCJiaW9tZXRyaWNFbmFibGVkIiwiYXV0b0xvY2tUaW1lb3V0IiwicmVxdWlyZUF1dGhGb3JFeHBvcnQiLCJyZXF1aXJlQXV0aEZvclNldHRpbmdzIiwiYWNoaWV2ZW1lbnRzIiwic3RyZWFrcyIsImN1cnJlbnRTdHJlYWsiLCJsb25nZXN0U3RyZWFrIiwibm9TcGVuZERheXMiLCJ0b3RhbE5vU3BlbmREYXlzIiwiY3VycmVudE5vU3BlbmRTdHJlYWsiLCJsb25nZXN0Tm9TcGVuZFN0cmVhayIsInVzZXIiLCJpZCIsInNwbGl0IiwiZ2V0VXNlciIsInVzZXJJZCIsInVwZGF0ZVVzZXIiLCJkZWxldGVVc2VyIiwiZml4VXNlckZpZWxkcyIsImZpeERhdGVGaWVsZHMiLCJleHBlbnNlcyIsImxlbmd0aCIsImV4cGVuc2UiLCJkYXRlIiwiaW5jb21lcyIsImluY29tZSIsInN1Y2Nlc3MiLCJuZWVkc0ZpeCIsImNhdGVnb3J5SWQiLCJjYXRlZ29yaWVzIiwiY2F0ZWdvcnkiLCJ0YWJsZXMiLCJ0YWJsZSIsInJlY29yZHMiLCJyZWNvcmQiLCJmaXhlZENvdW50IiwiZml4ZWQiLCJyZXN1bHQyIiwicmVzdWx0MyIsImNyZWF0ZUV4cGVuc2UiLCJleHBlbnNlRGF0YSIsImNsZWFuRXhwZW5zZURhdGEiLCJnZXRFeHBlbnNlcyIsInVwZGF0ZUV4cGVuc2UiLCJleHBlbnNlSWQiLCJkZWxldGVFeHBlbnNlIiwiY3JlYXRlSW5jb21lIiwiaW5jb21lRGF0YSIsImNsZWFuSW5jb21lRGF0YSIsImdldEluY29tZXMiLCJ1cGRhdGVJbmNvbWUiLCJpbmNvbWVJZCIsImRlbGV0ZUluY29tZSIsImNyZWF0ZUNhdGVnb3J5IiwiY2F0ZWdvcnlEYXRhIiwiZ2V0Q2F0ZWdvcmllcyIsInVwZGF0ZUNhdGVnb3J5IiwiZGVsZXRlQ2F0ZWdvcnkiLCJjcmVhdGVTYXZpbmdzR29hbCIsImdvYWxEYXRhIiwiZ2V0U2F2aW5nc0dvYWxzIiwidXBkYXRlU2F2aW5nc0dvYWwiLCJnb2FsSWQiLCJkZWxldGVTYXZpbmdzR29hbCIsImNyZWF0ZUJ1ZGdldExpbWl0IiwibGltaXREYXRhIiwiZ2V0QnVkZ2V0TGltaXRzIiwidXBkYXRlQnVkZ2V0TGltaXQiLCJsaW1pdElkIiwiZGVsZXRlQnVkZ2V0TGltaXQiLCJjcmVhdGVJbnNpZ2h0IiwiaW5zaWdodERhdGEiLCJnZXRJbnNpZ2h0cyIsIm1hcmtJbnNpZ2h0QXNSZWFkIiwiaW5zaWdodElkIiwiY3JlYXRlQWxlcnQiLCJhbGVydERhdGEiLCJnZXRBbGVydHMiLCJtYXJrQWxlcnRBc1JlYWQiLCJhbGVydElkIiwiZGVsZXRlQWxlcnQiLCJnZXRNb250aGx5RXhwZW5zZXMiLCJ5ZWFyIiwibW9udGgiLCJnZXRFeHBlbnNlc0J5Q2F0ZWdvcnkiLCJzdGFydERhdGUiLCJlbmREYXRlIiwiZ2V0VG90YWxTYXZpbmdzIiwidG90YWwiLCJzdXJyZWFsREIiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./lib/surrealdb.ts\n"));

/***/ })

});