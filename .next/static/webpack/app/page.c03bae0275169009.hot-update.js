"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/page",{

/***/ "(app-pages-browser)/./node_modules/react-calendar/dist/Calendar.css":
/*!*******************************************************!*\
  !*** ./node_modules/react-calendar/dist/Calendar.css ***!
  \*******************************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (\"03444069db82\");\nif (true) { module.hot.accept() }\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9yZWFjdC1jYWxlbmRhci9kaXN0L0NhbGVuZGFyLmNzcyIsIm1hcHBpbmdzIjoiO0FBQUEsK0RBQWUsY0FBYztBQUM3QixJQUFJLElBQVUsSUFBSSxpQkFBaUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL3JlYWN0LWNhbGVuZGFyL2Rpc3QvQ2FsZW5kYXIuY3NzP2VkY2IiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgXCIwMzQ0NDA2OWRiODJcIlxuaWYgKG1vZHVsZS5ob3QpIHsgbW9kdWxlLmhvdC5hY2NlcHQoKSB9XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/react-calendar/dist/Calendar.css\n"));

/***/ }),

/***/ "(app-pages-browser)/./lib/surrealdb.ts":
/*!**************************!*\
  !*** ./lib/surrealdb.ts ***!
  \**************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   surrealDB: function() { return /* binding */ surrealDB; }\n/* harmony export */ });\n/* harmony import */ var surrealdb__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! surrealdb */ \"(app-pages-browser)/./node_modules/surrealdb/dist/index.mjs\");\n/* provided dependency */ var process = __webpack_require__(/*! process */ \"(app-pages-browser)/./node_modules/next/dist/build/polyfills/process.js\");\n\n// SurrealDB configuration\nconst SURREAL_CONFIG = {\n    url: \"wss://proud-mountain-06c6jke0n1vbn801agrm8g9sj4.aws-euw1.surreal.cloud/rpc\" || 0,\n    namespace: \"charmee\" || 0,\n    database: \"ruppee\" || 0,\n    // For local development\n    username: process.env.NEXT_PUBLIC_SURREAL_USERNAME || \"root\",\n    password: process.env.NEXT_PUBLIC_SURREAL_PASSWORD || \"root\",\n    // For Surreal Cloud (token-based auth)\n    token: \"your_token_here\" || 0\n};\nclass SurrealDBService {\n    static getInstance() {\n        if (!SurrealDBService.instance) {\n            SurrealDBService.instance = new SurrealDBService();\n        }\n        return SurrealDBService.instance;\n    }\n    async connect() {\n        if (this.isConnected) return;\n        try {\n            await this.db.connect(SURREAL_CONFIG.url);\n            // Authenticate based on environment (Cloud vs Local)\n            if (SURREAL_CONFIG.token) {\n                // Surreal Cloud: Use token authentication\n                await this.db.authenticate(SURREAL_CONFIG.token);\n            } else {\n                // Local development: Use username/password\n                await this.db.signin({\n                    username: SURREAL_CONFIG.username,\n                    password: SURREAL_CONFIG.password\n                });\n            }\n            // Use the namespace and database (create if they don't exist)\n            await this.db.use({\n                ns: SURREAL_CONFIG.namespace,\n                db: SURREAL_CONFIG.database\n            });\n            this.isConnected = true;\n            console.log(\"✅ Connected to SurrealDB\");\n            // Initialize database schema\n            await this.initializeSchema();\n            // Fix any existing users with NONE values\n            try {\n                await this.fixAllUsers();\n                console.log(\"✅ Fixed existing users with NONE values\");\n            } catch (error) {\n                console.warn(\"⚠️ Could not fix existing users:\", error);\n            }\n            // Fix any existing records with string dates\n            try {\n                await this.fixDateFieldsSimple();\n                console.log(\"✅ Fixed existing records with string dates\");\n            } catch (error) {\n                console.warn(\"⚠️ Could not fix existing date fields:\", error);\n            }\n            // Fix any existing records with record references instead of string IDs\n            try {\n                await this.fixRecordReferences();\n                console.log(\"✅ Fixed existing records with record references\");\n            } catch (error) {\n                console.warn(\"⚠️ Could not fix existing record references:\", error);\n            }\n            // Fix the specific error mentioned in the user query\n            try {\n                await this.fixSpecificRecordError();\n                console.log(\"✅ Fixed specific record error\");\n            } catch (error) {\n                console.warn(\"⚠️ Could not fix specific record error:\", error);\n            }\n            // Additional comprehensive fix for any remaining record references\n            try {\n                await this.fixAllRecordReferences();\n                console.log(\"✅ Fixed all remaining record references\");\n            } catch (error) {\n                console.warn(\"⚠️ Could not fix all record references:\", error);\n            }\n        } catch (error) {\n            console.error(\"❌ Failed to connect to SurrealDB:\", error);\n            throw error;\n        }\n    }\n    async initializeSchema() {\n        try {\n            console.log(\"\\uD83D\\uDD0D Initializing schema...\");\n            // Wrap in try-catch to handle \"table already exists\" errors gracefully\n            try {\n                await this.db.query(\"\\n          USE NS rupee DB finance;\\n          \\n          -- Users table\\n          DEFINE TABLE users SCHEMAFULL;\\n          DEFINE FIELD email ON users TYPE string ASSERT $value != NONE;\\n          DEFINE FIELD name ON users TYPE string;\\n          DEFINE FIELD preferences ON users TYPE object DEFAULT {\\n            currency: '₹',\\n            theme: 'light',\\n            notifications: true,\\n            defaultPaymentMethod: 'cash',\\n            budgetLimits: [],\\n            alertSettings: {\\n              overspendingAlerts: true,\\n              budgetLimitAlerts: true,\\n              savingsGoalAlerts: true,\\n              weeklyInsights: true,\\n              emailNotifications: false,\\n              pushNotifications: true\\n            },\\n            gamificationEnabled: true,\\n            autoBackupEnabled: false,\\n            cloudSyncEnabled: false,\\n            receiptScanningEnabled: false\\n          };\\n          DEFINE FIELD profiles ON users TYPE array DEFAULT [];\\n          DEFINE FIELD activeProfileId ON users TYPE string DEFAULT '';\\n          DEFINE FIELD securitySettings ON users TYPE object DEFAULT {\\n            pinEnabled: false,\\n            biometricEnabled: false,\\n            autoLockTimeout: 5,\\n            requireAuthForExport: true,\\n            requireAuthForSettings: false\\n          };\\n          DEFINE FIELD achievements ON users TYPE array DEFAULT [];\\n          DEFINE FIELD streaks ON users TYPE object DEFAULT {\\n            currentStreak: 0,\\n            longestStreak: 0,\\n            noSpendDays: 0,\\n            totalNoSpendDays: 0,\\n            currentNoSpendStreak: 0,\\n            longestNoSpendStreak: 0\\n          };\\n          DEFINE FIELD createdAt ON users TYPE datetime DEFAULT time::now();\\n          DEFINE FIELD updatedAt ON users TYPE datetime DEFAULT time::now();\\n          \\n          -- Expenses table\\n          DEFINE TABLE expenses SCHEMAFULL;\\n          DEFINE FIELD userId ON expenses TYPE string;\\n          DEFINE FIELD amount ON expenses TYPE number;\\n          DEFINE FIELD description ON expenses TYPE string;\\n          DEFINE FIELD categoryId ON expenses TYPE string;\\n          DEFINE FIELD date ON expenses TYPE datetime;\\n          DEFINE FIELD paymentMethod ON expenses TYPE string;\\n          DEFINE FIELD createdAt ON expenses TYPE datetime DEFAULT time::now();\\n          DEFINE FIELD updatedAt ON expenses TYPE datetime DEFAULT time::now();\\n          \\n          -- Incomes table\\n          DEFINE TABLE incomes SCHEMAFULL;\\n          DEFINE FIELD userId ON incomes TYPE string;\\n          DEFINE FIELD amount ON incomes TYPE number;\\n          DEFINE FIELD source ON incomes TYPE string;\\n          DEFINE FIELD date ON incomes TYPE datetime;\\n          DEFINE FIELD createdAt ON incomes TYPE datetime DEFAULT time::now();\\n          DEFINE FIELD updatedAt ON incomes TYPE datetime DEFAULT time::now();\\n          \\n          -- Categories table\\n          DEFINE TABLE categories SCHEMAFULL;\\n          DEFINE FIELD userId ON categories TYPE string;\\n          DEFINE FIELD name ON categories TYPE string;\\n          DEFINE FIELD color ON categories TYPE string;\\n          DEFINE FIELD icon ON categories TYPE string;\\n          DEFINE FIELD isCustom ON categories TYPE bool DEFAULT true;\\n          DEFINE FIELD createdAt ON categories TYPE datetime DEFAULT time::now();\\n          DEFINE FIELD updatedAt ON categories TYPE datetime DEFAULT time::now();\\n          \\n          -- Savings goals table\\n          DEFINE TABLE savings_goals SCHEMAFULL;\\n          DEFINE FIELD userId ON savings_goals TYPE string;\\n          DEFINE FIELD name ON savings_goals TYPE string;\\n          DEFINE FIELD targetAmount ON savings_goals TYPE number;\\n          DEFINE FIELD currentAmount ON savings_goals TYPE number DEFAULT 0;\\n          DEFINE FIELD targetDate ON savings_goals TYPE datetime;\\n          DEFINE FIELD createdAt ON savings_goals TYPE datetime DEFAULT time::now();\\n          DEFINE FIELD updatedAt ON savings_goals TYPE datetime DEFAULT time::now();\\n          \\n          -- Budget limits table\\n          DEFINE TABLE budget_limits SCHEMAFULL;\\n          DEFINE FIELD userId ON budget_limits TYPE string;\\n          DEFINE FIELD categoryId ON budget_limits TYPE string;\\n          DEFINE FIELD amount ON budget_limits TYPE number;\\n          DEFINE FIELD period ON budget_limits TYPE string;\\n          DEFINE FIELD isActive ON budget_limits TYPE bool DEFAULT true;\\n          DEFINE FIELD createdAt ON budget_limits TYPE datetime DEFAULT time::now();\\n          DEFINE FIELD updatedAt ON budget_limits TYPE datetime DEFAULT time::now();\\n          \\n          -- Insights table\\n          DEFINE TABLE insights SCHEMAFULL;\\n          DEFINE FIELD userId ON insights TYPE string;\\n          DEFINE FIELD type ON insights TYPE string;\\n          DEFINE FIELD title ON insights TYPE string;\\n          DEFINE FIELD description ON insights TYPE string;\\n          DEFINE FIELD data ON insights TYPE object;\\n          DEFINE FIELD isRead ON insights TYPE bool DEFAULT false;\\n          DEFINE FIELD createdAt ON insights TYPE datetime DEFAULT time::now();\\n          \\n          -- Alerts table\\n          DEFINE TABLE alerts SCHEMAFULL;\\n          DEFINE FIELD userId ON alerts TYPE string;\\n          DEFINE FIELD type ON alerts TYPE string;\\n          DEFINE FIELD title ON alerts TYPE string;\\n          DEFINE FIELD message ON alerts TYPE string;\\n          DEFINE FIELD severity ON alerts TYPE string;\\n          DEFINE FIELD isRead ON alerts TYPE bool DEFAULT false;\\n          DEFINE FIELD createdAt ON alerts TYPE datetime DEFAULT time::now();\\n          \\n          -- Recurring expenses table\\n          DEFINE TABLE recurring_expenses SCHEMAFULL;\\n          DEFINE FIELD userId ON recurring_expenses TYPE string;\\n          DEFINE FIELD amount ON recurring_expenses TYPE number;\\n          DEFINE FIELD description ON recurring_expenses TYPE string;\\n          DEFINE FIELD categoryId ON recurring_expenses TYPE string;\\n          DEFINE FIELD frequency ON recurring_expenses TYPE string;\\n          DEFINE FIELD nextDueDate ON recurring_expenses TYPE datetime;\\n          DEFINE FIELD isActive ON recurring_expenses TYPE bool DEFAULT true;\\n          DEFINE FIELD createdAt ON recurring_expenses TYPE datetime DEFAULT time::now();\\n          DEFINE FIELD updatedAt ON recurring_expenses TYPE datetime DEFAULT time::now();\\n          \\n          -- Profiles table\\n          DEFINE TABLE profiles SCHEMAFULL;\\n          DEFINE FIELD userId ON profiles TYPE string;\\n          DEFINE FIELD name ON profiles TYPE string;\\n          DEFINE FIELD role ON profiles TYPE string;\\n          DEFINE FIELD permissions ON profiles TYPE object;\\n          DEFINE FIELD createdAt ON profiles TYPE datetime DEFAULT time::now();\\n          DEFINE FIELD updatedAt ON profiles TYPE datetime DEFAULT time::now();\\n          \\n          -- Achievements table\\n          DEFINE TABLE achievements SCHEMAFULL;\\n          DEFINE FIELD userId ON achievements TYPE string;\\n          DEFINE FIELD name ON achievements TYPE string;\\n          DEFINE FIELD description ON achievements TYPE string;\\n          DEFINE FIELD icon ON achievements TYPE string;\\n          DEFINE FIELD progress ON achievements TYPE number DEFAULT 0;\\n          DEFINE FIELD maxProgress ON achievements TYPE number;\\n          DEFINE FIELD isUnlocked ON achievements TYPE bool DEFAULT false;\\n          DEFINE FIELD unlockedAt ON achievements TYPE datetime;\\n          DEFINE FIELD createdAt ON achievements TYPE datetime DEFAULT time::now();\\n          \\n          -- Backup history table\\n          DEFINE TABLE backup_history SCHEMAFULL;\\n          DEFINE FIELD userId ON backup_history TYPE string;\\n          DEFINE FIELD type ON backup_history TYPE string;\\n          DEFINE FIELD status ON backup_history TYPE string;\\n          DEFINE FIELD fileSize ON backup_history TYPE number;\\n          DEFINE FIELD createdAt ON backup_history TYPE datetime DEFAULT time::now();\\n        \");\n                console.log(\"✅ Database schema initialized\");\n            } catch (error) {\n                // Handle \"table already exists\" error gracefully\n                if (error.message && error.message.includes(\"already exists\")) {\n                    console.log(\"ℹ️ Schema already exists, skipping initialization\");\n                } else {\n                    console.error(\"❌ Failed to initialize schema:\", error);\n                    throw error;\n                }\n            }\n        } catch (error) {\n            console.error(\"❌ Error in initializeSchema:\", error);\n            throw error;\n        }\n    }\n    async disconnect() {\n        if (this.isConnected) {\n            await this.db.close();\n            this.isConnected = false;\n            console.log(\"\\uD83D\\uDD0C Disconnected from SurrealDB\");\n        }\n    }\n    // User operations\n    async createUser(userData) {\n        var _result_, _result__result, _result_1;\n        await this.connect();\n        // Ensure required fields have default values\n        const defaultUserData = {\n            preferences: {\n                currency: \"₹\",\n                theme: \"light\",\n                notifications: true,\n                defaultPaymentMethod: \"cash\",\n                budgetLimits: [],\n                alertSettings: {\n                    overspendingAlerts: true,\n                    budgetLimitAlerts: true,\n                    savingsGoalAlerts: true,\n                    weeklyInsights: true,\n                    emailNotifications: false,\n                    pushNotifications: true\n                },\n                gamificationEnabled: true,\n                autoBackupEnabled: false,\n                cloudSyncEnabled: false,\n                receiptScanningEnabled: false\n            },\n            profiles: [],\n            activeProfileId: \"\",\n            securitySettings: {\n                pinEnabled: false,\n                biometricEnabled: false,\n                autoLockTimeout: 5,\n                requireAuthForExport: true,\n                requireAuthForSettings: false\n            },\n            achievements: [],\n            streaks: {\n                currentStreak: 0,\n                longestStreak: 0,\n                noSpendDays: 0,\n                totalNoSpendDays: 0,\n                currentNoSpendStreak: 0,\n                longestNoSpendStreak: 0\n            },\n            ...userData\n        };\n        const result = await this.db.query(\"USE NS rupee DB finance; CREATE users CONTENT $userData\", {\n            userData: defaultUserData\n        });\n        const user = ((_result_ = result[1]) === null || _result_ === void 0 ? void 0 : _result_[0]) || ((_result_1 = result[0]) === null || _result_1 === void 0 ? void 0 : (_result__result = _result_1.result) === null || _result__result === void 0 ? void 0 : _result__result[0]);\n        // Return user with ID as string, not record reference\n        if (user && user.id) {\n            if (typeof user.id === \"object\" && user.id.id) {\n                // Handle _RecordId object\n                user.id = user.id.id;\n            } else if (typeof user.id === \"string\" && user.id.includes(\":\")) {\n                // Handle string record reference\n                user.id = user.id.split(\":\")[1] || user.id;\n            }\n        }\n        return user;\n    }\n    async getUser(userId) {\n        var _result_, _result__result, _result_1;\n        await this.connect();\n        const result = await this.db.query(\"USE NS rupee DB finance; SELECT * FROM users WHERE id = $userId\", {\n            userId\n        });\n        return ((_result_ = result[1]) === null || _result_ === void 0 ? void 0 : _result_[0]) || ((_result_1 = result[0]) === null || _result_1 === void 0 ? void 0 : (_result__result = _result_1.result) === null || _result__result === void 0 ? void 0 : _result__result[0]);\n    }\n    async updateUser(userId, userData) {\n        var _result_, _result__result, _result_1;\n        await this.connect();\n        const result = await this.db.query(\"USE NS rupee DB finance; UPDATE users SET * = $userData WHERE id = $userId\", {\n            userId,\n            userData\n        });\n        return ((_result_ = result[1]) === null || _result_ === void 0 ? void 0 : _result_[0]) || ((_result_1 = result[0]) === null || _result_1 === void 0 ? void 0 : (_result__result = _result_1.result) === null || _result__result === void 0 ? void 0 : _result__result[0]);\n    }\n    async deleteUser(userId) {\n        var _result_, _result__result, _result_1;\n        await this.connect();\n        const result = await this.db.query(\"USE NS rupee DB finance; DELETE users WHERE id = $userId\", {\n            userId\n        });\n        return ((_result_ = result[1]) === null || _result_ === void 0 ? void 0 : _result_[0]) || ((_result_1 = result[0]) === null || _result_1 === void 0 ? void 0 : (_result__result = _result_1.result) === null || _result__result === void 0 ? void 0 : _result__result[0]);\n    }\n    async fixUserFields(userId) {\n        var _result_, _result__result, _result_1;\n        await this.connect();\n        // Fix users with NONE values for required fields\n        const result = await this.db.query(\"\\n      USE NS rupee DB finance;\\n      UPDATE users SET \\n        achievements = [] WHERE id = $userId AND achievements = NONE;\\n      UPDATE users SET \\n        streaks = {\\n          currentStreak: 0,\\n          longestStreak: 0,\\n          noSpendDays: 0,\\n          totalNoSpendDays: 0,\\n          currentNoSpendStreak: 0,\\n          longestNoSpendStreak: 0\\n        } WHERE id = $userId AND streaks = NONE;\\n      UPDATE users SET \\n        profiles = [] WHERE id = $userId AND profiles = NONE;\\n      UPDATE users SET \\n        activeProfileId = '' WHERE id = $userId AND activeProfileId = NONE;\\n      UPDATE users SET \\n        securitySettings = {\\n          pinEnabled: false,\\n          biometricEnabled: false,\\n          autoLockTimeout: 5,\\n          requireAuthForExport: true,\\n          requireAuthForSettings: false\\n        } WHERE id = $userId AND securitySettings = NONE;\\n    \", {\n            userId\n        });\n        return ((_result_ = result[1]) === null || _result_ === void 0 ? void 0 : _result_[0]) || ((_result_1 = result[0]) === null || _result_1 === void 0 ? void 0 : (_result__result = _result_1.result) === null || _result__result === void 0 ? void 0 : _result__result[0]);\n    }\n    async fixAllUsers() {\n        var _result_;\n        await this.connect();\n        // Fix all users with NONE values for required fields\n        const result = await this.db.query(\"\\n      USE NS rupee DB finance;\\n      UPDATE users SET \\n        achievements = [] WHERE achievements = NONE;\\n      UPDATE users SET \\n        streaks = {\\n          currentStreak: 0,\\n          longestStreak: 0,\\n          noSpendDays: 0,\\n          totalNoSpendDays: 0,\\n          currentNoSpendStreak: 0,\\n          longestNoSpendStreak: 0\\n        } WHERE streaks = NONE;\\n      UPDATE users SET \\n        profiles = [] WHERE profiles = NONE;\\n      UPDATE users SET \\n        activeProfileId = '' WHERE activeProfileId = NONE;\\n      UPDATE users SET \\n        securitySettings = {\\n          pinEnabled: false,\\n          biometricEnabled: false,\\n          autoLockTimeout: 5,\\n          requireAuthForExport: true,\\n          requireAuthForSettings: false\\n        } WHERE securitySettings = NONE;\\n    \");\n        return result[1] || ((_result_ = result[0]) === null || _result_ === void 0 ? void 0 : _result_.result) || [];\n    }\n    async fixDateFields() {\n        var _result_;\n        await this.connect();\n        // Fix expenses with string dates by converting them to datetime\n        const result = await this.db.query(\"\\n      USE NS rupee DB finance;\\n      UPDATE expenses SET \\n        date = time::parse(date) WHERE type::of(date) = 'string';\\n      UPDATE incomes SET \\n        date = time::parse(date) WHERE type::of(date) = 'string';\\n      UPDATE savings_goals SET \\n        targetDate = time::parse(targetDate) WHERE type::of(targetDate) = 'string';\\n      UPDATE recurring_expenses SET \\n        nextDueDate = time::parse(nextDueDate) WHERE type::of(nextDueDate) = 'string';\\n    \");\n        return result[1] || ((_result_ = result[0]) === null || _result_ === void 0 ? void 0 : _result_.result) || [];\n    }\n    async fixDateFieldsSimple() {\n        await this.connect();\n        // Get all expenses and check if they have string dates\n        const expenses = await this.db.query(\"\\n      USE NS rupee DB finance;\\n      SELECT * FROM expenses;\\n    \");\n        if (expenses[1] && expenses[1].length > 0) {\n            for (const expense of expenses[1]){\n                // Check if the date is a string (not a datetime object)\n                if (typeof expense.date === \"string\" && expense.date.includes(\"T\")) {\n                    try {\n                        await this.db.query(\"\\n              USE NS rupee DB finance;\\n              UPDATE \".concat(expense.id, \" SET date = time::parse('\").concat(expense.date, \"');\\n            \"));\n                    } catch (error) {\n                        console.warn(\"Could not fix date for expense \".concat(expense.id, \":\"), error);\n                    }\n                }\n            }\n        }\n        // Get all incomes and check if they have string dates\n        const incomes = await this.db.query(\"\\n      USE NS rupee DB finance;\\n      SELECT * FROM incomes;\\n    \");\n        if (incomes[1] && incomes[1].length > 0) {\n            for (const income of incomes[1]){\n                // Check if the date is a string (not a datetime object)\n                if (typeof income.date === \"string\" && income.date.includes(\"T\")) {\n                    try {\n                        await this.db.query(\"\\n              USE NS rupee DB finance;\\n              UPDATE \".concat(income.id, \" SET date = time::parse('\").concat(income.date, \"');\\n            \"));\n                    } catch (error) {\n                        console.warn(\"Could not fix date for income \".concat(income.id, \":\"), error);\n                    }\n                }\n            }\n        }\n        return {\n            success: true\n        };\n    }\n    async fixRecordReferences() {\n        await this.connect();\n        // Fix expenses with record references instead of string IDs\n        const expenses = await this.db.query(\"\\n      USE NS rupee DB finance;\\n      SELECT * FROM expenses;\\n    \");\n        if (expenses[1] && expenses[1].length > 0) {\n            for (const expense of expenses[1]){\n                // Check if userId is a record reference or _RecordId object\n                if (expense.userId) {\n                    let userId = expense.userId;\n                    let needsFix = false;\n                    if (typeof expense.userId === \"object\" && expense.userId.id) {\n                        // Handle _RecordId object\n                        userId = expense.userId.id;\n                        needsFix = true;\n                    } else if (typeof expense.userId === \"string\" && expense.userId.includes(\":\")) {\n                        // Handle string record reference\n                        userId = expense.userId.split(\":\")[1];\n                        needsFix = true;\n                    }\n                    if (needsFix) {\n                        try {\n                            await this.db.query(\"\\n                USE NS rupee DB finance;\\n                UPDATE \".concat(expense.id, \" SET userId = '\").concat(userId, \"';\\n              \"));\n                            console.log(\"Fixed userId for expense \".concat(expense.id, \": \").concat(expense.userId, \" -> \").concat(userId));\n                        } catch (error) {\n                            console.warn(\"Could not fix userId for expense \".concat(expense.id, \":\"), error);\n                        }\n                    }\n                }\n                // Also check categoryId if it's a record reference\n                if (expense.categoryId && typeof expense.categoryId === \"string\" && expense.categoryId.includes(\":\")) {\n                    try {\n                        const categoryId = expense.categoryId.split(\":\")[1];\n                        await this.db.query(\"\\n              USE NS rupee DB finance;\\n              UPDATE \".concat(expense.id, \" SET categoryId = '\").concat(categoryId, \"';\\n            \"));\n                        console.log(\"Fixed categoryId for expense \".concat(expense.id, \": \").concat(expense.categoryId, \" -> \").concat(categoryId));\n                    } catch (error) {\n                        console.warn(\"Could not fix categoryId for expense \".concat(expense.id, \":\"), error);\n                    }\n                }\n            }\n        }\n        // Fix incomes with record references instead of string IDs\n        const incomes = await this.db.query(\"\\n      USE NS rupee DB finance;\\n      SELECT * FROM incomes;\\n    \");\n        if (incomes[1] && incomes[1].length > 0) {\n            for (const income of incomes[1]){\n                // Check if userId is a record reference or _RecordId object\n                if (income.userId) {\n                    let userId = income.userId;\n                    let needsFix = false;\n                    if (typeof income.userId === \"object\" && income.userId.id) {\n                        // Handle _RecordId object\n                        userId = income.userId.id;\n                        needsFix = true;\n                    } else if (typeof income.userId === \"string\" && income.userId.includes(\":\")) {\n                        // Handle string record reference\n                        userId = income.userId.split(\":\")[1];\n                        needsFix = true;\n                    }\n                    if (needsFix) {\n                        try {\n                            await this.db.query(\"\\n                USE NS rupee DB finance;\\n                UPDATE \".concat(income.id, \" SET userId = '\").concat(userId, \"';\\n              \"));\n                            console.log(\"Fixed userId for income \".concat(income.id, \": \").concat(income.userId, \" -> \").concat(userId));\n                        } catch (error) {\n                            console.warn(\"Could not fix userId for income \".concat(income.id, \":\"), error);\n                        }\n                    }\n                }\n            }\n        }\n        // Fix categories with record references\n        const categories = await this.db.query(\"\\n      USE NS rupee DB finance;\\n      SELECT * FROM categories;\\n    \");\n        if (categories[1] && categories[1].length > 0) {\n            for (const category of categories[1]){\n                // Check if userId is a record reference (contains ':')\n                if (category.userId && typeof category.userId === \"string\" && category.userId.includes(\":\")) {\n                    try {\n                        const userId = category.userId.split(\":\")[1];\n                        await this.db.query(\"\\n              USE NS rupee DB finance;\\n              UPDATE \".concat(category.id, \" SET userId = '\").concat(userId, \"';\\n            \"));\n                        console.log(\"Fixed userId for category \".concat(category.id, \": \").concat(category.userId, \" -> \").concat(userId));\n                    } catch (error) {\n                        console.warn(\"Could not fix userId for category \".concat(category.id, \":\"), error);\n                    }\n                }\n            }\n        }\n        // Fix other tables with userId references\n        const tables = [\n            \"savings_goals\",\n            \"budget_limits\",\n            \"insights\",\n            \"alerts\",\n            \"recurring_expenses\",\n            \"profiles\",\n            \"achievements\",\n            \"backup_history\"\n        ];\n        for (const table of tables){\n            try {\n                const records = await this.db.query(\"\\n          USE NS rupee DB finance;\\n          SELECT * FROM \".concat(table, \";\\n        \"));\n                if (records[1] && records[1].length > 0) {\n                    for (const record of records[1]){\n                        if (record.userId && typeof record.userId === \"string\" && record.userId.includes(\":\")) {\n                            try {\n                                const userId = record.userId.split(\":\")[1];\n                                await this.db.query(\"\\n                  USE NS rupee DB finance;\\n                  UPDATE \".concat(record.id, \" SET userId = '\").concat(userId, \"';\\n                \"));\n                                console.log(\"Fixed userId for \".concat(table, \" \").concat(record.id, \": \").concat(record.userId, \" -> \").concat(userId));\n                            } catch (error) {\n                                console.warn(\"Could not fix userId for \".concat(table, \" \").concat(record.id, \":\"), error);\n                            }\n                        }\n                    }\n                }\n            } catch (error) {\n                console.warn(\"Could not process table \".concat(table, \":\"), error);\n            }\n        }\n        return {\n            success: true\n        };\n    }\n    // Comprehensive method to fix all record references\n    async fixAllRecordReferences() {\n        await this.connect();\n        try {\n            // Get all expenses and fix any record references\n            const expenses = await this.db.query(\"\\n        USE NS rupee DB finance;\\n        SELECT * FROM expenses;\\n      \");\n            let fixedCount = 0;\n            if (expenses[1] && expenses[1].length > 0) {\n                for (const expense of expenses[1]){\n                    if (expense.userId && typeof expense.userId === \"string\" && expense.userId.includes(\":\")) {\n                        try {\n                            const userId = expense.userId.split(\":\")[1];\n                            await this.db.query(\"\\n                USE NS rupee DB finance;\\n                UPDATE \".concat(expense.id, \" SET userId = '\").concat(userId, \"';\\n              \"));\n                            console.log(\"Fixed userId for expense \".concat(expense.id, \": \").concat(expense.userId, \" -> \").concat(userId));\n                            fixedCount++;\n                        } catch (error) {\n                            console.warn(\"Could not fix userId for expense \".concat(expense.id, \":\"), error);\n                        }\n                    }\n                    if (expense.categoryId && typeof expense.categoryId === \"string\" && expense.categoryId.includes(\":\")) {\n                        try {\n                            const categoryId = expense.categoryId.split(\":\")[1];\n                            await this.db.query(\"\\n                USE NS rupee DB finance;\\n                UPDATE \".concat(expense.id, \" SET categoryId = '\").concat(categoryId, \"';\\n              \"));\n                            console.log(\"Fixed categoryId for expense \".concat(expense.id, \": \").concat(expense.categoryId, \" -> \").concat(categoryId));\n                            fixedCount++;\n                        } catch (error) {\n                            console.warn(\"Could not fix categoryId for expense \".concat(expense.id, \":\"), error);\n                        }\n                    }\n                }\n            }\n            // Get all incomes and fix any record references\n            const incomes = await this.db.query(\"\\n        USE NS rupee DB finance;\\n        SELECT * FROM incomes;\\n      \");\n            if (incomes[1] && incomes[1].length > 0) {\n                for (const income of incomes[1]){\n                    if (income.userId && typeof income.userId === \"string\" && income.userId.includes(\":\")) {\n                        try {\n                            const userId = income.userId.split(\":\")[1];\n                            await this.db.query(\"\\n                USE NS rupee DB finance;\\n                UPDATE \".concat(income.id, \" SET userId = '\").concat(userId, \"';\\n              \"));\n                            console.log(\"Fixed userId for income \".concat(income.id, \": \").concat(income.userId, \" -> \").concat(userId));\n                            fixedCount++;\n                        } catch (error) {\n                            console.warn(\"Could not fix userId for income \".concat(income.id, \":\"), error);\n                        }\n                    }\n                }\n            }\n            console.log(\"Fixed \".concat(fixedCount, \" record references\"));\n            return {\n                success: true,\n                fixedCount\n            };\n        } catch (error) {\n            console.error(\"Error fixing all record references:\", error);\n            return {\n                success: false,\n                error: error.message\n            };\n        }\n    }\n    // New method to fix the specific error mentioned\n    async fixSpecificRecordError() {\n        await this.connect();\n        try {\n            // Find the specific expense mentioned in the error\n            const result = await this.db.query(\"\\n        USE NS rupee DB finance;\\n        SELECT * FROM expenses WHERE id = 'expenses:2dahp1q8e9cer4n5s8ze';\\n      \");\n            if (result[1] && result[1].length > 0) {\n                const expense = result[1][0];\n                if (expense.userId && typeof expense.userId === \"string\" && expense.userId.includes(\":\")) {\n                    const userId = expense.userId.split(\":\")[1];\n                    await this.db.query(\"\\n            USE NS rupee DB finance;\\n            UPDATE expenses:2dahp1q8e9cer4n5s8ze SET userId = '\".concat(userId, \"';\\n          \"));\n                    console.log(\"Fixed specific expense userId: \".concat(expense.userId, \" -> \").concat(userId));\n                    return {\n                        success: true,\n                        fixed: true\n                    };\n                }\n            }\n            // Also check for the new error mentioned\n            const result2 = await this.db.query(\"\\n        USE NS rupee DB finance;\\n        SELECT * FROM expenses WHERE id = 'expenses:ce9obee44h94a18tq6m9';\\n      \");\n            if (result2[1] && result2[1].length > 0) {\n                const expense = result2[1][0];\n                if (expense.userId && typeof expense.userId === \"string\" && expense.userId.includes(\":\")) {\n                    const userId = expense.userId.split(\":\")[1];\n                    await this.db.query(\"\\n            USE NS rupee DB finance;\\n            UPDATE expenses:ce9obee44h94a18tq6m9 SET userId = '\".concat(userId, \"';\\n          \"));\n                    console.log(\"Fixed specific expense userId: \".concat(expense.userId, \" -> \").concat(userId));\n                    return {\n                        success: true,\n                        fixed: true\n                    };\n                }\n            }\n            // Check for the latest error mentioned\n            const result3 = await this.db.query(\"\\n        USE NS rupee DB finance;\\n        SELECT * FROM expenses WHERE id = 'expenses:5t7s208me18ur6hzf4jp';\\n      \");\n            if (result3[1] && result3[1].length > 0) {\n                const expense = result3[1][0];\n                if (expense.userId && typeof expense.userId === \"string\" && expense.userId.includes(\":\")) {\n                    const userId = expense.userId.split(\":\")[1];\n                    await this.db.query(\"\\n            USE NS rupee DB finance;\\n            UPDATE expenses:5t7s208me18ur6hzf4jp SET userId = '\".concat(userId, \"';\\n          \"));\n                    console.log(\"Fixed specific expense userId: \".concat(expense.userId, \" -> \").concat(userId));\n                    return {\n                        success: true,\n                        fixed: true\n                    };\n                }\n            }\n            return {\n                success: true,\n                fixed: false\n            };\n        } catch (error) {\n            console.error(\"Error fixing specific record:\", error);\n            return {\n                success: false,\n                error: error.message\n            };\n        }\n    }\n    // Expense operations\n    async createExpense(expenseData) {\n        var _result_, _result__result, _result_1;\n        await this.connect();\n        // Ensure userId is a string, not a record reference\n        const cleanExpenseData = {\n            ...expenseData\n        };\n        if (cleanExpenseData.userId) {\n            if (typeof cleanExpenseData.userId === \"object\" && cleanExpenseData.userId.id) {\n                // Handle _RecordId object\n                cleanExpenseData.userId = cleanExpenseData.userId.id;\n            } else if (typeof cleanExpenseData.userId === \"string\" && cleanExpenseData.userId.includes(\":\")) {\n                // Handle string record reference\n                cleanExpenseData.userId = cleanExpenseData.userId.split(\":\")[1];\n            }\n        }\n        // Ensure categoryId is a string, not a record reference\n        if (cleanExpenseData.categoryId && typeof cleanExpenseData.categoryId === \"string\" && cleanExpenseData.categoryId.includes(\":\")) {\n            cleanExpenseData.categoryId = cleanExpenseData.categoryId.split(\":\")[1];\n        }\n        const result = await this.db.query(\"USE NS rupee DB finance; CREATE expenses CONTENT $expenseData\", {\n            expenseData: cleanExpenseData\n        });\n        return ((_result_ = result[1]) === null || _result_ === void 0 ? void 0 : _result_[0]) || ((_result_1 = result[0]) === null || _result_1 === void 0 ? void 0 : (_result__result = _result_1.result) === null || _result__result === void 0 ? void 0 : _result__result[0]);\n    }\n    async getExpenses(userId) {\n        var _result_;\n        await this.connect();\n        const result = await this.db.query(\"USE NS rupee DB finance; SELECT * FROM expenses WHERE userId = $userId\", {\n            userId\n        });\n        return result[1] || ((_result_ = result[0]) === null || _result_ === void 0 ? void 0 : _result_.result) || [];\n    }\n    async updateExpense(expenseId, expenseData) {\n        var _result_, _result__result, _result_1;\n        await this.connect();\n        const result = await this.db.query(\"USE NS rupee DB finance; UPDATE expenses SET * = $expenseData WHERE id = $expenseId\", {\n            expenseId,\n            expenseData\n        });\n        return ((_result_ = result[1]) === null || _result_ === void 0 ? void 0 : _result_[0]) || ((_result_1 = result[0]) === null || _result_1 === void 0 ? void 0 : (_result__result = _result_1.result) === null || _result__result === void 0 ? void 0 : _result__result[0]);\n    }\n    async deleteExpense(expenseId) {\n        var _result_, _result__result, _result_1;\n        await this.connect();\n        const result = await this.db.query(\"USE NS rupee DB finance; DELETE expenses WHERE id = $expenseId\", {\n            expenseId\n        });\n        return ((_result_ = result[1]) === null || _result_ === void 0 ? void 0 : _result_[0]) || ((_result_1 = result[0]) === null || _result_1 === void 0 ? void 0 : (_result__result = _result_1.result) === null || _result__result === void 0 ? void 0 : _result__result[0]);\n    }\n    // Income operations\n    async createIncome(incomeData) {\n        var _result_, _result__result, _result_1;\n        await this.connect();\n        // Ensure userId is a string, not a record reference\n        const cleanIncomeData = {\n            ...incomeData\n        };\n        if (cleanIncomeData.userId) {\n            if (typeof cleanIncomeData.userId === \"object\" && cleanIncomeData.userId.id) {\n                // Handle _RecordId object\n                cleanIncomeData.userId = cleanIncomeData.userId.id;\n            } else if (typeof cleanIncomeData.userId === \"string\" && cleanIncomeData.userId.includes(\":\")) {\n                // Handle string record reference\n                cleanIncomeData.userId = cleanIncomeData.userId.split(\":\")[1];\n            }\n        }\n        const result = await this.db.query(\"USE NS rupee DB finance; CREATE incomes CONTENT $incomeData\", {\n            incomeData: cleanIncomeData\n        });\n        return ((_result_ = result[1]) === null || _result_ === void 0 ? void 0 : _result_[0]) || ((_result_1 = result[0]) === null || _result_1 === void 0 ? void 0 : (_result__result = _result_1.result) === null || _result__result === void 0 ? void 0 : _result__result[0]);\n    }\n    async getIncomes(userId) {\n        var _result_;\n        await this.connect();\n        const result = await this.db.query(\"USE NS rupee DB finance; SELECT * FROM incomes WHERE userId = $userId\", {\n            userId\n        });\n        return result[1] || ((_result_ = result[0]) === null || _result_ === void 0 ? void 0 : _result_.result) || [];\n    }\n    async updateIncome(incomeId, incomeData) {\n        var _result_, _result__result, _result_1;\n        await this.connect();\n        const result = await this.db.query(\"USE NS rupee DB finance; UPDATE incomes SET * = $incomeData WHERE id = $incomeId\", {\n            incomeId,\n            incomeData\n        });\n        return ((_result_ = result[1]) === null || _result_ === void 0 ? void 0 : _result_[0]) || ((_result_1 = result[0]) === null || _result_1 === void 0 ? void 0 : (_result__result = _result_1.result) === null || _result__result === void 0 ? void 0 : _result__result[0]);\n    }\n    async deleteIncome(incomeId) {\n        var _result_, _result__result, _result_1;\n        await this.connect();\n        const result = await this.db.query(\"USE NS rupee DB finance; DELETE incomes WHERE id = $incomeId\", {\n            incomeId\n        });\n        return ((_result_ = result[1]) === null || _result_ === void 0 ? void 0 : _result_[0]) || ((_result_1 = result[0]) === null || _result_1 === void 0 ? void 0 : (_result__result = _result_1.result) === null || _result__result === void 0 ? void 0 : _result__result[0]);\n    }\n    // Category operations\n    async createCategory(categoryData) {\n        var _result_, _result__result, _result_1;\n        await this.connect();\n        const result = await this.db.query(\"USE NS rupee DB finance; CREATE categories CONTENT $categoryData\", {\n            categoryData\n        });\n        return ((_result_ = result[1]) === null || _result_ === void 0 ? void 0 : _result_[0]) || ((_result_1 = result[0]) === null || _result_1 === void 0 ? void 0 : (_result__result = _result_1.result) === null || _result__result === void 0 ? void 0 : _result__result[0]);\n    }\n    async getCategories(userId) {\n        var _result_;\n        await this.connect();\n        const result = await this.db.query(\"USE NS rupee DB finance; SELECT * FROM categories WHERE userId = $userId\", {\n            userId\n        });\n        return result[1] || ((_result_ = result[0]) === null || _result_ === void 0 ? void 0 : _result_.result) || [];\n    }\n    async updateCategory(categoryId, categoryData) {\n        var _result_, _result__result, _result_1;\n        await this.connect();\n        const result = await this.db.query(\"USE NS rupee DB finance; UPDATE categories SET * = $categoryData WHERE id = $categoryId\", {\n            categoryId,\n            categoryData\n        });\n        return ((_result_ = result[1]) === null || _result_ === void 0 ? void 0 : _result_[0]) || ((_result_1 = result[0]) === null || _result_1 === void 0 ? void 0 : (_result__result = _result_1.result) === null || _result__result === void 0 ? void 0 : _result__result[0]);\n    }\n    async deleteCategory(categoryId) {\n        var _result_, _result__result, _result_1;\n        await this.connect();\n        const result = await this.db.query(\"USE NS rupee DB finance; DELETE categories WHERE id = $categoryId\", {\n            categoryId\n        });\n        return ((_result_ = result[1]) === null || _result_ === void 0 ? void 0 : _result_[0]) || ((_result_1 = result[0]) === null || _result_1 === void 0 ? void 0 : (_result__result = _result_1.result) === null || _result__result === void 0 ? void 0 : _result__result[0]);\n    }\n    // Savings goals operations\n    async createSavingsGoal(goalData) {\n        var _result_, _result__result, _result_1;\n        await this.connect();\n        const result = await this.db.query(\"USE NS rupee DB finance; CREATE savings_goals CONTENT $goalData\", {\n            goalData\n        });\n        return ((_result_ = result[1]) === null || _result_ === void 0 ? void 0 : _result_[0]) || ((_result_1 = result[0]) === null || _result_1 === void 0 ? void 0 : (_result__result = _result_1.result) === null || _result__result === void 0 ? void 0 : _result__result[0]);\n    }\n    async getSavingsGoals(userId) {\n        var _result_;\n        await this.connect();\n        const result = await this.db.query(\"USE NS rupee DB finance; SELECT * FROM savings_goals WHERE userId = $userId\", {\n            userId\n        });\n        return result[1] || ((_result_ = result[0]) === null || _result_ === void 0 ? void 0 : _result_.result) || [];\n    }\n    async updateSavingsGoal(goalId, goalData) {\n        var _result_, _result__result, _result_1;\n        await this.connect();\n        const result = await this.db.query(\"USE NS rupee DB finance; UPDATE savings_goals SET * = $goalData WHERE id = $goalId\", {\n            goalId,\n            goalData\n        });\n        return ((_result_ = result[1]) === null || _result_ === void 0 ? void 0 : _result_[0]) || ((_result_1 = result[0]) === null || _result_1 === void 0 ? void 0 : (_result__result = _result_1.result) === null || _result__result === void 0 ? void 0 : _result__result[0]);\n    }\n    async deleteSavingsGoal(goalId) {\n        var _result_, _result__result, _result_1;\n        await this.connect();\n        const result = await this.db.query(\"USE NS rupee DB finance; DELETE savings_goals WHERE id = $goalId\", {\n            goalId\n        });\n        return ((_result_ = result[1]) === null || _result_ === void 0 ? void 0 : _result_[0]) || ((_result_1 = result[0]) === null || _result_1 === void 0 ? void 0 : (_result__result = _result_1.result) === null || _result__result === void 0 ? void 0 : _result__result[0]);\n    }\n    // Budget limits operations\n    async createBudgetLimit(limitData) {\n        var _result_, _result__result, _result_1;\n        await this.connect();\n        const result = await this.db.query(\"USE NS rupee DB finance; CREATE budget_limits CONTENT $limitData\", {\n            limitData\n        });\n        return ((_result_ = result[1]) === null || _result_ === void 0 ? void 0 : _result_[0]) || ((_result_1 = result[0]) === null || _result_1 === void 0 ? void 0 : (_result__result = _result_1.result) === null || _result__result === void 0 ? void 0 : _result__result[0]);\n    }\n    async getBudgetLimits(userId) {\n        var _result_;\n        await this.connect();\n        const result = await this.db.query(\"USE NS rupee DB finance; SELECT * FROM budget_limits WHERE userId = $userId\", {\n            userId\n        });\n        return result[1] || ((_result_ = result[0]) === null || _result_ === void 0 ? void 0 : _result_.result) || [];\n    }\n    async updateBudgetLimit(limitId, limitData) {\n        var _result_, _result__result, _result_1;\n        await this.connect();\n        const result = await this.db.query(\"USE NS rupee DB finance; UPDATE budget_limits SET * = $limitData WHERE id = $limitId\", {\n            limitId,\n            limitData\n        });\n        return ((_result_ = result[1]) === null || _result_ === void 0 ? void 0 : _result_[0]) || ((_result_1 = result[0]) === null || _result_1 === void 0 ? void 0 : (_result__result = _result_1.result) === null || _result__result === void 0 ? void 0 : _result__result[0]);\n    }\n    async deleteBudgetLimit(limitId) {\n        var _result_, _result__result, _result_1;\n        await this.connect();\n        const result = await this.db.query(\"USE NS rupee DB finance; DELETE budget_limits WHERE id = $limitId\", {\n            limitId\n        });\n        return ((_result_ = result[1]) === null || _result_ === void 0 ? void 0 : _result_[0]) || ((_result_1 = result[0]) === null || _result_1 === void 0 ? void 0 : (_result__result = _result_1.result) === null || _result__result === void 0 ? void 0 : _result__result[0]);\n    }\n    // Insights operations\n    async createInsight(insightData) {\n        var _result_, _result__result, _result_1;\n        await this.connect();\n        const result = await this.db.query(\"USE NS rupee DB finance; CREATE insights CONTENT $insightData\", {\n            insightData\n        });\n        return ((_result_ = result[1]) === null || _result_ === void 0 ? void 0 : _result_[0]) || ((_result_1 = result[0]) === null || _result_1 === void 0 ? void 0 : (_result__result = _result_1.result) === null || _result__result === void 0 ? void 0 : _result__result[0]);\n    }\n    async getInsights(userId) {\n        var _result_;\n        await this.connect();\n        const result = await this.db.query(\"USE NS rupee DB finance; SELECT * FROM insights WHERE userId = $userId ORDER BY createdAt DESC\", {\n            userId\n        });\n        return result[1] || ((_result_ = result[0]) === null || _result_ === void 0 ? void 0 : _result_.result) || [];\n    }\n    async markInsightAsRead(insightId) {\n        var _result_, _result__result, _result_1;\n        await this.connect();\n        const result = await this.db.query(\"USE NS rupee DB finance; UPDATE insights SET isRead = true WHERE id = $insightId\", {\n            insightId\n        });\n        return ((_result_ = result[1]) === null || _result_ === void 0 ? void 0 : _result_[0]) || ((_result_1 = result[0]) === null || _result_1 === void 0 ? void 0 : (_result__result = _result_1.result) === null || _result__result === void 0 ? void 0 : _result__result[0]);\n    }\n    // Alerts operations\n    async createAlert(alertData) {\n        var _result_, _result__result, _result_1;\n        await this.connect();\n        const result = await this.db.query(\"USE NS rupee DB finance; CREATE alerts CONTENT $alertData\", {\n            alertData\n        });\n        return ((_result_ = result[1]) === null || _result_ === void 0 ? void 0 : _result_[0]) || ((_result_1 = result[0]) === null || _result_1 === void 0 ? void 0 : (_result__result = _result_1.result) === null || _result__result === void 0 ? void 0 : _result__result[0]);\n    }\n    async getAlerts(userId) {\n        var _result_;\n        await this.connect();\n        const result = await this.db.query(\"USE NS rupee DB finance; SELECT * FROM alerts WHERE userId = $userId ORDER BY createdAt DESC\", {\n            userId\n        });\n        return result[1] || ((_result_ = result[0]) === null || _result_ === void 0 ? void 0 : _result_.result) || [];\n    }\n    async markAlertAsRead(alertId) {\n        var _result_, _result__result, _result_1;\n        await this.connect();\n        const result = await this.db.query(\"USE NS rupee DB finance; UPDATE alerts SET isRead = true WHERE id = $alertId\", {\n            alertId\n        });\n        return ((_result_ = result[1]) === null || _result_ === void 0 ? void 0 : _result_[0]) || ((_result_1 = result[0]) === null || _result_1 === void 0 ? void 0 : (_result__result = _result_1.result) === null || _result__result === void 0 ? void 0 : _result__result[0]);\n    }\n    async deleteAlert(alertId) {\n        var _result_, _result__result, _result_1;\n        await this.connect();\n        const result = await this.db.query(\"USE NS rupee DB finance; DELETE alerts WHERE id = $alertId\", {\n            alertId\n        });\n        return ((_result_ = result[1]) === null || _result_ === void 0 ? void 0 : _result_[0]) || ((_result_1 = result[0]) === null || _result_1 === void 0 ? void 0 : (_result__result = _result_1.result) === null || _result__result === void 0 ? void 0 : _result__result[0]);\n    }\n    // Analytics queries\n    async getMonthlyExpenses(userId, year, month) {\n        var _result_;\n        await this.connect();\n        const result = await this.db.query(\"\\n      USE NS rupee DB finance;\\n      SELECT * FROM expenses \\n      WHERE userId = $userId \\n      AND time::year(date) = $year \\n      AND time::month(date) = $month\\n      ORDER BY date DESC\\n    \", {\n            userId,\n            year,\n            month\n        });\n        return result[1] || ((_result_ = result[0]) === null || _result_ === void 0 ? void 0 : _result_.result) || [];\n    }\n    async getExpensesByCategory(userId, startDate, endDate) {\n        var _result_;\n        await this.connect();\n        const result = await this.db.query(\"\\n      USE NS rupee DB finance;\\n      SELECT categoryId, sum(amount) as total \\n      FROM expenses \\n      WHERE userId = $userId \\n      AND date >= $startDate \\n      AND date <= $endDate\\n      GROUP BY categoryId\\n    \", {\n            userId,\n            startDate,\n            endDate\n        });\n        return result[1] || ((_result_ = result[0]) === null || _result_ === void 0 ? void 0 : _result_.result) || [];\n    }\n    async getTotalSavings(userId) {\n        var _result__, _result_, _result__result_, _result__result, _result_1;\n        await this.connect();\n        const result = await this.db.query(\"\\n      USE NS rupee DB finance;\\n      SELECT sum(currentAmount) as total \\n      FROM savings_goals \\n      WHERE userId = $userId\\n    \", {\n            userId\n        });\n        return ((_result_ = result[1]) === null || _result_ === void 0 ? void 0 : (_result__ = _result_[0]) === null || _result__ === void 0 ? void 0 : _result__.total) || ((_result_1 = result[0]) === null || _result_1 === void 0 ? void 0 : (_result__result = _result_1.result) === null || _result__result === void 0 ? void 0 : (_result__result_ = _result__result[0]) === null || _result__result_ === void 0 ? void 0 : _result__result_.total) || 0;\n    }\n    constructor(){\n        this.isConnected = false;\n        this.db = new surrealdb__WEBPACK_IMPORTED_MODULE_0__.Surreal();\n    }\n}\nconst surrealDB = SurrealDBService.getInstance();\n/* harmony default export */ __webpack_exports__[\"default\"] = (surrealDB);\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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O0lBQ25FO0lBaGdDQSxhQUFzQjthQUZkdkksY0FBdUI7UUFHN0IsSUFBSSxDQUFDQyxFQUFFLEdBQUcsSUFBSXJCLDhDQUFPQTtJQUN2QjtBQSsvQkY7QUFFTyxNQUFNNEosWUFBWTVJLGlCQUFpQkMsV0FBVyxHQUFFO0FBQ3ZELCtEQUFlMkksU0FBU0EsRUFBQSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9saWIvc3VycmVhbGRiLnRzPzc5YmQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgU3VycmVhbCB9IGZyb20gJ3N1cnJlYWxkYidcblxuLy8gU3VycmVhbERCIGNvbmZpZ3VyYXRpb25cbmNvbnN0IFNVUlJFQUxfQ09ORklHID0ge1xuICB1cmw6IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NVUlJFQUxfVVJMIHx8ICd3czovL2xvY2FsaG9zdDo4MDAwL3JwYycsXG4gIG5hbWVzcGFjZTogcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfU1VSUkVBTF9OQU1FU1BBQ0UgfHwgJ3J1cGVlJyxcbiAgZGF0YWJhc2U6IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NVUlJFQUxfREFUQUJBU0UgfHwgJ2ZpbmFuY2UnLFxuICAvLyBGb3IgbG9jYWwgZGV2ZWxvcG1lbnRcbiAgdXNlcm5hbWU6IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NVUlJFQUxfVVNFUk5BTUUgfHwgJ3Jvb3QnLFxuICBwYXNzd29yZDogcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfU1VSUkVBTF9QQVNTV09SRCB8fCAncm9vdCcsXG4gIC8vIEZvciBTdXJyZWFsIENsb3VkICh0b2tlbi1iYXNlZCBhdXRoKVxuICB0b2tlbjogcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfU1VSUkVBTF9UT0tFTiB8fCBudWxsLFxufVxuXG5jbGFzcyBTdXJyZWFsREJTZXJ2aWNlIHtcbiAgcHJpdmF0ZSBzdGF0aWMgaW5zdGFuY2U6IFN1cnJlYWxEQlNlcnZpY2VcbiAgcHJpdmF0ZSBkYjogU3VycmVhbFxuICBwcml2YXRlIGlzQ29ubmVjdGVkOiBib29sZWFuID0gZmFsc2VcblxuICBwcml2YXRlIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuZGIgPSBuZXcgU3VycmVhbCgpXG4gIH1cblxuICBzdGF0aWMgZ2V0SW5zdGFuY2UoKTogU3VycmVhbERCU2VydmljZSB7XG4gICAgaWYgKCFTdXJyZWFsREJTZXJ2aWNlLmluc3RhbmNlKSB7XG4gICAgICBTdXJyZWFsREJTZXJ2aWNlLmluc3RhbmNlID0gbmV3IFN1cnJlYWxEQlNlcnZpY2UoKVxuICAgIH1cbiAgICByZXR1cm4gU3VycmVhbERCU2VydmljZS5pbnN0YW5jZVxuICB9XG5cbiAgYXN5bmMgY29ubmVjdCgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBpZiAodGhpcy5pc0Nvbm5lY3RlZCkgcmV0dXJuXG5cbiAgICB0cnkge1xuICAgICAgYXdhaXQgdGhpcy5kYi5jb25uZWN0KFNVUlJFQUxfQ09ORklHLnVybClcbiAgICAgIFxuICAgICAgLy8gQXV0aGVudGljYXRlIGJhc2VkIG9uIGVudmlyb25tZW50IChDbG91ZCB2cyBMb2NhbClcbiAgICAgIGlmIChTVVJSRUFMX0NPTkZJRy50b2tlbikge1xuICAgICAgICAvLyBTdXJyZWFsIENsb3VkOiBVc2UgdG9rZW4gYXV0aGVudGljYXRpb25cbiAgICAgICAgYXdhaXQgdGhpcy5kYi5hdXRoZW50aWNhdGUoU1VSUkVBTF9DT05GSUcudG9rZW4pXG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBMb2NhbCBkZXZlbG9wbWVudDogVXNlIHVzZXJuYW1lL3Bhc3N3b3JkXG4gICAgICAgIGF3YWl0IHRoaXMuZGIuc2lnbmluKHtcbiAgICAgICAgICB1c2VybmFtZTogU1VSUkVBTF9DT05GSUcudXNlcm5hbWUsXG4gICAgICAgICAgcGFzc3dvcmQ6IFNVUlJFQUxfQ09ORklHLnBhc3N3b3JkLFxuICAgICAgICB9KVxuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBVc2UgdGhlIG5hbWVzcGFjZSBhbmQgZGF0YWJhc2UgKGNyZWF0ZSBpZiB0aGV5IGRvbid0IGV4aXN0KVxuICAgICAgYXdhaXQgdGhpcy5kYi51c2Uoe1xuICAgICAgICBuczogU1VSUkVBTF9DT05GSUcubmFtZXNwYWNlLFxuICAgICAgICBkYjogU1VSUkVBTF9DT05GSUcuZGF0YWJhc2UsXG4gICAgICB9KVxuICAgICAgXG4gICAgICB0aGlzLmlzQ29ubmVjdGVkID0gdHJ1ZVxuICAgICAgY29uc29sZS5sb2coJ+KchSBDb25uZWN0ZWQgdG8gU3VycmVhbERCJylcbiAgICAgIFxuICAgICAgLy8gSW5pdGlhbGl6ZSBkYXRhYmFzZSBzY2hlbWFcbiAgICAgIGF3YWl0IHRoaXMuaW5pdGlhbGl6ZVNjaGVtYSgpXG4gICAgICBcbiAgICAgIC8vIEZpeCBhbnkgZXhpc3RpbmcgdXNlcnMgd2l0aCBOT05FIHZhbHVlc1xuICAgICAgdHJ5IHtcbiAgICAgICAgYXdhaXQgdGhpcy5maXhBbGxVc2VycygpXG4gICAgICAgIGNvbnNvbGUubG9nKCfinIUgRml4ZWQgZXhpc3RpbmcgdXNlcnMgd2l0aCBOT05FIHZhbHVlcycpXG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLndhcm4oJ+KaoO+4jyBDb3VsZCBub3QgZml4IGV4aXN0aW5nIHVzZXJzOicsIGVycm9yKVxuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBGaXggYW55IGV4aXN0aW5nIHJlY29yZHMgd2l0aCBzdHJpbmcgZGF0ZXNcbiAgICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IHRoaXMuZml4RGF0ZUZpZWxkc1NpbXBsZSgpXG4gICAgICAgIGNvbnNvbGUubG9nKCfinIUgRml4ZWQgZXhpc3RpbmcgcmVjb3JkcyB3aXRoIHN0cmluZyBkYXRlcycpXG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLndhcm4oJ+KaoO+4jyBDb3VsZCBub3QgZml4IGV4aXN0aW5nIGRhdGUgZmllbGRzOicsIGVycm9yKVxuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBGaXggYW55IGV4aXN0aW5nIHJlY29yZHMgd2l0aCByZWNvcmQgcmVmZXJlbmNlcyBpbnN0ZWFkIG9mIHN0cmluZyBJRHNcbiAgICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IHRoaXMuZml4UmVjb3JkUmVmZXJlbmNlcygpXG4gICAgICAgIGNvbnNvbGUubG9nKCfinIUgRml4ZWQgZXhpc3RpbmcgcmVjb3JkcyB3aXRoIHJlY29yZCByZWZlcmVuY2VzJylcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUud2Fybign4pqg77iPIENvdWxkIG5vdCBmaXggZXhpc3RpbmcgcmVjb3JkIHJlZmVyZW5jZXM6JywgZXJyb3IpXG4gICAgICB9XG4gICAgICBcbiAgICAgICAgLy8gRml4IHRoZSBzcGVjaWZpYyBlcnJvciBtZW50aW9uZWQgaW4gdGhlIHVzZXIgcXVlcnlcbiAgdHJ5IHtcbiAgICBhd2FpdCB0aGlzLmZpeFNwZWNpZmljUmVjb3JkRXJyb3IoKVxuICAgIGNvbnNvbGUubG9nKCfinIUgRml4ZWQgc3BlY2lmaWMgcmVjb3JkIGVycm9yJylcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLndhcm4oJ+KaoO+4jyBDb3VsZCBub3QgZml4IHNwZWNpZmljIHJlY29yZCBlcnJvcjonLCBlcnJvcilcbiAgfVxuICBcbiAgLy8gQWRkaXRpb25hbCBjb21wcmVoZW5zaXZlIGZpeCBmb3IgYW55IHJlbWFpbmluZyByZWNvcmQgcmVmZXJlbmNlc1xuICB0cnkge1xuICAgIGF3YWl0IHRoaXMuZml4QWxsUmVjb3JkUmVmZXJlbmNlcygpXG4gICAgY29uc29sZS5sb2coJ+KchSBGaXhlZCBhbGwgcmVtYWluaW5nIHJlY29yZCByZWZlcmVuY2VzJylcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLndhcm4oJ+KaoO+4jyBDb3VsZCBub3QgZml4IGFsbCByZWNvcmQgcmVmZXJlbmNlczonLCBlcnJvcilcbiAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCfinYwgRmFpbGVkIHRvIGNvbm5lY3QgdG8gU3VycmVhbERCOicsIGVycm9yKVxuICAgICAgdGhyb3cgZXJyb3JcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIGluaXRpYWxpemVTY2hlbWEoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnNvbGUubG9nKCfwn5SNIEluaXRpYWxpemluZyBzY2hlbWEuLi4nKVxuICAgICAgLy8gV3JhcCBpbiB0cnktY2F0Y2ggdG8gaGFuZGxlIFwidGFibGUgYWxyZWFkeSBleGlzdHNcIiBlcnJvcnMgZ3JhY2VmdWxseVxuICAgICAgdHJ5IHtcbiAgICAgICAgYXdhaXQgdGhpcy5kYi5xdWVyeShgXG4gICAgICAgICAgVVNFIE5TIHJ1cGVlIERCIGZpbmFuY2U7XG4gICAgICAgICAgXG4gICAgICAgICAgLS0gVXNlcnMgdGFibGVcbiAgICAgICAgICBERUZJTkUgVEFCTEUgdXNlcnMgU0NIRU1BRlVMTDtcbiAgICAgICAgICBERUZJTkUgRklFTEQgZW1haWwgT04gdXNlcnMgVFlQRSBzdHJpbmcgQVNTRVJUICR2YWx1ZSAhPSBOT05FO1xuICAgICAgICAgIERFRklORSBGSUVMRCBuYW1lIE9OIHVzZXJzIFRZUEUgc3RyaW5nO1xuICAgICAgICAgIERFRklORSBGSUVMRCBwcmVmZXJlbmNlcyBPTiB1c2VycyBUWVBFIG9iamVjdCBERUZBVUxUIHtcbiAgICAgICAgICAgIGN1cnJlbmN5OiAn4oK5JyxcbiAgICAgICAgICAgIHRoZW1lOiAnbGlnaHQnLFxuICAgICAgICAgICAgbm90aWZpY2F0aW9uczogdHJ1ZSxcbiAgICAgICAgICAgIGRlZmF1bHRQYXltZW50TWV0aG9kOiAnY2FzaCcsXG4gICAgICAgICAgICBidWRnZXRMaW1pdHM6IFtdLFxuICAgICAgICAgICAgYWxlcnRTZXR0aW5nczoge1xuICAgICAgICAgICAgICBvdmVyc3BlbmRpbmdBbGVydHM6IHRydWUsXG4gICAgICAgICAgICAgIGJ1ZGdldExpbWl0QWxlcnRzOiB0cnVlLFxuICAgICAgICAgICAgICBzYXZpbmdzR29hbEFsZXJ0czogdHJ1ZSxcbiAgICAgICAgICAgICAgd2Vla2x5SW5zaWdodHM6IHRydWUsXG4gICAgICAgICAgICAgIGVtYWlsTm90aWZpY2F0aW9uczogZmFsc2UsXG4gICAgICAgICAgICAgIHB1c2hOb3RpZmljYXRpb25zOiB0cnVlXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2FtaWZpY2F0aW9uRW5hYmxlZDogdHJ1ZSxcbiAgICAgICAgICAgIGF1dG9CYWNrdXBFbmFibGVkOiBmYWxzZSxcbiAgICAgICAgICAgIGNsb3VkU3luY0VuYWJsZWQ6IGZhbHNlLFxuICAgICAgICAgICAgcmVjZWlwdFNjYW5uaW5nRW5hYmxlZDogZmFsc2VcbiAgICAgICAgICB9O1xuICAgICAgICAgIERFRklORSBGSUVMRCBwcm9maWxlcyBPTiB1c2VycyBUWVBFIGFycmF5IERFRkFVTFQgW107XG4gICAgICAgICAgREVGSU5FIEZJRUxEIGFjdGl2ZVByb2ZpbGVJZCBPTiB1c2VycyBUWVBFIHN0cmluZyBERUZBVUxUICcnO1xuICAgICAgICAgIERFRklORSBGSUVMRCBzZWN1cml0eVNldHRpbmdzIE9OIHVzZXJzIFRZUEUgb2JqZWN0IERFRkFVTFQge1xuICAgICAgICAgICAgcGluRW5hYmxlZDogZmFsc2UsXG4gICAgICAgICAgICBiaW9tZXRyaWNFbmFibGVkOiBmYWxzZSxcbiAgICAgICAgICAgIGF1dG9Mb2NrVGltZW91dDogNSxcbiAgICAgICAgICAgIHJlcXVpcmVBdXRoRm9yRXhwb3J0OiB0cnVlLFxuICAgICAgICAgICAgcmVxdWlyZUF1dGhGb3JTZXR0aW5nczogZmFsc2VcbiAgICAgICAgICB9O1xuICAgICAgICAgIERFRklORSBGSUVMRCBhY2hpZXZlbWVudHMgT04gdXNlcnMgVFlQRSBhcnJheSBERUZBVUxUIFtdO1xuICAgICAgICAgIERFRklORSBGSUVMRCBzdHJlYWtzIE9OIHVzZXJzIFRZUEUgb2JqZWN0IERFRkFVTFQge1xuICAgICAgICAgICAgY3VycmVudFN0cmVhazogMCxcbiAgICAgICAgICAgIGxvbmdlc3RTdHJlYWs6IDAsXG4gICAgICAgICAgICBub1NwZW5kRGF5czogMCxcbiAgICAgICAgICAgIHRvdGFsTm9TcGVuZERheXM6IDAsXG4gICAgICAgICAgICBjdXJyZW50Tm9TcGVuZFN0cmVhazogMCxcbiAgICAgICAgICAgIGxvbmdlc3ROb1NwZW5kU3RyZWFrOiAwXG4gICAgICAgICAgfTtcbiAgICAgICAgICBERUZJTkUgRklFTEQgY3JlYXRlZEF0IE9OIHVzZXJzIFRZUEUgZGF0ZXRpbWUgREVGQVVMVCB0aW1lOjpub3coKTtcbiAgICAgICAgICBERUZJTkUgRklFTEQgdXBkYXRlZEF0IE9OIHVzZXJzIFRZUEUgZGF0ZXRpbWUgREVGQVVMVCB0aW1lOjpub3coKTtcbiAgICAgICAgICBcbiAgICAgICAgICAtLSBFeHBlbnNlcyB0YWJsZVxuICAgICAgICAgIERFRklORSBUQUJMRSBleHBlbnNlcyBTQ0hFTUFGVUxMO1xuICAgICAgICAgIERFRklORSBGSUVMRCB1c2VySWQgT04gZXhwZW5zZXMgVFlQRSBzdHJpbmc7XG4gICAgICAgICAgREVGSU5FIEZJRUxEIGFtb3VudCBPTiBleHBlbnNlcyBUWVBFIG51bWJlcjtcbiAgICAgICAgICBERUZJTkUgRklFTEQgZGVzY3JpcHRpb24gT04gZXhwZW5zZXMgVFlQRSBzdHJpbmc7XG4gICAgICAgICAgREVGSU5FIEZJRUxEIGNhdGVnb3J5SWQgT04gZXhwZW5zZXMgVFlQRSBzdHJpbmc7XG4gICAgICAgICAgREVGSU5FIEZJRUxEIGRhdGUgT04gZXhwZW5zZXMgVFlQRSBkYXRldGltZTtcbiAgICAgICAgICBERUZJTkUgRklFTEQgcGF5bWVudE1ldGhvZCBPTiBleHBlbnNlcyBUWVBFIHN0cmluZztcbiAgICAgICAgICBERUZJTkUgRklFTEQgY3JlYXRlZEF0IE9OIGV4cGVuc2VzIFRZUEUgZGF0ZXRpbWUgREVGQVVMVCB0aW1lOjpub3coKTtcbiAgICAgICAgICBERUZJTkUgRklFTEQgdXBkYXRlZEF0IE9OIGV4cGVuc2VzIFRZUEUgZGF0ZXRpbWUgREVGQVVMVCB0aW1lOjpub3coKTtcbiAgICAgICAgICBcbiAgICAgICAgICAtLSBJbmNvbWVzIHRhYmxlXG4gICAgICAgICAgREVGSU5FIFRBQkxFIGluY29tZXMgU0NIRU1BRlVMTDtcbiAgICAgICAgICBERUZJTkUgRklFTEQgdXNlcklkIE9OIGluY29tZXMgVFlQRSBzdHJpbmc7XG4gICAgICAgICAgREVGSU5FIEZJRUxEIGFtb3VudCBPTiBpbmNvbWVzIFRZUEUgbnVtYmVyO1xuICAgICAgICAgIERFRklORSBGSUVMRCBzb3VyY2UgT04gaW5jb21lcyBUWVBFIHN0cmluZztcbiAgICAgICAgICBERUZJTkUgRklFTEQgZGF0ZSBPTiBpbmNvbWVzIFRZUEUgZGF0ZXRpbWU7XG4gICAgICAgICAgREVGSU5FIEZJRUxEIGNyZWF0ZWRBdCBPTiBpbmNvbWVzIFRZUEUgZGF0ZXRpbWUgREVGQVVMVCB0aW1lOjpub3coKTtcbiAgICAgICAgICBERUZJTkUgRklFTEQgdXBkYXRlZEF0IE9OIGluY29tZXMgVFlQRSBkYXRldGltZSBERUZBVUxUIHRpbWU6Om5vdygpO1xuICAgICAgICAgIFxuICAgICAgICAgIC0tIENhdGVnb3JpZXMgdGFibGVcbiAgICAgICAgICBERUZJTkUgVEFCTEUgY2F0ZWdvcmllcyBTQ0hFTUFGVUxMO1xuICAgICAgICAgIERFRklORSBGSUVMRCB1c2VySWQgT04gY2F0ZWdvcmllcyBUWVBFIHN0cmluZztcbiAgICAgICAgICBERUZJTkUgRklFTEQgbmFtZSBPTiBjYXRlZ29yaWVzIFRZUEUgc3RyaW5nO1xuICAgICAgICAgIERFRklORSBGSUVMRCBjb2xvciBPTiBjYXRlZ29yaWVzIFRZUEUgc3RyaW5nO1xuICAgICAgICAgIERFRklORSBGSUVMRCBpY29uIE9OIGNhdGVnb3JpZXMgVFlQRSBzdHJpbmc7XG4gICAgICAgICAgREVGSU5FIEZJRUxEIGlzQ3VzdG9tIE9OIGNhdGVnb3JpZXMgVFlQRSBib29sIERFRkFVTFQgdHJ1ZTtcbiAgICAgICAgICBERUZJTkUgRklFTEQgY3JlYXRlZEF0IE9OIGNhdGVnb3JpZXMgVFlQRSBkYXRldGltZSBERUZBVUxUIHRpbWU6Om5vdygpO1xuICAgICAgICAgIERFRklORSBGSUVMRCB1cGRhdGVkQXQgT04gY2F0ZWdvcmllcyBUWVBFIGRhdGV0aW1lIERFRkFVTFQgdGltZTo6bm93KCk7XG4gICAgICAgICAgXG4gICAgICAgICAgLS0gU2F2aW5ncyBnb2FscyB0YWJsZVxuICAgICAgICAgIERFRklORSBUQUJMRSBzYXZpbmdzX2dvYWxzIFNDSEVNQUZVTEw7XG4gICAgICAgICAgREVGSU5FIEZJRUxEIHVzZXJJZCBPTiBzYXZpbmdzX2dvYWxzIFRZUEUgc3RyaW5nO1xuICAgICAgICAgIERFRklORSBGSUVMRCBuYW1lIE9OIHNhdmluZ3NfZ29hbHMgVFlQRSBzdHJpbmc7XG4gICAgICAgICAgREVGSU5FIEZJRUxEIHRhcmdldEFtb3VudCBPTiBzYXZpbmdzX2dvYWxzIFRZUEUgbnVtYmVyO1xuICAgICAgICAgIERFRklORSBGSUVMRCBjdXJyZW50QW1vdW50IE9OIHNhdmluZ3NfZ29hbHMgVFlQRSBudW1iZXIgREVGQVVMVCAwO1xuICAgICAgICAgIERFRklORSBGSUVMRCB0YXJnZXREYXRlIE9OIHNhdmluZ3NfZ29hbHMgVFlQRSBkYXRldGltZTtcbiAgICAgICAgICBERUZJTkUgRklFTEQgY3JlYXRlZEF0IE9OIHNhdmluZ3NfZ29hbHMgVFlQRSBkYXRldGltZSBERUZBVUxUIHRpbWU6Om5vdygpO1xuICAgICAgICAgIERFRklORSBGSUVMRCB1cGRhdGVkQXQgT04gc2F2aW5nc19nb2FscyBUWVBFIGRhdGV0aW1lIERFRkFVTFQgdGltZTo6bm93KCk7XG4gICAgICAgICAgXG4gICAgICAgICAgLS0gQnVkZ2V0IGxpbWl0cyB0YWJsZVxuICAgICAgICAgIERFRklORSBUQUJMRSBidWRnZXRfbGltaXRzIFNDSEVNQUZVTEw7XG4gICAgICAgICAgREVGSU5FIEZJRUxEIHVzZXJJZCBPTiBidWRnZXRfbGltaXRzIFRZUEUgc3RyaW5nO1xuICAgICAgICAgIERFRklORSBGSUVMRCBjYXRlZ29yeUlkIE9OIGJ1ZGdldF9saW1pdHMgVFlQRSBzdHJpbmc7XG4gICAgICAgICAgREVGSU5FIEZJRUxEIGFtb3VudCBPTiBidWRnZXRfbGltaXRzIFRZUEUgbnVtYmVyO1xuICAgICAgICAgIERFRklORSBGSUVMRCBwZXJpb2QgT04gYnVkZ2V0X2xpbWl0cyBUWVBFIHN0cmluZztcbiAgICAgICAgICBERUZJTkUgRklFTEQgaXNBY3RpdmUgT04gYnVkZ2V0X2xpbWl0cyBUWVBFIGJvb2wgREVGQVVMVCB0cnVlO1xuICAgICAgICAgIERFRklORSBGSUVMRCBjcmVhdGVkQXQgT04gYnVkZ2V0X2xpbWl0cyBUWVBFIGRhdGV0aW1lIERFRkFVTFQgdGltZTo6bm93KCk7XG4gICAgICAgICAgREVGSU5FIEZJRUxEIHVwZGF0ZWRBdCBPTiBidWRnZXRfbGltaXRzIFRZUEUgZGF0ZXRpbWUgREVGQVVMVCB0aW1lOjpub3coKTtcbiAgICAgICAgICBcbiAgICAgICAgICAtLSBJbnNpZ2h0cyB0YWJsZVxuICAgICAgICAgIERFRklORSBUQUJMRSBpbnNpZ2h0cyBTQ0hFTUFGVUxMO1xuICAgICAgICAgIERFRklORSBGSUVMRCB1c2VySWQgT04gaW5zaWdodHMgVFlQRSBzdHJpbmc7XG4gICAgICAgICAgREVGSU5FIEZJRUxEIHR5cGUgT04gaW5zaWdodHMgVFlQRSBzdHJpbmc7XG4gICAgICAgICAgREVGSU5FIEZJRUxEIHRpdGxlIE9OIGluc2lnaHRzIFRZUEUgc3RyaW5nO1xuICAgICAgICAgIERFRklORSBGSUVMRCBkZXNjcmlwdGlvbiBPTiBpbnNpZ2h0cyBUWVBFIHN0cmluZztcbiAgICAgICAgICBERUZJTkUgRklFTEQgZGF0YSBPTiBpbnNpZ2h0cyBUWVBFIG9iamVjdDtcbiAgICAgICAgICBERUZJTkUgRklFTEQgaXNSZWFkIE9OIGluc2lnaHRzIFRZUEUgYm9vbCBERUZBVUxUIGZhbHNlO1xuICAgICAgICAgIERFRklORSBGSUVMRCBjcmVhdGVkQXQgT04gaW5zaWdodHMgVFlQRSBkYXRldGltZSBERUZBVUxUIHRpbWU6Om5vdygpO1xuICAgICAgICAgIFxuICAgICAgICAgIC0tIEFsZXJ0cyB0YWJsZVxuICAgICAgICAgIERFRklORSBUQUJMRSBhbGVydHMgU0NIRU1BRlVMTDtcbiAgICAgICAgICBERUZJTkUgRklFTEQgdXNlcklkIE9OIGFsZXJ0cyBUWVBFIHN0cmluZztcbiAgICAgICAgICBERUZJTkUgRklFTEQgdHlwZSBPTiBhbGVydHMgVFlQRSBzdHJpbmc7XG4gICAgICAgICAgREVGSU5FIEZJRUxEIHRpdGxlIE9OIGFsZXJ0cyBUWVBFIHN0cmluZztcbiAgICAgICAgICBERUZJTkUgRklFTEQgbWVzc2FnZSBPTiBhbGVydHMgVFlQRSBzdHJpbmc7XG4gICAgICAgICAgREVGSU5FIEZJRUxEIHNldmVyaXR5IE9OIGFsZXJ0cyBUWVBFIHN0cmluZztcbiAgICAgICAgICBERUZJTkUgRklFTEQgaXNSZWFkIE9OIGFsZXJ0cyBUWVBFIGJvb2wgREVGQVVMVCBmYWxzZTtcbiAgICAgICAgICBERUZJTkUgRklFTEQgY3JlYXRlZEF0IE9OIGFsZXJ0cyBUWVBFIGRhdGV0aW1lIERFRkFVTFQgdGltZTo6bm93KCk7XG4gICAgICAgICAgXG4gICAgICAgICAgLS0gUmVjdXJyaW5nIGV4cGVuc2VzIHRhYmxlXG4gICAgICAgICAgREVGSU5FIFRBQkxFIHJlY3VycmluZ19leHBlbnNlcyBTQ0hFTUFGVUxMO1xuICAgICAgICAgIERFRklORSBGSUVMRCB1c2VySWQgT04gcmVjdXJyaW5nX2V4cGVuc2VzIFRZUEUgc3RyaW5nO1xuICAgICAgICAgIERFRklORSBGSUVMRCBhbW91bnQgT04gcmVjdXJyaW5nX2V4cGVuc2VzIFRZUEUgbnVtYmVyO1xuICAgICAgICAgIERFRklORSBGSUVMRCBkZXNjcmlwdGlvbiBPTiByZWN1cnJpbmdfZXhwZW5zZXMgVFlQRSBzdHJpbmc7XG4gICAgICAgICAgREVGSU5FIEZJRUxEIGNhdGVnb3J5SWQgT04gcmVjdXJyaW5nX2V4cGVuc2VzIFRZUEUgc3RyaW5nO1xuICAgICAgICAgIERFRklORSBGSUVMRCBmcmVxdWVuY3kgT04gcmVjdXJyaW5nX2V4cGVuc2VzIFRZUEUgc3RyaW5nO1xuICAgICAgICAgIERFRklORSBGSUVMRCBuZXh0RHVlRGF0ZSBPTiByZWN1cnJpbmdfZXhwZW5zZXMgVFlQRSBkYXRldGltZTtcbiAgICAgICAgICBERUZJTkUgRklFTEQgaXNBY3RpdmUgT04gcmVjdXJyaW5nX2V4cGVuc2VzIFRZUEUgYm9vbCBERUZBVUxUIHRydWU7XG4gICAgICAgICAgREVGSU5FIEZJRUxEIGNyZWF0ZWRBdCBPTiByZWN1cnJpbmdfZXhwZW5zZXMgVFlQRSBkYXRldGltZSBERUZBVUxUIHRpbWU6Om5vdygpO1xuICAgICAgICAgIERFRklORSBGSUVMRCB1cGRhdGVkQXQgT04gcmVjdXJyaW5nX2V4cGVuc2VzIFRZUEUgZGF0ZXRpbWUgREVGQVVMVCB0aW1lOjpub3coKTtcbiAgICAgICAgICBcbiAgICAgICAgICAtLSBQcm9maWxlcyB0YWJsZVxuICAgICAgICAgIERFRklORSBUQUJMRSBwcm9maWxlcyBTQ0hFTUFGVUxMO1xuICAgICAgICAgIERFRklORSBGSUVMRCB1c2VySWQgT04gcHJvZmlsZXMgVFlQRSBzdHJpbmc7XG4gICAgICAgICAgREVGSU5FIEZJRUxEIG5hbWUgT04gcHJvZmlsZXMgVFlQRSBzdHJpbmc7XG4gICAgICAgICAgREVGSU5FIEZJRUxEIHJvbGUgT04gcHJvZmlsZXMgVFlQRSBzdHJpbmc7XG4gICAgICAgICAgREVGSU5FIEZJRUxEIHBlcm1pc3Npb25zIE9OIHByb2ZpbGVzIFRZUEUgb2JqZWN0O1xuICAgICAgICAgIERFRklORSBGSUVMRCBjcmVhdGVkQXQgT04gcHJvZmlsZXMgVFlQRSBkYXRldGltZSBERUZBVUxUIHRpbWU6Om5vdygpO1xuICAgICAgICAgIERFRklORSBGSUVMRCB1cGRhdGVkQXQgT04gcHJvZmlsZXMgVFlQRSBkYXRldGltZSBERUZBVUxUIHRpbWU6Om5vdygpO1xuICAgICAgICAgIFxuICAgICAgICAgIC0tIEFjaGlldmVtZW50cyB0YWJsZVxuICAgICAgICAgIERFRklORSBUQUJMRSBhY2hpZXZlbWVudHMgU0NIRU1BRlVMTDtcbiAgICAgICAgICBERUZJTkUgRklFTEQgdXNlcklkIE9OIGFjaGlldmVtZW50cyBUWVBFIHN0cmluZztcbiAgICAgICAgICBERUZJTkUgRklFTEQgbmFtZSBPTiBhY2hpZXZlbWVudHMgVFlQRSBzdHJpbmc7XG4gICAgICAgICAgREVGSU5FIEZJRUxEIGRlc2NyaXB0aW9uIE9OIGFjaGlldmVtZW50cyBUWVBFIHN0cmluZztcbiAgICAgICAgICBERUZJTkUgRklFTEQgaWNvbiBPTiBhY2hpZXZlbWVudHMgVFlQRSBzdHJpbmc7XG4gICAgICAgICAgREVGSU5FIEZJRUxEIHByb2dyZXNzIE9OIGFjaGlldmVtZW50cyBUWVBFIG51bWJlciBERUZBVUxUIDA7XG4gICAgICAgICAgREVGSU5FIEZJRUxEIG1heFByb2dyZXNzIE9OIGFjaGlldmVtZW50cyBUWVBFIG51bWJlcjtcbiAgICAgICAgICBERUZJTkUgRklFTEQgaXNVbmxvY2tlZCBPTiBhY2hpZXZlbWVudHMgVFlQRSBib29sIERFRkFVTFQgZmFsc2U7XG4gICAgICAgICAgREVGSU5FIEZJRUxEIHVubG9ja2VkQXQgT04gYWNoaWV2ZW1lbnRzIFRZUEUgZGF0ZXRpbWU7XG4gICAgICAgICAgREVGSU5FIEZJRUxEIGNyZWF0ZWRBdCBPTiBhY2hpZXZlbWVudHMgVFlQRSBkYXRldGltZSBERUZBVUxUIHRpbWU6Om5vdygpO1xuICAgICAgICAgIFxuICAgICAgICAgIC0tIEJhY2t1cCBoaXN0b3J5IHRhYmxlXG4gICAgICAgICAgREVGSU5FIFRBQkxFIGJhY2t1cF9oaXN0b3J5IFNDSEVNQUZVTEw7XG4gICAgICAgICAgREVGSU5FIEZJRUxEIHVzZXJJZCBPTiBiYWNrdXBfaGlzdG9yeSBUWVBFIHN0cmluZztcbiAgICAgICAgICBERUZJTkUgRklFTEQgdHlwZSBPTiBiYWNrdXBfaGlzdG9yeSBUWVBFIHN0cmluZztcbiAgICAgICAgICBERUZJTkUgRklFTEQgc3RhdHVzIE9OIGJhY2t1cF9oaXN0b3J5IFRZUEUgc3RyaW5nO1xuICAgICAgICAgIERFRklORSBGSUVMRCBmaWxlU2l6ZSBPTiBiYWNrdXBfaGlzdG9yeSBUWVBFIG51bWJlcjtcbiAgICAgICAgICBERUZJTkUgRklFTEQgY3JlYXRlZEF0IE9OIGJhY2t1cF9oaXN0b3J5IFRZUEUgZGF0ZXRpbWUgREVGQVVMVCB0aW1lOjpub3coKTtcbiAgICAgICAgYClcbiAgICAgICAgY29uc29sZS5sb2coJ+KchSBEYXRhYmFzZSBzY2hlbWEgaW5pdGlhbGl6ZWQnKVxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgLy8gSGFuZGxlIFwidGFibGUgYWxyZWFkeSBleGlzdHNcIiBlcnJvciBncmFjZWZ1bGx5XG4gICAgICAgIGlmIChlcnJvci5tZXNzYWdlICYmIGVycm9yLm1lc3NhZ2UuaW5jbHVkZXMoJ2FscmVhZHkgZXhpc3RzJykpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZygn4oS577iPIFNjaGVtYSBhbHJlYWR5IGV4aXN0cywgc2tpcHBpbmcgaW5pdGlhbGl6YXRpb24nKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBGYWlsZWQgdG8gaW5pdGlhbGl6ZSBzY2hlbWE6JywgZXJyb3IpXG4gICAgICAgICAgdGhyb3cgZXJyb3JcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCfinYwgRXJyb3IgaW4gaW5pdGlhbGl6ZVNjaGVtYTonLCBlcnJvcilcbiAgICAgIHRocm93IGVycm9yXG4gICAgfVxuICB9XG5cbiAgYXN5bmMgZGlzY29ubmVjdCgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBpZiAodGhpcy5pc0Nvbm5lY3RlZCkge1xuICAgICAgYXdhaXQgdGhpcy5kYi5jbG9zZSgpXG4gICAgICB0aGlzLmlzQ29ubmVjdGVkID0gZmFsc2VcbiAgICAgIGNvbnNvbGUubG9nKCfwn5SMIERpc2Nvbm5lY3RlZCBmcm9tIFN1cnJlYWxEQicpXG4gICAgfVxuICB9XG5cbiAgLy8gVXNlciBvcGVyYXRpb25zXG4gIGFzeW5jIGNyZWF0ZVVzZXIodXNlckRhdGE6IGFueSk6IFByb21pc2U8YW55PiB7XG4gICAgYXdhaXQgdGhpcy5jb25uZWN0KClcbiAgICBcbiAgICAvLyBFbnN1cmUgcmVxdWlyZWQgZmllbGRzIGhhdmUgZGVmYXVsdCB2YWx1ZXNcbiAgICBjb25zdCBkZWZhdWx0VXNlckRhdGEgPSB7XG4gICAgICBwcmVmZXJlbmNlczoge1xuICAgICAgICBjdXJyZW5jeTogJ+KCuScsXG4gICAgICAgIHRoZW1lOiAnbGlnaHQnLFxuICAgICAgICBub3RpZmljYXRpb25zOiB0cnVlLFxuICAgICAgICBkZWZhdWx0UGF5bWVudE1ldGhvZDogJ2Nhc2gnLFxuICAgICAgICBidWRnZXRMaW1pdHM6IFtdLFxuICAgICAgICBhbGVydFNldHRpbmdzOiB7XG4gICAgICAgICAgb3ZlcnNwZW5kaW5nQWxlcnRzOiB0cnVlLFxuICAgICAgICAgIGJ1ZGdldExpbWl0QWxlcnRzOiB0cnVlLFxuICAgICAgICAgIHNhdmluZ3NHb2FsQWxlcnRzOiB0cnVlLFxuICAgICAgICAgIHdlZWtseUluc2lnaHRzOiB0cnVlLFxuICAgICAgICAgIGVtYWlsTm90aWZpY2F0aW9uczogZmFsc2UsXG4gICAgICAgICAgcHVzaE5vdGlmaWNhdGlvbnM6IHRydWVcbiAgICAgICAgfSxcbiAgICAgICAgZ2FtaWZpY2F0aW9uRW5hYmxlZDogdHJ1ZSxcbiAgICAgICAgYXV0b0JhY2t1cEVuYWJsZWQ6IGZhbHNlLFxuICAgICAgICBjbG91ZFN5bmNFbmFibGVkOiBmYWxzZSxcbiAgICAgICAgcmVjZWlwdFNjYW5uaW5nRW5hYmxlZDogZmFsc2VcbiAgICAgIH0sXG4gICAgICBwcm9maWxlczogW10sXG4gICAgICBhY3RpdmVQcm9maWxlSWQ6ICcnLFxuICAgICAgc2VjdXJpdHlTZXR0aW5nczoge1xuICAgICAgICBwaW5FbmFibGVkOiBmYWxzZSxcbiAgICAgICAgYmlvbWV0cmljRW5hYmxlZDogZmFsc2UsXG4gICAgICAgIGF1dG9Mb2NrVGltZW91dDogNSxcbiAgICAgICAgcmVxdWlyZUF1dGhGb3JFeHBvcnQ6IHRydWUsXG4gICAgICAgIHJlcXVpcmVBdXRoRm9yU2V0dGluZ3M6IGZhbHNlXG4gICAgICB9LFxuICAgICAgYWNoaWV2ZW1lbnRzOiBbXSxcbiAgICAgIHN0cmVha3M6IHtcbiAgICAgICAgY3VycmVudFN0cmVhazogMCxcbiAgICAgICAgbG9uZ2VzdFN0cmVhazogMCxcbiAgICAgICAgbm9TcGVuZERheXM6IDAsXG4gICAgICAgIHRvdGFsTm9TcGVuZERheXM6IDAsXG4gICAgICAgIGN1cnJlbnROb1NwZW5kU3RyZWFrOiAwLFxuICAgICAgICBsb25nZXN0Tm9TcGVuZFN0cmVhazogMFxuICAgICAgfSxcbiAgICAgIC4uLnVzZXJEYXRhXG4gICAgfVxuICAgIFxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMuZGIucXVlcnkoJ1VTRSBOUyBydXBlZSBEQiBmaW5hbmNlOyBDUkVBVEUgdXNlcnMgQ09OVEVOVCAkdXNlckRhdGEnLCB7IHVzZXJEYXRhOiBkZWZhdWx0VXNlckRhdGEgfSlcbiAgICBjb25zdCB1c2VyID0gcmVzdWx0WzFdPy5bMF0gfHwgcmVzdWx0WzBdPy5yZXN1bHQ/LlswXVxuICAgIFxuICAgIC8vIFJldHVybiB1c2VyIHdpdGggSUQgYXMgc3RyaW5nLCBub3QgcmVjb3JkIHJlZmVyZW5jZVxuICAgIGlmICh1c2VyICYmIHVzZXIuaWQpIHtcbiAgICAgIGlmICh0eXBlb2YgdXNlci5pZCA9PT0gJ29iamVjdCcgJiYgdXNlci5pZC5pZCkge1xuICAgICAgICAvLyBIYW5kbGUgX1JlY29yZElkIG9iamVjdFxuICAgICAgICB1c2VyLmlkID0gdXNlci5pZC5pZFxuICAgICAgfSBlbHNlIGlmICh0eXBlb2YgdXNlci5pZCA9PT0gJ3N0cmluZycgJiYgdXNlci5pZC5pbmNsdWRlcygnOicpKSB7XG4gICAgICAgIC8vIEhhbmRsZSBzdHJpbmcgcmVjb3JkIHJlZmVyZW5jZVxuICAgICAgICB1c2VyLmlkID0gdXNlci5pZC5zcGxpdCgnOicpWzFdIHx8IHVzZXIuaWRcbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgcmV0dXJuIHVzZXJcbiAgfVxuXG4gIGFzeW5jIGdldFVzZXIodXNlcklkOiBzdHJpbmcpOiBQcm9taXNlPGFueT4ge1xuICAgIGF3YWl0IHRoaXMuY29ubmVjdCgpXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5kYi5xdWVyeSgnVVNFIE5TIHJ1cGVlIERCIGZpbmFuY2U7IFNFTEVDVCAqIEZST00gdXNlcnMgV0hFUkUgaWQgPSAkdXNlcklkJywgeyB1c2VySWQgfSlcbiAgICByZXR1cm4gcmVzdWx0WzFdPy5bMF0gfHwgcmVzdWx0WzBdPy5yZXN1bHQ/LlswXVxuICB9XG5cbiAgYXN5bmMgdXBkYXRlVXNlcih1c2VySWQ6IHN0cmluZywgdXNlckRhdGE6IGFueSk6IFByb21pc2U8YW55PiB7XG4gICAgYXdhaXQgdGhpcy5jb25uZWN0KClcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLmRiLnF1ZXJ5KCdVU0UgTlMgcnVwZWUgREIgZmluYW5jZTsgVVBEQVRFIHVzZXJzIFNFVCAqID0gJHVzZXJEYXRhIFdIRVJFIGlkID0gJHVzZXJJZCcsIHsgdXNlcklkLCB1c2VyRGF0YSB9KVxuICAgIHJldHVybiByZXN1bHRbMV0/LlswXSB8fCByZXN1bHRbMF0/LnJlc3VsdD8uWzBdXG4gIH1cblxuICBhc3luYyBkZWxldGVVc2VyKHVzZXJJZDogc3RyaW5nKTogUHJvbWlzZTxhbnk+IHtcbiAgICBhd2FpdCB0aGlzLmNvbm5lY3QoKVxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMuZGIucXVlcnkoJ1VTRSBOUyBydXBlZSBEQiBmaW5hbmNlOyBERUxFVEUgdXNlcnMgV0hFUkUgaWQgPSAkdXNlcklkJywgeyB1c2VySWQgfSlcbiAgICByZXR1cm4gcmVzdWx0WzFdPy5bMF0gfHwgcmVzdWx0WzBdPy5yZXN1bHQ/LlswXVxuICB9XG5cbiAgYXN5bmMgZml4VXNlckZpZWxkcyh1c2VySWQ6IHN0cmluZyk6IFByb21pc2U8YW55PiB7XG4gICAgYXdhaXQgdGhpcy5jb25uZWN0KClcbiAgICBcbiAgICAvLyBGaXggdXNlcnMgd2l0aCBOT05FIHZhbHVlcyBmb3IgcmVxdWlyZWQgZmllbGRzXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5kYi5xdWVyeShgXG4gICAgICBVU0UgTlMgcnVwZWUgREIgZmluYW5jZTtcbiAgICAgIFVQREFURSB1c2VycyBTRVQgXG4gICAgICAgIGFjaGlldmVtZW50cyA9IFtdIFdIRVJFIGlkID0gJHVzZXJJZCBBTkQgYWNoaWV2ZW1lbnRzID0gTk9ORTtcbiAgICAgIFVQREFURSB1c2VycyBTRVQgXG4gICAgICAgIHN0cmVha3MgPSB7XG4gICAgICAgICAgY3VycmVudFN0cmVhazogMCxcbiAgICAgICAgICBsb25nZXN0U3RyZWFrOiAwLFxuICAgICAgICAgIG5vU3BlbmREYXlzOiAwLFxuICAgICAgICAgIHRvdGFsTm9TcGVuZERheXM6IDAsXG4gICAgICAgICAgY3VycmVudE5vU3BlbmRTdHJlYWs6IDAsXG4gICAgICAgICAgbG9uZ2VzdE5vU3BlbmRTdHJlYWs6IDBcbiAgICAgICAgfSBXSEVSRSBpZCA9ICR1c2VySWQgQU5EIHN0cmVha3MgPSBOT05FO1xuICAgICAgVVBEQVRFIHVzZXJzIFNFVCBcbiAgICAgICAgcHJvZmlsZXMgPSBbXSBXSEVSRSBpZCA9ICR1c2VySWQgQU5EIHByb2ZpbGVzID0gTk9ORTtcbiAgICAgIFVQREFURSB1c2VycyBTRVQgXG4gICAgICAgIGFjdGl2ZVByb2ZpbGVJZCA9ICcnIFdIRVJFIGlkID0gJHVzZXJJZCBBTkQgYWN0aXZlUHJvZmlsZUlkID0gTk9ORTtcbiAgICAgIFVQREFURSB1c2VycyBTRVQgXG4gICAgICAgIHNlY3VyaXR5U2V0dGluZ3MgPSB7XG4gICAgICAgICAgcGluRW5hYmxlZDogZmFsc2UsXG4gICAgICAgICAgYmlvbWV0cmljRW5hYmxlZDogZmFsc2UsXG4gICAgICAgICAgYXV0b0xvY2tUaW1lb3V0OiA1LFxuICAgICAgICAgIHJlcXVpcmVBdXRoRm9yRXhwb3J0OiB0cnVlLFxuICAgICAgICAgIHJlcXVpcmVBdXRoRm9yU2V0dGluZ3M6IGZhbHNlXG4gICAgICAgIH0gV0hFUkUgaWQgPSAkdXNlcklkIEFORCBzZWN1cml0eVNldHRpbmdzID0gTk9ORTtcbiAgICBgLCB7IHVzZXJJZCB9KVxuICAgIFxuICAgIHJldHVybiByZXN1bHRbMV0/LlswXSB8fCByZXN1bHRbMF0/LnJlc3VsdD8uWzBdXG4gIH1cblxuICBhc3luYyBmaXhBbGxVc2VycygpOiBQcm9taXNlPGFueT4ge1xuICAgIGF3YWl0IHRoaXMuY29ubmVjdCgpXG4gICAgXG4gICAgLy8gRml4IGFsbCB1c2VycyB3aXRoIE5PTkUgdmFsdWVzIGZvciByZXF1aXJlZCBmaWVsZHNcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLmRiLnF1ZXJ5KGBcbiAgICAgIFVTRSBOUyBydXBlZSBEQiBmaW5hbmNlO1xuICAgICAgVVBEQVRFIHVzZXJzIFNFVCBcbiAgICAgICAgYWNoaWV2ZW1lbnRzID0gW10gV0hFUkUgYWNoaWV2ZW1lbnRzID0gTk9ORTtcbiAgICAgIFVQREFURSB1c2VycyBTRVQgXG4gICAgICAgIHN0cmVha3MgPSB7XG4gICAgICAgICAgY3VycmVudFN0cmVhazogMCxcbiAgICAgICAgICBsb25nZXN0U3RyZWFrOiAwLFxuICAgICAgICAgIG5vU3BlbmREYXlzOiAwLFxuICAgICAgICAgIHRvdGFsTm9TcGVuZERheXM6IDAsXG4gICAgICAgICAgY3VycmVudE5vU3BlbmRTdHJlYWs6IDAsXG4gICAgICAgICAgbG9uZ2VzdE5vU3BlbmRTdHJlYWs6IDBcbiAgICAgICAgfSBXSEVSRSBzdHJlYWtzID0gTk9ORTtcbiAgICAgIFVQREFURSB1c2VycyBTRVQgXG4gICAgICAgIHByb2ZpbGVzID0gW10gV0hFUkUgcHJvZmlsZXMgPSBOT05FO1xuICAgICAgVVBEQVRFIHVzZXJzIFNFVCBcbiAgICAgICAgYWN0aXZlUHJvZmlsZUlkID0gJycgV0hFUkUgYWN0aXZlUHJvZmlsZUlkID0gTk9ORTtcbiAgICAgIFVQREFURSB1c2VycyBTRVQgXG4gICAgICAgIHNlY3VyaXR5U2V0dGluZ3MgPSB7XG4gICAgICAgICAgcGluRW5hYmxlZDogZmFsc2UsXG4gICAgICAgICAgYmlvbWV0cmljRW5hYmxlZDogZmFsc2UsXG4gICAgICAgICAgYXV0b0xvY2tUaW1lb3V0OiA1LFxuICAgICAgICAgIHJlcXVpcmVBdXRoRm9yRXhwb3J0OiB0cnVlLFxuICAgICAgICAgIHJlcXVpcmVBdXRoRm9yU2V0dGluZ3M6IGZhbHNlXG4gICAgICAgIH0gV0hFUkUgc2VjdXJpdHlTZXR0aW5ncyA9IE5PTkU7XG4gICAgYClcbiAgICBcbiAgICByZXR1cm4gcmVzdWx0WzFdIHx8IHJlc3VsdFswXT8ucmVzdWx0IHx8IFtdXG4gIH1cblxuICBhc3luYyBmaXhEYXRlRmllbGRzKCk6IFByb21pc2U8YW55PiB7XG4gICAgYXdhaXQgdGhpcy5jb25uZWN0KClcbiAgICBcbiAgICAvLyBGaXggZXhwZW5zZXMgd2l0aCBzdHJpbmcgZGF0ZXMgYnkgY29udmVydGluZyB0aGVtIHRvIGRhdGV0aW1lXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5kYi5xdWVyeShgXG4gICAgICBVU0UgTlMgcnVwZWUgREIgZmluYW5jZTtcbiAgICAgIFVQREFURSBleHBlbnNlcyBTRVQgXG4gICAgICAgIGRhdGUgPSB0aW1lOjpwYXJzZShkYXRlKSBXSEVSRSB0eXBlOjpvZihkYXRlKSA9ICdzdHJpbmcnO1xuICAgICAgVVBEQVRFIGluY29tZXMgU0VUIFxuICAgICAgICBkYXRlID0gdGltZTo6cGFyc2UoZGF0ZSkgV0hFUkUgdHlwZTo6b2YoZGF0ZSkgPSAnc3RyaW5nJztcbiAgICAgIFVQREFURSBzYXZpbmdzX2dvYWxzIFNFVCBcbiAgICAgICAgdGFyZ2V0RGF0ZSA9IHRpbWU6OnBhcnNlKHRhcmdldERhdGUpIFdIRVJFIHR5cGU6Om9mKHRhcmdldERhdGUpID0gJ3N0cmluZyc7XG4gICAgICBVUERBVEUgcmVjdXJyaW5nX2V4cGVuc2VzIFNFVCBcbiAgICAgICAgbmV4dER1ZURhdGUgPSB0aW1lOjpwYXJzZShuZXh0RHVlRGF0ZSkgV0hFUkUgdHlwZTo6b2YobmV4dER1ZURhdGUpID0gJ3N0cmluZyc7XG4gICAgYClcbiAgICBcbiAgICByZXR1cm4gcmVzdWx0WzFdIHx8IHJlc3VsdFswXT8ucmVzdWx0IHx8IFtdXG4gIH1cblxuICBhc3luYyBmaXhEYXRlRmllbGRzU2ltcGxlKCk6IFByb21pc2U8YW55PiB7XG4gICAgYXdhaXQgdGhpcy5jb25uZWN0KClcbiAgICBcbiAgICAvLyBHZXQgYWxsIGV4cGVuc2VzIGFuZCBjaGVjayBpZiB0aGV5IGhhdmUgc3RyaW5nIGRhdGVzXG4gICAgY29uc3QgZXhwZW5zZXMgPSBhd2FpdCB0aGlzLmRiLnF1ZXJ5KGBcbiAgICAgIFVTRSBOUyBydXBlZSBEQiBmaW5hbmNlO1xuICAgICAgU0VMRUNUICogRlJPTSBleHBlbnNlcztcbiAgICBgKVxuICAgIFxuICAgIGlmIChleHBlbnNlc1sxXSAmJiBleHBlbnNlc1sxXS5sZW5ndGggPiAwKSB7XG4gICAgICBmb3IgKGNvbnN0IGV4cGVuc2Ugb2YgZXhwZW5zZXNbMV0pIHtcbiAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIGRhdGUgaXMgYSBzdHJpbmcgKG5vdCBhIGRhdGV0aW1lIG9iamVjdClcbiAgICAgICAgaWYgKHR5cGVvZiBleHBlbnNlLmRhdGUgPT09ICdzdHJpbmcnICYmIGV4cGVuc2UuZGF0ZS5pbmNsdWRlcygnVCcpKSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuZGIucXVlcnkoYFxuICAgICAgICAgICAgICBVU0UgTlMgcnVwZWUgREIgZmluYW5jZTtcbiAgICAgICAgICAgICAgVVBEQVRFICR7ZXhwZW5zZS5pZH0gU0VUIGRhdGUgPSB0aW1lOjpwYXJzZSgnJHtleHBlbnNlLmRhdGV9Jyk7XG4gICAgICAgICAgICBgKVxuICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oYENvdWxkIG5vdCBmaXggZGF0ZSBmb3IgZXhwZW5zZSAke2V4cGVuc2UuaWR9OmAsIGVycm9yKVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICAvLyBHZXQgYWxsIGluY29tZXMgYW5kIGNoZWNrIGlmIHRoZXkgaGF2ZSBzdHJpbmcgZGF0ZXNcbiAgICBjb25zdCBpbmNvbWVzID0gYXdhaXQgdGhpcy5kYi5xdWVyeShgXG4gICAgICBVU0UgTlMgcnVwZWUgREIgZmluYW5jZTtcbiAgICAgIFNFTEVDVCAqIEZST00gaW5jb21lcztcbiAgICBgKVxuICAgIFxuICAgIGlmIChpbmNvbWVzWzFdICYmIGluY29tZXNbMV0ubGVuZ3RoID4gMCkge1xuICAgICAgZm9yIChjb25zdCBpbmNvbWUgb2YgaW5jb21lc1sxXSkge1xuICAgICAgICAvLyBDaGVjayBpZiB0aGUgZGF0ZSBpcyBhIHN0cmluZyAobm90IGEgZGF0ZXRpbWUgb2JqZWN0KVxuICAgICAgICBpZiAodHlwZW9mIGluY29tZS5kYXRlID09PSAnc3RyaW5nJyAmJiBpbmNvbWUuZGF0ZS5pbmNsdWRlcygnVCcpKSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuZGIucXVlcnkoYFxuICAgICAgICAgICAgICBVU0UgTlMgcnVwZWUgREIgZmluYW5jZTtcbiAgICAgICAgICAgICAgVVBEQVRFICR7aW5jb21lLmlkfSBTRVQgZGF0ZSA9IHRpbWU6OnBhcnNlKCcke2luY29tZS5kYXRlfScpO1xuICAgICAgICAgICAgYClcbiAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKGBDb3VsZCBub3QgZml4IGRhdGUgZm9yIGluY29tZSAke2luY29tZS5pZH06YCwgZXJyb3IpXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUgfVxuICB9XG5cbiAgYXN5bmMgZml4UmVjb3JkUmVmZXJlbmNlcygpOiBQcm9taXNlPGFueT4ge1xuICAgIGF3YWl0IHRoaXMuY29ubmVjdCgpXG4gICAgXG4gICAgLy8gRml4IGV4cGVuc2VzIHdpdGggcmVjb3JkIHJlZmVyZW5jZXMgaW5zdGVhZCBvZiBzdHJpbmcgSURzXG4gICAgY29uc3QgZXhwZW5zZXMgPSBhd2FpdCB0aGlzLmRiLnF1ZXJ5KGBcbiAgICAgIFVTRSBOUyBydXBlZSBEQiBmaW5hbmNlO1xuICAgICAgU0VMRUNUICogRlJPTSBleHBlbnNlcztcbiAgICBgKVxuICAgIFxuICAgIGlmIChleHBlbnNlc1sxXSAmJiBleHBlbnNlc1sxXS5sZW5ndGggPiAwKSB7XG4gICAgICBmb3IgKGNvbnN0IGV4cGVuc2Ugb2YgZXhwZW5zZXNbMV0pIHtcbiAgICAgICAgLy8gQ2hlY2sgaWYgdXNlcklkIGlzIGEgcmVjb3JkIHJlZmVyZW5jZSBvciBfUmVjb3JkSWQgb2JqZWN0XG4gICAgICAgIGlmIChleHBlbnNlLnVzZXJJZCkge1xuICAgICAgICAgIGxldCB1c2VySWQgPSBleHBlbnNlLnVzZXJJZFxuICAgICAgICAgIGxldCBuZWVkc0ZpeCA9IGZhbHNlXG4gICAgICAgICAgXG4gICAgICAgICAgaWYgKHR5cGVvZiBleHBlbnNlLnVzZXJJZCA9PT0gJ29iamVjdCcgJiYgZXhwZW5zZS51c2VySWQuaWQpIHtcbiAgICAgICAgICAgIC8vIEhhbmRsZSBfUmVjb3JkSWQgb2JqZWN0XG4gICAgICAgICAgICB1c2VySWQgPSBleHBlbnNlLnVzZXJJZC5pZFxuICAgICAgICAgICAgbmVlZHNGaXggPSB0cnVlXG4gICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgZXhwZW5zZS51c2VySWQgPT09ICdzdHJpbmcnICYmIGV4cGVuc2UudXNlcklkLmluY2x1ZGVzKCc6JykpIHtcbiAgICAgICAgICAgIC8vIEhhbmRsZSBzdHJpbmcgcmVjb3JkIHJlZmVyZW5jZVxuICAgICAgICAgICAgdXNlcklkID0gZXhwZW5zZS51c2VySWQuc3BsaXQoJzonKVsxXVxuICAgICAgICAgICAgbmVlZHNGaXggPSB0cnVlXG4gICAgICAgICAgfVxuICAgICAgICAgIFxuICAgICAgICAgIGlmIChuZWVkc0ZpeCkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgYXdhaXQgdGhpcy5kYi5xdWVyeShgXG4gICAgICAgICAgICAgICAgVVNFIE5TIHJ1cGVlIERCIGZpbmFuY2U7XG4gICAgICAgICAgICAgICAgVVBEQVRFICR7ZXhwZW5zZS5pZH0gU0VUIHVzZXJJZCA9ICcke3VzZXJJZH0nO1xuICAgICAgICAgICAgICBgKVxuICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgRml4ZWQgdXNlcklkIGZvciBleHBlbnNlICR7ZXhwZW5zZS5pZH06ICR7ZXhwZW5zZS51c2VySWR9IC0+ICR7dXNlcklkfWApXG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICBjb25zb2xlLndhcm4oYENvdWxkIG5vdCBmaXggdXNlcklkIGZvciBleHBlbnNlICR7ZXhwZW5zZS5pZH06YCwgZXJyb3IpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyBBbHNvIGNoZWNrIGNhdGVnb3J5SWQgaWYgaXQncyBhIHJlY29yZCByZWZlcmVuY2VcbiAgICAgICAgaWYgKGV4cGVuc2UuY2F0ZWdvcnlJZCAmJiB0eXBlb2YgZXhwZW5zZS5jYXRlZ29yeUlkID09PSAnc3RyaW5nJyAmJiBleHBlbnNlLmNhdGVnb3J5SWQuaW5jbHVkZXMoJzonKSkge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBjYXRlZ29yeUlkID0gZXhwZW5zZS5jYXRlZ29yeUlkLnNwbGl0KCc6JylbMV1cbiAgICAgICAgICAgIGF3YWl0IHRoaXMuZGIucXVlcnkoYFxuICAgICAgICAgICAgICBVU0UgTlMgcnVwZWUgREIgZmluYW5jZTtcbiAgICAgICAgICAgICAgVVBEQVRFICR7ZXhwZW5zZS5pZH0gU0VUIGNhdGVnb3J5SWQgPSAnJHtjYXRlZ29yeUlkfSc7XG4gICAgICAgICAgICBgKVxuICAgICAgICAgICAgY29uc29sZS5sb2coYEZpeGVkIGNhdGVnb3J5SWQgZm9yIGV4cGVuc2UgJHtleHBlbnNlLmlkfTogJHtleHBlbnNlLmNhdGVnb3J5SWR9IC0+ICR7Y2F0ZWdvcnlJZH1gKVxuICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oYENvdWxkIG5vdCBmaXggY2F0ZWdvcnlJZCBmb3IgZXhwZW5zZSAke2V4cGVuc2UuaWR9OmAsIGVycm9yKVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICAvLyBGaXggaW5jb21lcyB3aXRoIHJlY29yZCByZWZlcmVuY2VzIGluc3RlYWQgb2Ygc3RyaW5nIElEc1xuICAgIGNvbnN0IGluY29tZXMgPSBhd2FpdCB0aGlzLmRiLnF1ZXJ5KGBcbiAgICAgIFVTRSBOUyBydXBlZSBEQiBmaW5hbmNlO1xuICAgICAgU0VMRUNUICogRlJPTSBpbmNvbWVzO1xuICAgIGApXG4gICAgXG4gICAgaWYgKGluY29tZXNbMV0gJiYgaW5jb21lc1sxXS5sZW5ndGggPiAwKSB7XG4gICAgICBmb3IgKGNvbnN0IGluY29tZSBvZiBpbmNvbWVzWzFdKSB7XG4gICAgICAgIC8vIENoZWNrIGlmIHVzZXJJZCBpcyBhIHJlY29yZCByZWZlcmVuY2Ugb3IgX1JlY29yZElkIG9iamVjdFxuICAgICAgICBpZiAoaW5jb21lLnVzZXJJZCkge1xuICAgICAgICAgIGxldCB1c2VySWQgPSBpbmNvbWUudXNlcklkXG4gICAgICAgICAgbGV0IG5lZWRzRml4ID0gZmFsc2VcbiAgICAgICAgICBcbiAgICAgICAgICBpZiAodHlwZW9mIGluY29tZS51c2VySWQgPT09ICdvYmplY3QnICYmIGluY29tZS51c2VySWQuaWQpIHtcbiAgICAgICAgICAgIC8vIEhhbmRsZSBfUmVjb3JkSWQgb2JqZWN0XG4gICAgICAgICAgICB1c2VySWQgPSBpbmNvbWUudXNlcklkLmlkXG4gICAgICAgICAgICBuZWVkc0ZpeCA9IHRydWVcbiAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBpbmNvbWUudXNlcklkID09PSAnc3RyaW5nJyAmJiBpbmNvbWUudXNlcklkLmluY2x1ZGVzKCc6JykpIHtcbiAgICAgICAgICAgIC8vIEhhbmRsZSBzdHJpbmcgcmVjb3JkIHJlZmVyZW5jZVxuICAgICAgICAgICAgdXNlcklkID0gaW5jb21lLnVzZXJJZC5zcGxpdCgnOicpWzFdXG4gICAgICAgICAgICBuZWVkc0ZpeCA9IHRydWVcbiAgICAgICAgICB9XG4gICAgICAgICAgXG4gICAgICAgICAgaWYgKG5lZWRzRml4KSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBhd2FpdCB0aGlzLmRiLnF1ZXJ5KGBcbiAgICAgICAgICAgICAgICBVU0UgTlMgcnVwZWUgREIgZmluYW5jZTtcbiAgICAgICAgICAgICAgICBVUERBVEUgJHtpbmNvbWUuaWR9IFNFVCB1c2VySWQgPSAnJHt1c2VySWR9JztcbiAgICAgICAgICAgICAgYClcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coYEZpeGVkIHVzZXJJZCBmb3IgaW5jb21lICR7aW5jb21lLmlkfTogJHtpbmNvbWUudXNlcklkfSAtPiAke3VzZXJJZH1gKVxuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgY29uc29sZS53YXJuKGBDb3VsZCBub3QgZml4IHVzZXJJZCBmb3IgaW5jb21lICR7aW5jb21lLmlkfTpgLCBlcnJvcilcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgLy8gRml4IGNhdGVnb3JpZXMgd2l0aCByZWNvcmQgcmVmZXJlbmNlc1xuICAgIGNvbnN0IGNhdGVnb3JpZXMgPSBhd2FpdCB0aGlzLmRiLnF1ZXJ5KGBcbiAgICAgIFVTRSBOUyBydXBlZSBEQiBmaW5hbmNlO1xuICAgICAgU0VMRUNUICogRlJPTSBjYXRlZ29yaWVzO1xuICAgIGApXG4gICAgXG4gICAgaWYgKGNhdGVnb3JpZXNbMV0gJiYgY2F0ZWdvcmllc1sxXS5sZW5ndGggPiAwKSB7XG4gICAgICBmb3IgKGNvbnN0IGNhdGVnb3J5IG9mIGNhdGVnb3JpZXNbMV0pIHtcbiAgICAgICAgLy8gQ2hlY2sgaWYgdXNlcklkIGlzIGEgcmVjb3JkIHJlZmVyZW5jZSAoY29udGFpbnMgJzonKVxuICAgICAgICBpZiAoY2F0ZWdvcnkudXNlcklkICYmIHR5cGVvZiBjYXRlZ29yeS51c2VySWQgPT09ICdzdHJpbmcnICYmIGNhdGVnb3J5LnVzZXJJZC5pbmNsdWRlcygnOicpKSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHVzZXJJZCA9IGNhdGVnb3J5LnVzZXJJZC5zcGxpdCgnOicpWzFdXG4gICAgICAgICAgICBhd2FpdCB0aGlzLmRiLnF1ZXJ5KGBcbiAgICAgICAgICAgICAgVVNFIE5TIHJ1cGVlIERCIGZpbmFuY2U7XG4gICAgICAgICAgICAgIFVQREFURSAke2NhdGVnb3J5LmlkfSBTRVQgdXNlcklkID0gJyR7dXNlcklkfSc7XG4gICAgICAgICAgICBgKVxuICAgICAgICAgICAgY29uc29sZS5sb2coYEZpeGVkIHVzZXJJZCBmb3IgY2F0ZWdvcnkgJHtjYXRlZ29yeS5pZH06ICR7Y2F0ZWdvcnkudXNlcklkfSAtPiAke3VzZXJJZH1gKVxuICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oYENvdWxkIG5vdCBmaXggdXNlcklkIGZvciBjYXRlZ29yeSAke2NhdGVnb3J5LmlkfTpgLCBlcnJvcilcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgLy8gRml4IG90aGVyIHRhYmxlcyB3aXRoIHVzZXJJZCByZWZlcmVuY2VzXG4gICAgY29uc3QgdGFibGVzID0gWydzYXZpbmdzX2dvYWxzJywgJ2J1ZGdldF9saW1pdHMnLCAnaW5zaWdodHMnLCAnYWxlcnRzJywgJ3JlY3VycmluZ19leHBlbnNlcycsICdwcm9maWxlcycsICdhY2hpZXZlbWVudHMnLCAnYmFja3VwX2hpc3RvcnknXVxuICAgIFxuICAgIGZvciAoY29uc3QgdGFibGUgb2YgdGFibGVzKSB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZWNvcmRzID0gYXdhaXQgdGhpcy5kYi5xdWVyeShgXG4gICAgICAgICAgVVNFIE5TIHJ1cGVlIERCIGZpbmFuY2U7XG4gICAgICAgICAgU0VMRUNUICogRlJPTSAke3RhYmxlfTtcbiAgICAgICAgYClcbiAgICAgICAgXG4gICAgICAgIGlmIChyZWNvcmRzWzFdICYmIHJlY29yZHNbMV0ubGVuZ3RoID4gMCkge1xuICAgICAgICAgIGZvciAoY29uc3QgcmVjb3JkIG9mIHJlY29yZHNbMV0pIHtcbiAgICAgICAgICAgIGlmIChyZWNvcmQudXNlcklkICYmIHR5cGVvZiByZWNvcmQudXNlcklkID09PSAnc3RyaW5nJyAmJiByZWNvcmQudXNlcklkLmluY2x1ZGVzKCc6JykpIHtcbiAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCB1c2VySWQgPSByZWNvcmQudXNlcklkLnNwbGl0KCc6JylbMV1cbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmRiLnF1ZXJ5KGBcbiAgICAgICAgICAgICAgICAgIFVTRSBOUyBydXBlZSBEQiBmaW5hbmNlO1xuICAgICAgICAgICAgICAgICAgVVBEQVRFICR7cmVjb3JkLmlkfSBTRVQgdXNlcklkID0gJyR7dXNlcklkfSc7XG4gICAgICAgICAgICAgICAgYClcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgRml4ZWQgdXNlcklkIGZvciAke3RhYmxlfSAke3JlY29yZC5pZH06ICR7cmVjb3JkLnVzZXJJZH0gLT4gJHt1c2VySWR9YClcbiAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oYENvdWxkIG5vdCBmaXggdXNlcklkIGZvciAke3RhYmxlfSAke3JlY29yZC5pZH06YCwgZXJyb3IpXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUud2FybihgQ291bGQgbm90IHByb2Nlc3MgdGFibGUgJHt0YWJsZX06YCwgZXJyb3IpXG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUgfVxuICB9XG5cbiAgLy8gQ29tcHJlaGVuc2l2ZSBtZXRob2QgdG8gZml4IGFsbCByZWNvcmQgcmVmZXJlbmNlc1xuICBhc3luYyBmaXhBbGxSZWNvcmRSZWZlcmVuY2VzKCk6IFByb21pc2U8YW55PiB7XG4gICAgYXdhaXQgdGhpcy5jb25uZWN0KClcbiAgICBcbiAgICB0cnkge1xuICAgICAgLy8gR2V0IGFsbCBleHBlbnNlcyBhbmQgZml4IGFueSByZWNvcmQgcmVmZXJlbmNlc1xuICAgICAgY29uc3QgZXhwZW5zZXMgPSBhd2FpdCB0aGlzLmRiLnF1ZXJ5KGBcbiAgICAgICAgVVNFIE5TIHJ1cGVlIERCIGZpbmFuY2U7XG4gICAgICAgIFNFTEVDVCAqIEZST00gZXhwZW5zZXM7XG4gICAgICBgKVxuICAgICAgXG4gICAgICBsZXQgZml4ZWRDb3VudCA9IDBcbiAgICAgIGlmIChleHBlbnNlc1sxXSAmJiBleHBlbnNlc1sxXS5sZW5ndGggPiAwKSB7XG4gICAgICAgIGZvciAoY29uc3QgZXhwZW5zZSBvZiBleHBlbnNlc1sxXSkge1xuICAgICAgICAgIGlmIChleHBlbnNlLnVzZXJJZCAmJiB0eXBlb2YgZXhwZW5zZS51c2VySWQgPT09ICdzdHJpbmcnICYmIGV4cGVuc2UudXNlcklkLmluY2x1ZGVzKCc6JykpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIGNvbnN0IHVzZXJJZCA9IGV4cGVuc2UudXNlcklkLnNwbGl0KCc6JylbMV1cbiAgICAgICAgICAgICAgYXdhaXQgdGhpcy5kYi5xdWVyeShgXG4gICAgICAgICAgICAgICAgVVNFIE5TIHJ1cGVlIERCIGZpbmFuY2U7XG4gICAgICAgICAgICAgICAgVVBEQVRFICR7ZXhwZW5zZS5pZH0gU0VUIHVzZXJJZCA9ICcke3VzZXJJZH0nO1xuICAgICAgICAgICAgICBgKVxuICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgRml4ZWQgdXNlcklkIGZvciBleHBlbnNlICR7ZXhwZW5zZS5pZH06ICR7ZXhwZW5zZS51c2VySWR9IC0+ICR7dXNlcklkfWApXG4gICAgICAgICAgICAgIGZpeGVkQ291bnQrK1xuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgY29uc29sZS53YXJuKGBDb3VsZCBub3QgZml4IHVzZXJJZCBmb3IgZXhwZW5zZSAke2V4cGVuc2UuaWR9OmAsIGVycm9yKVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBcbiAgICAgICAgICBpZiAoZXhwZW5zZS5jYXRlZ29yeUlkICYmIHR5cGVvZiBleHBlbnNlLmNhdGVnb3J5SWQgPT09ICdzdHJpbmcnICYmIGV4cGVuc2UuY2F0ZWdvcnlJZC5pbmNsdWRlcygnOicpKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBjb25zdCBjYXRlZ29yeUlkID0gZXhwZW5zZS5jYXRlZ29yeUlkLnNwbGl0KCc6JylbMV1cbiAgICAgICAgICAgICAgYXdhaXQgdGhpcy5kYi5xdWVyeShgXG4gICAgICAgICAgICAgICAgVVNFIE5TIHJ1cGVlIERCIGZpbmFuY2U7XG4gICAgICAgICAgICAgICAgVVBEQVRFICR7ZXhwZW5zZS5pZH0gU0VUIGNhdGVnb3J5SWQgPSAnJHtjYXRlZ29yeUlkfSc7XG4gICAgICAgICAgICAgIGApXG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKGBGaXhlZCBjYXRlZ29yeUlkIGZvciBleHBlbnNlICR7ZXhwZW5zZS5pZH06ICR7ZXhwZW5zZS5jYXRlZ29yeUlkfSAtPiAke2NhdGVnb3J5SWR9YClcbiAgICAgICAgICAgICAgZml4ZWRDb3VudCsrXG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICBjb25zb2xlLndhcm4oYENvdWxkIG5vdCBmaXggY2F0ZWdvcnlJZCBmb3IgZXhwZW5zZSAke2V4cGVuc2UuaWR9OmAsIGVycm9yKVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBHZXQgYWxsIGluY29tZXMgYW5kIGZpeCBhbnkgcmVjb3JkIHJlZmVyZW5jZXNcbiAgICAgIGNvbnN0IGluY29tZXMgPSBhd2FpdCB0aGlzLmRiLnF1ZXJ5KGBcbiAgICAgICAgVVNFIE5TIHJ1cGVlIERCIGZpbmFuY2U7XG4gICAgICAgIFNFTEVDVCAqIEZST00gaW5jb21lcztcbiAgICAgIGApXG4gICAgICBcbiAgICAgIGlmIChpbmNvbWVzWzFdICYmIGluY29tZXNbMV0ubGVuZ3RoID4gMCkge1xuICAgICAgICBmb3IgKGNvbnN0IGluY29tZSBvZiBpbmNvbWVzWzFdKSB7XG4gICAgICAgICAgaWYgKGluY29tZS51c2VySWQgJiYgdHlwZW9mIGluY29tZS51c2VySWQgPT09ICdzdHJpbmcnICYmIGluY29tZS51c2VySWQuaW5jbHVkZXMoJzonKSkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgY29uc3QgdXNlcklkID0gaW5jb21lLnVzZXJJZC5zcGxpdCgnOicpWzFdXG4gICAgICAgICAgICAgIGF3YWl0IHRoaXMuZGIucXVlcnkoYFxuICAgICAgICAgICAgICAgIFVTRSBOUyBydXBlZSBEQiBmaW5hbmNlO1xuICAgICAgICAgICAgICAgIFVQREFURSAke2luY29tZS5pZH0gU0VUIHVzZXJJZCA9ICcke3VzZXJJZH0nO1xuICAgICAgICAgICAgICBgKVxuICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgRml4ZWQgdXNlcklkIGZvciBpbmNvbWUgJHtpbmNvbWUuaWR9OiAke2luY29tZS51c2VySWR9IC0+ICR7dXNlcklkfWApXG4gICAgICAgICAgICAgIGZpeGVkQ291bnQrK1xuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgY29uc29sZS53YXJuKGBDb3VsZCBub3QgZml4IHVzZXJJZCBmb3IgaW5jb21lICR7aW5jb21lLmlkfTpgLCBlcnJvcilcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIFxuICAgICAgY29uc29sZS5sb2coYEZpeGVkICR7Zml4ZWRDb3VudH0gcmVjb3JkIHJlZmVyZW5jZXNgKVxuICAgICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgZml4ZWRDb3VudCB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZpeGluZyBhbGwgcmVjb3JkIHJlZmVyZW5jZXM6JywgZXJyb3IpXG4gICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfVxuICAgIH1cbiAgfVxuXG4gIC8vIE5ldyBtZXRob2QgdG8gZml4IHRoZSBzcGVjaWZpYyBlcnJvciBtZW50aW9uZWRcbiAgYXN5bmMgZml4U3BlY2lmaWNSZWNvcmRFcnJvcigpOiBQcm9taXNlPGFueT4ge1xuICAgIGF3YWl0IHRoaXMuY29ubmVjdCgpXG4gICAgXG4gICAgdHJ5IHtcbiAgICAgIC8vIEZpbmQgdGhlIHNwZWNpZmljIGV4cGVuc2UgbWVudGlvbmVkIGluIHRoZSBlcnJvclxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5kYi5xdWVyeShgXG4gICAgICAgIFVTRSBOUyBydXBlZSBEQiBmaW5hbmNlO1xuICAgICAgICBTRUxFQ1QgKiBGUk9NIGV4cGVuc2VzIFdIRVJFIGlkID0gJ2V4cGVuc2VzOjJkYWhwMXE4ZTljZXI0bjVzOHplJztcbiAgICAgIGApXG4gICAgICBcbiAgICAgIGlmIChyZXN1bHRbMV0gJiYgcmVzdWx0WzFdLmxlbmd0aCA+IDApIHtcbiAgICAgICAgY29uc3QgZXhwZW5zZSA9IHJlc3VsdFsxXVswXVxuICAgICAgICBpZiAoZXhwZW5zZS51c2VySWQgJiYgdHlwZW9mIGV4cGVuc2UudXNlcklkID09PSAnc3RyaW5nJyAmJiBleHBlbnNlLnVzZXJJZC5pbmNsdWRlcygnOicpKSB7XG4gICAgICAgICAgY29uc3QgdXNlcklkID0gZXhwZW5zZS51c2VySWQuc3BsaXQoJzonKVsxXVxuICAgICAgICAgIGF3YWl0IHRoaXMuZGIucXVlcnkoYFxuICAgICAgICAgICAgVVNFIE5TIHJ1cGVlIERCIGZpbmFuY2U7XG4gICAgICAgICAgICBVUERBVEUgZXhwZW5zZXM6MmRhaHAxcThlOWNlcjRuNXM4emUgU0VUIHVzZXJJZCA9ICcke3VzZXJJZH0nO1xuICAgICAgICAgIGApXG4gICAgICAgICAgY29uc29sZS5sb2coYEZpeGVkIHNwZWNpZmljIGV4cGVuc2UgdXNlcklkOiAke2V4cGVuc2UudXNlcklkfSAtPiAke3VzZXJJZH1gKVxuICAgICAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGZpeGVkOiB0cnVlIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBBbHNvIGNoZWNrIGZvciB0aGUgbmV3IGVycm9yIG1lbnRpb25lZFxuICAgICAgY29uc3QgcmVzdWx0MiA9IGF3YWl0IHRoaXMuZGIucXVlcnkoYFxuICAgICAgICBVU0UgTlMgcnVwZWUgREIgZmluYW5jZTtcbiAgICAgICAgU0VMRUNUICogRlJPTSBleHBlbnNlcyBXSEVSRSBpZCA9ICdleHBlbnNlczpjZTlvYmVlNDRoOTRhMTh0cTZtOSc7XG4gICAgICBgKVxuICAgICAgXG4gICAgICBpZiAocmVzdWx0MlsxXSAmJiByZXN1bHQyWzFdLmxlbmd0aCA+IDApIHtcbiAgICAgICAgY29uc3QgZXhwZW5zZSA9IHJlc3VsdDJbMV1bMF1cbiAgICAgICAgaWYgKGV4cGVuc2UudXNlcklkICYmIHR5cGVvZiBleHBlbnNlLnVzZXJJZCA9PT0gJ3N0cmluZycgJiYgZXhwZW5zZS51c2VySWQuaW5jbHVkZXMoJzonKSkge1xuICAgICAgICAgIGNvbnN0IHVzZXJJZCA9IGV4cGVuc2UudXNlcklkLnNwbGl0KCc6JylbMV1cbiAgICAgICAgICBhd2FpdCB0aGlzLmRiLnF1ZXJ5KGBcbiAgICAgICAgICAgIFVTRSBOUyBydXBlZSBEQiBmaW5hbmNlO1xuICAgICAgICAgICAgVVBEQVRFIGV4cGVuc2VzOmNlOW9iZWU0NGg5NGExOHRxNm05IFNFVCB1c2VySWQgPSAnJHt1c2VySWR9JztcbiAgICAgICAgICBgKVxuICAgICAgICAgIGNvbnNvbGUubG9nKGBGaXhlZCBzcGVjaWZpYyBleHBlbnNlIHVzZXJJZDogJHtleHBlbnNlLnVzZXJJZH0gLT4gJHt1c2VySWR9YClcbiAgICAgICAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlLCBmaXhlZDogdHJ1ZSB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gQ2hlY2sgZm9yIHRoZSBsYXRlc3QgZXJyb3IgbWVudGlvbmVkXG4gICAgICBjb25zdCByZXN1bHQzID0gYXdhaXQgdGhpcy5kYi5xdWVyeShgXG4gICAgICAgIFVTRSBOUyBydXBlZSBEQiBmaW5hbmNlO1xuICAgICAgICBTRUxFQ1QgKiBGUk9NIGV4cGVuc2VzIFdIRVJFIGlkID0gJ2V4cGVuc2VzOjV0N3MyMDhtZTE4dXI2aHpmNGpwJztcbiAgICAgIGApXG4gICAgICBcbiAgICAgIGlmIChyZXN1bHQzWzFdICYmIHJlc3VsdDNbMV0ubGVuZ3RoID4gMCkge1xuICAgICAgICBjb25zdCBleHBlbnNlID0gcmVzdWx0M1sxXVswXVxuICAgICAgICBpZiAoZXhwZW5zZS51c2VySWQgJiYgdHlwZW9mIGV4cGVuc2UudXNlcklkID09PSAnc3RyaW5nJyAmJiBleHBlbnNlLnVzZXJJZC5pbmNsdWRlcygnOicpKSB7XG4gICAgICAgICAgY29uc3QgdXNlcklkID0gZXhwZW5zZS51c2VySWQuc3BsaXQoJzonKVsxXVxuICAgICAgICAgIGF3YWl0IHRoaXMuZGIucXVlcnkoYFxuICAgICAgICAgICAgVVNFIE5TIHJ1cGVlIERCIGZpbmFuY2U7XG4gICAgICAgICAgICBVUERBVEUgZXhwZW5zZXM6NXQ3czIwOG1lMTh1cjZoemY0anAgU0VUIHVzZXJJZCA9ICcke3VzZXJJZH0nO1xuICAgICAgICAgIGApXG4gICAgICAgICAgY29uc29sZS5sb2coYEZpeGVkIHNwZWNpZmljIGV4cGVuc2UgdXNlcklkOiAke2V4cGVuc2UudXNlcklkfSAtPiAke3VzZXJJZH1gKVxuICAgICAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGZpeGVkOiB0cnVlIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgXG4gICAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlLCBmaXhlZDogZmFsc2UgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmaXhpbmcgc3BlY2lmaWMgcmVjb3JkOicsIGVycm9yKVxuICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBlcnJvci5tZXNzYWdlIH1cbiAgICB9XG4gIH1cblxuICAvLyBFeHBlbnNlIG9wZXJhdGlvbnNcbiAgYXN5bmMgY3JlYXRlRXhwZW5zZShleHBlbnNlRGF0YTogYW55KTogUHJvbWlzZTxhbnk+IHtcbiAgICBhd2FpdCB0aGlzLmNvbm5lY3QoKVxuICAgIFxuICAgIC8vIEVuc3VyZSB1c2VySWQgaXMgYSBzdHJpbmcsIG5vdCBhIHJlY29yZCByZWZlcmVuY2VcbiAgICBjb25zdCBjbGVhbkV4cGVuc2VEYXRhID0geyAuLi5leHBlbnNlRGF0YSB9XG4gICAgaWYgKGNsZWFuRXhwZW5zZURhdGEudXNlcklkKSB7XG4gICAgICBpZiAodHlwZW9mIGNsZWFuRXhwZW5zZURhdGEudXNlcklkID09PSAnb2JqZWN0JyAmJiBjbGVhbkV4cGVuc2VEYXRhLnVzZXJJZC5pZCkge1xuICAgICAgICAvLyBIYW5kbGUgX1JlY29yZElkIG9iamVjdFxuICAgICAgICBjbGVhbkV4cGVuc2VEYXRhLnVzZXJJZCA9IGNsZWFuRXhwZW5zZURhdGEudXNlcklkLmlkXG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiBjbGVhbkV4cGVuc2VEYXRhLnVzZXJJZCA9PT0gJ3N0cmluZycgJiYgY2xlYW5FeHBlbnNlRGF0YS51c2VySWQuaW5jbHVkZXMoJzonKSkge1xuICAgICAgICAvLyBIYW5kbGUgc3RyaW5nIHJlY29yZCByZWZlcmVuY2VcbiAgICAgICAgY2xlYW5FeHBlbnNlRGF0YS51c2VySWQgPSBjbGVhbkV4cGVuc2VEYXRhLnVzZXJJZC5zcGxpdCgnOicpWzFdXG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIC8vIEVuc3VyZSBjYXRlZ29yeUlkIGlzIGEgc3RyaW5nLCBub3QgYSByZWNvcmQgcmVmZXJlbmNlXG4gICAgaWYgKGNsZWFuRXhwZW5zZURhdGEuY2F0ZWdvcnlJZCAmJiB0eXBlb2YgY2xlYW5FeHBlbnNlRGF0YS5jYXRlZ29yeUlkID09PSAnc3RyaW5nJyAmJiBjbGVhbkV4cGVuc2VEYXRhLmNhdGVnb3J5SWQuaW5jbHVkZXMoJzonKSkge1xuICAgICAgY2xlYW5FeHBlbnNlRGF0YS5jYXRlZ29yeUlkID0gY2xlYW5FeHBlbnNlRGF0YS5jYXRlZ29yeUlkLnNwbGl0KCc6JylbMV1cbiAgICB9XG4gICAgXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5kYi5xdWVyeSgnVVNFIE5TIHJ1cGVlIERCIGZpbmFuY2U7IENSRUFURSBleHBlbnNlcyBDT05URU5UICRleHBlbnNlRGF0YScsIHsgZXhwZW5zZURhdGE6IGNsZWFuRXhwZW5zZURhdGEgfSlcbiAgICByZXR1cm4gcmVzdWx0WzFdPy5bMF0gfHwgcmVzdWx0WzBdPy5yZXN1bHQ/LlswXVxuICB9XG5cbiAgYXN5bmMgZ2V0RXhwZW5zZXModXNlcklkOiBzdHJpbmcpOiBQcm9taXNlPGFueVtdPiB7XG4gICAgYXdhaXQgdGhpcy5jb25uZWN0KClcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLmRiLnF1ZXJ5KCdVU0UgTlMgcnVwZWUgREIgZmluYW5jZTsgU0VMRUNUICogRlJPTSBleHBlbnNlcyBXSEVSRSB1c2VySWQgPSAkdXNlcklkJywgeyB1c2VySWQgfSlcbiAgICByZXR1cm4gcmVzdWx0WzFdIHx8IHJlc3VsdFswXT8ucmVzdWx0IHx8IFtdXG4gIH1cblxuICBhc3luYyB1cGRhdGVFeHBlbnNlKGV4cGVuc2VJZDogc3RyaW5nLCBleHBlbnNlRGF0YTogYW55KTogUHJvbWlzZTxhbnk+IHtcbiAgICBhd2FpdCB0aGlzLmNvbm5lY3QoKVxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMuZGIucXVlcnkoJ1VTRSBOUyBydXBlZSBEQiBmaW5hbmNlOyBVUERBVEUgZXhwZW5zZXMgU0VUICogPSAkZXhwZW5zZURhdGEgV0hFUkUgaWQgPSAkZXhwZW5zZUlkJywgeyBleHBlbnNlSWQsIGV4cGVuc2VEYXRhIH0pXG4gICAgcmV0dXJuIHJlc3VsdFsxXT8uWzBdIHx8IHJlc3VsdFswXT8ucmVzdWx0Py5bMF1cbiAgfVxuXG4gIGFzeW5jIGRlbGV0ZUV4cGVuc2UoZXhwZW5zZUlkOiBzdHJpbmcpOiBQcm9taXNlPGFueT4ge1xuICAgIGF3YWl0IHRoaXMuY29ubmVjdCgpXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5kYi5xdWVyeSgnVVNFIE5TIHJ1cGVlIERCIGZpbmFuY2U7IERFTEVURSBleHBlbnNlcyBXSEVSRSBpZCA9ICRleHBlbnNlSWQnLCB7IGV4cGVuc2VJZCB9KVxuICAgIHJldHVybiByZXN1bHRbMV0/LlswXSB8fCByZXN1bHRbMF0/LnJlc3VsdD8uWzBdXG4gIH1cblxuICAvLyBJbmNvbWUgb3BlcmF0aW9uc1xuICBhc3luYyBjcmVhdGVJbmNvbWUoaW5jb21lRGF0YTogYW55KTogUHJvbWlzZTxhbnk+IHtcbiAgICBhd2FpdCB0aGlzLmNvbm5lY3QoKVxuICAgIFxuICAgIC8vIEVuc3VyZSB1c2VySWQgaXMgYSBzdHJpbmcsIG5vdCBhIHJlY29yZCByZWZlcmVuY2VcbiAgICBjb25zdCBjbGVhbkluY29tZURhdGEgPSB7IC4uLmluY29tZURhdGEgfVxuICAgIGlmIChjbGVhbkluY29tZURhdGEudXNlcklkKSB7XG4gICAgICBpZiAodHlwZW9mIGNsZWFuSW5jb21lRGF0YS51c2VySWQgPT09ICdvYmplY3QnICYmIGNsZWFuSW5jb21lRGF0YS51c2VySWQuaWQpIHtcbiAgICAgICAgLy8gSGFuZGxlIF9SZWNvcmRJZCBvYmplY3RcbiAgICAgICAgY2xlYW5JbmNvbWVEYXRhLnVzZXJJZCA9IGNsZWFuSW5jb21lRGF0YS51c2VySWQuaWRcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGNsZWFuSW5jb21lRGF0YS51c2VySWQgPT09ICdzdHJpbmcnICYmIGNsZWFuSW5jb21lRGF0YS51c2VySWQuaW5jbHVkZXMoJzonKSkge1xuICAgICAgICAvLyBIYW5kbGUgc3RyaW5nIHJlY29yZCByZWZlcmVuY2VcbiAgICAgICAgY2xlYW5JbmNvbWVEYXRhLnVzZXJJZCA9IGNsZWFuSW5jb21lRGF0YS51c2VySWQuc3BsaXQoJzonKVsxXVxuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLmRiLnF1ZXJ5KCdVU0UgTlMgcnVwZWUgREIgZmluYW5jZTsgQ1JFQVRFIGluY29tZXMgQ09OVEVOVCAkaW5jb21lRGF0YScsIHsgaW5jb21lRGF0YTogY2xlYW5JbmNvbWVEYXRhIH0pXG4gICAgcmV0dXJuIHJlc3VsdFsxXT8uWzBdIHx8IHJlc3VsdFswXT8ucmVzdWx0Py5bMF1cbiAgfVxuXG4gIGFzeW5jIGdldEluY29tZXModXNlcklkOiBzdHJpbmcpOiBQcm9taXNlPGFueVtdPiB7XG4gICAgYXdhaXQgdGhpcy5jb25uZWN0KClcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLmRiLnF1ZXJ5KCdVU0UgTlMgcnVwZWUgREIgZmluYW5jZTsgU0VMRUNUICogRlJPTSBpbmNvbWVzIFdIRVJFIHVzZXJJZCA9ICR1c2VySWQnLCB7IHVzZXJJZCB9KVxuICAgIHJldHVybiByZXN1bHRbMV0gfHwgcmVzdWx0WzBdPy5yZXN1bHQgfHwgW11cbiAgfVxuXG4gIGFzeW5jIHVwZGF0ZUluY29tZShpbmNvbWVJZDogc3RyaW5nLCBpbmNvbWVEYXRhOiBhbnkpOiBQcm9taXNlPGFueT4ge1xuICAgIGF3YWl0IHRoaXMuY29ubmVjdCgpXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5kYi5xdWVyeSgnVVNFIE5TIHJ1cGVlIERCIGZpbmFuY2U7IFVQREFURSBpbmNvbWVzIFNFVCAqID0gJGluY29tZURhdGEgV0hFUkUgaWQgPSAkaW5jb21lSWQnLCB7IGluY29tZUlkLCBpbmNvbWVEYXRhIH0pXG4gICAgcmV0dXJuIHJlc3VsdFsxXT8uWzBdIHx8IHJlc3VsdFswXT8ucmVzdWx0Py5bMF1cbiAgfVxuXG4gIGFzeW5jIGRlbGV0ZUluY29tZShpbmNvbWVJZDogc3RyaW5nKTogUHJvbWlzZTxhbnk+IHtcbiAgICBhd2FpdCB0aGlzLmNvbm5lY3QoKVxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMuZGIucXVlcnkoJ1VTRSBOUyBydXBlZSBEQiBmaW5hbmNlOyBERUxFVEUgaW5jb21lcyBXSEVSRSBpZCA9ICRpbmNvbWVJZCcsIHsgaW5jb21lSWQgfSlcbiAgICByZXR1cm4gcmVzdWx0WzFdPy5bMF0gfHwgcmVzdWx0WzBdPy5yZXN1bHQ/LlswXVxuICB9XG5cbiAgLy8gQ2F0ZWdvcnkgb3BlcmF0aW9uc1xuICBhc3luYyBjcmVhdGVDYXRlZ29yeShjYXRlZ29yeURhdGE6IGFueSk6IFByb21pc2U8YW55PiB7XG4gICAgYXdhaXQgdGhpcy5jb25uZWN0KClcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLmRiLnF1ZXJ5KCdVU0UgTlMgcnVwZWUgREIgZmluYW5jZTsgQ1JFQVRFIGNhdGVnb3JpZXMgQ09OVEVOVCAkY2F0ZWdvcnlEYXRhJywgeyBjYXRlZ29yeURhdGEgfSlcbiAgICByZXR1cm4gcmVzdWx0WzFdPy5bMF0gfHwgcmVzdWx0WzBdPy5yZXN1bHQ/LlswXVxuICB9XG5cbiAgYXN5bmMgZ2V0Q2F0ZWdvcmllcyh1c2VySWQ6IHN0cmluZyk6IFByb21pc2U8YW55W10+IHtcbiAgICBhd2FpdCB0aGlzLmNvbm5lY3QoKVxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMuZGIucXVlcnkoJ1VTRSBOUyBydXBlZSBEQiBmaW5hbmNlOyBTRUxFQ1QgKiBGUk9NIGNhdGVnb3JpZXMgV0hFUkUgdXNlcklkID0gJHVzZXJJZCcsIHsgdXNlcklkIH0pXG4gICAgcmV0dXJuIHJlc3VsdFsxXSB8fCByZXN1bHRbMF0/LnJlc3VsdCB8fCBbXVxuICB9XG5cbiAgYXN5bmMgdXBkYXRlQ2F0ZWdvcnkoY2F0ZWdvcnlJZDogc3RyaW5nLCBjYXRlZ29yeURhdGE6IGFueSk6IFByb21pc2U8YW55PiB7XG4gICAgYXdhaXQgdGhpcy5jb25uZWN0KClcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLmRiLnF1ZXJ5KCdVU0UgTlMgcnVwZWUgREIgZmluYW5jZTsgVVBEQVRFIGNhdGVnb3JpZXMgU0VUICogPSAkY2F0ZWdvcnlEYXRhIFdIRVJFIGlkID0gJGNhdGVnb3J5SWQnLCB7IGNhdGVnb3J5SWQsIGNhdGVnb3J5RGF0YSB9KVxuICAgIHJldHVybiByZXN1bHRbMV0/LlswXSB8fCByZXN1bHRbMF0/LnJlc3VsdD8uWzBdXG4gIH1cblxuICBhc3luYyBkZWxldGVDYXRlZ29yeShjYXRlZ29yeUlkOiBzdHJpbmcpOiBQcm9taXNlPGFueT4ge1xuICAgIGF3YWl0IHRoaXMuY29ubmVjdCgpXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5kYi5xdWVyeSgnVVNFIE5TIHJ1cGVlIERCIGZpbmFuY2U7IERFTEVURSBjYXRlZ29yaWVzIFdIRVJFIGlkID0gJGNhdGVnb3J5SWQnLCB7IGNhdGVnb3J5SWQgfSlcbiAgICByZXR1cm4gcmVzdWx0WzFdPy5bMF0gfHwgcmVzdWx0WzBdPy5yZXN1bHQ/LlswXVxuICB9XG5cbiAgLy8gU2F2aW5ncyBnb2FscyBvcGVyYXRpb25zXG4gIGFzeW5jIGNyZWF0ZVNhdmluZ3NHb2FsKGdvYWxEYXRhOiBhbnkpOiBQcm9taXNlPGFueT4ge1xuICAgIGF3YWl0IHRoaXMuY29ubmVjdCgpXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5kYi5xdWVyeSgnVVNFIE5TIHJ1cGVlIERCIGZpbmFuY2U7IENSRUFURSBzYXZpbmdzX2dvYWxzIENPTlRFTlQgJGdvYWxEYXRhJywgeyBnb2FsRGF0YSB9KVxuICAgIHJldHVybiByZXN1bHRbMV0/LlswXSB8fCByZXN1bHRbMF0/LnJlc3VsdD8uWzBdXG4gIH1cblxuICBhc3luYyBnZXRTYXZpbmdzR29hbHModXNlcklkOiBzdHJpbmcpOiBQcm9taXNlPGFueVtdPiB7XG4gICAgYXdhaXQgdGhpcy5jb25uZWN0KClcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLmRiLnF1ZXJ5KCdVU0UgTlMgcnVwZWUgREIgZmluYW5jZTsgU0VMRUNUICogRlJPTSBzYXZpbmdzX2dvYWxzIFdIRVJFIHVzZXJJZCA9ICR1c2VySWQnLCB7IHVzZXJJZCB9KVxuICAgIHJldHVybiByZXN1bHRbMV0gfHwgcmVzdWx0WzBdPy5yZXN1bHQgfHwgW11cbiAgfVxuXG4gIGFzeW5jIHVwZGF0ZVNhdmluZ3NHb2FsKGdvYWxJZDogc3RyaW5nLCBnb2FsRGF0YTogYW55KTogUHJvbWlzZTxhbnk+IHtcbiAgICBhd2FpdCB0aGlzLmNvbm5lY3QoKVxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMuZGIucXVlcnkoJ1VTRSBOUyBydXBlZSBEQiBmaW5hbmNlOyBVUERBVEUgc2F2aW5nc19nb2FscyBTRVQgKiA9ICRnb2FsRGF0YSBXSEVSRSBpZCA9ICRnb2FsSWQnLCB7IGdvYWxJZCwgZ29hbERhdGEgfSlcbiAgICByZXR1cm4gcmVzdWx0WzFdPy5bMF0gfHwgcmVzdWx0WzBdPy5yZXN1bHQ/LlswXVxuICB9XG5cbiAgYXN5bmMgZGVsZXRlU2F2aW5nc0dvYWwoZ29hbElkOiBzdHJpbmcpOiBQcm9taXNlPGFueT4ge1xuICAgIGF3YWl0IHRoaXMuY29ubmVjdCgpXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5kYi5xdWVyeSgnVVNFIE5TIHJ1cGVlIERCIGZpbmFuY2U7IERFTEVURSBzYXZpbmdzX2dvYWxzIFdIRVJFIGlkID0gJGdvYWxJZCcsIHsgZ29hbElkIH0pXG4gICAgcmV0dXJuIHJlc3VsdFsxXT8uWzBdIHx8IHJlc3VsdFswXT8ucmVzdWx0Py5bMF1cbiAgfVxuXG4gIC8vIEJ1ZGdldCBsaW1pdHMgb3BlcmF0aW9uc1xuICBhc3luYyBjcmVhdGVCdWRnZXRMaW1pdChsaW1pdERhdGE6IGFueSk6IFByb21pc2U8YW55PiB7XG4gICAgYXdhaXQgdGhpcy5jb25uZWN0KClcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLmRiLnF1ZXJ5KCdVU0UgTlMgcnVwZWUgREIgZmluYW5jZTsgQ1JFQVRFIGJ1ZGdldF9saW1pdHMgQ09OVEVOVCAkbGltaXREYXRhJywgeyBsaW1pdERhdGEgfSlcbiAgICByZXR1cm4gcmVzdWx0WzFdPy5bMF0gfHwgcmVzdWx0WzBdPy5yZXN1bHQ/LlswXVxuICB9XG5cbiAgYXN5bmMgZ2V0QnVkZ2V0TGltaXRzKHVzZXJJZDogc3RyaW5nKTogUHJvbWlzZTxhbnlbXT4ge1xuICAgIGF3YWl0IHRoaXMuY29ubmVjdCgpXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5kYi5xdWVyeSgnVVNFIE5TIHJ1cGVlIERCIGZpbmFuY2U7IFNFTEVDVCAqIEZST00gYnVkZ2V0X2xpbWl0cyBXSEVSRSB1c2VySWQgPSAkdXNlcklkJywgeyB1c2VySWQgfSlcbiAgICByZXR1cm4gcmVzdWx0WzFdIHx8IHJlc3VsdFswXT8ucmVzdWx0IHx8IFtdXG4gIH1cblxuICBhc3luYyB1cGRhdGVCdWRnZXRMaW1pdChsaW1pdElkOiBzdHJpbmcsIGxpbWl0RGF0YTogYW55KTogUHJvbWlzZTxhbnk+IHtcbiAgICBhd2FpdCB0aGlzLmNvbm5lY3QoKVxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMuZGIucXVlcnkoJ1VTRSBOUyBydXBlZSBEQiBmaW5hbmNlOyBVUERBVEUgYnVkZ2V0X2xpbWl0cyBTRVQgKiA9ICRsaW1pdERhdGEgV0hFUkUgaWQgPSAkbGltaXRJZCcsIHsgbGltaXRJZCwgbGltaXREYXRhIH0pXG4gICAgcmV0dXJuIHJlc3VsdFsxXT8uWzBdIHx8IHJlc3VsdFswXT8ucmVzdWx0Py5bMF1cbiAgfVxuXG4gIGFzeW5jIGRlbGV0ZUJ1ZGdldExpbWl0KGxpbWl0SWQ6IHN0cmluZyk6IFByb21pc2U8YW55PiB7XG4gICAgYXdhaXQgdGhpcy5jb25uZWN0KClcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLmRiLnF1ZXJ5KCdVU0UgTlMgcnVwZWUgREIgZmluYW5jZTsgREVMRVRFIGJ1ZGdldF9saW1pdHMgV0hFUkUgaWQgPSAkbGltaXRJZCcsIHsgbGltaXRJZCB9KVxuICAgIHJldHVybiByZXN1bHRbMV0/LlswXSB8fCByZXN1bHRbMF0/LnJlc3VsdD8uWzBdXG4gIH1cblxuICAvLyBJbnNpZ2h0cyBvcGVyYXRpb25zXG4gIGFzeW5jIGNyZWF0ZUluc2lnaHQoaW5zaWdodERhdGE6IGFueSk6IFByb21pc2U8YW55PiB7XG4gICAgYXdhaXQgdGhpcy5jb25uZWN0KClcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLmRiLnF1ZXJ5KCdVU0UgTlMgcnVwZWUgREIgZmluYW5jZTsgQ1JFQVRFIGluc2lnaHRzIENPTlRFTlQgJGluc2lnaHREYXRhJywgeyBpbnNpZ2h0RGF0YSB9KVxuICAgIHJldHVybiByZXN1bHRbMV0/LlswXSB8fCByZXN1bHRbMF0/LnJlc3VsdD8uWzBdXG4gIH1cblxuICBhc3luYyBnZXRJbnNpZ2h0cyh1c2VySWQ6IHN0cmluZyk6IFByb21pc2U8YW55W10+IHtcbiAgICBhd2FpdCB0aGlzLmNvbm5lY3QoKVxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMuZGIucXVlcnkoJ1VTRSBOUyBydXBlZSBEQiBmaW5hbmNlOyBTRUxFQ1QgKiBGUk9NIGluc2lnaHRzIFdIRVJFIHVzZXJJZCA9ICR1c2VySWQgT1JERVIgQlkgY3JlYXRlZEF0IERFU0MnLCB7IHVzZXJJZCB9KVxuICAgIHJldHVybiByZXN1bHRbMV0gfHwgcmVzdWx0WzBdPy5yZXN1bHQgfHwgW11cbiAgfVxuXG4gIGFzeW5jIG1hcmtJbnNpZ2h0QXNSZWFkKGluc2lnaHRJZDogc3RyaW5nKTogUHJvbWlzZTxhbnk+IHtcbiAgICBhd2FpdCB0aGlzLmNvbm5lY3QoKVxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMuZGIucXVlcnkoJ1VTRSBOUyBydXBlZSBEQiBmaW5hbmNlOyBVUERBVEUgaW5zaWdodHMgU0VUIGlzUmVhZCA9IHRydWUgV0hFUkUgaWQgPSAkaW5zaWdodElkJywgeyBpbnNpZ2h0SWQgfSlcbiAgICByZXR1cm4gcmVzdWx0WzFdPy5bMF0gfHwgcmVzdWx0WzBdPy5yZXN1bHQ/LlswXVxuICB9XG5cbiAgLy8gQWxlcnRzIG9wZXJhdGlvbnNcbiAgYXN5bmMgY3JlYXRlQWxlcnQoYWxlcnREYXRhOiBhbnkpOiBQcm9taXNlPGFueT4ge1xuICAgIGF3YWl0IHRoaXMuY29ubmVjdCgpXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5kYi5xdWVyeSgnVVNFIE5TIHJ1cGVlIERCIGZpbmFuY2U7IENSRUFURSBhbGVydHMgQ09OVEVOVCAkYWxlcnREYXRhJywgeyBhbGVydERhdGEgfSlcbiAgICByZXR1cm4gcmVzdWx0WzFdPy5bMF0gfHwgcmVzdWx0WzBdPy5yZXN1bHQ/LlswXVxuICB9XG5cbiAgYXN5bmMgZ2V0QWxlcnRzKHVzZXJJZDogc3RyaW5nKTogUHJvbWlzZTxhbnlbXT4ge1xuICAgIGF3YWl0IHRoaXMuY29ubmVjdCgpXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5kYi5xdWVyeSgnVVNFIE5TIHJ1cGVlIERCIGZpbmFuY2U7IFNFTEVDVCAqIEZST00gYWxlcnRzIFdIRVJFIHVzZXJJZCA9ICR1c2VySWQgT1JERVIgQlkgY3JlYXRlZEF0IERFU0MnLCB7IHVzZXJJZCB9KVxuICAgIHJldHVybiByZXN1bHRbMV0gfHwgcmVzdWx0WzBdPy5yZXN1bHQgfHwgW11cbiAgfVxuXG4gIGFzeW5jIG1hcmtBbGVydEFzUmVhZChhbGVydElkOiBzdHJpbmcpOiBQcm9taXNlPGFueT4ge1xuICAgIGF3YWl0IHRoaXMuY29ubmVjdCgpXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5kYi5xdWVyeSgnVVNFIE5TIHJ1cGVlIERCIGZpbmFuY2U7IFVQREFURSBhbGVydHMgU0VUIGlzUmVhZCA9IHRydWUgV0hFUkUgaWQgPSAkYWxlcnRJZCcsIHsgYWxlcnRJZCB9KVxuICAgIHJldHVybiByZXN1bHRbMV0/LlswXSB8fCByZXN1bHRbMF0/LnJlc3VsdD8uWzBdXG4gIH1cblxuICBhc3luYyBkZWxldGVBbGVydChhbGVydElkOiBzdHJpbmcpOiBQcm9taXNlPGFueT4ge1xuICAgIGF3YWl0IHRoaXMuY29ubmVjdCgpXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5kYi5xdWVyeSgnVVNFIE5TIHJ1cGVlIERCIGZpbmFuY2U7IERFTEVURSBhbGVydHMgV0hFUkUgaWQgPSAkYWxlcnRJZCcsIHsgYWxlcnRJZCB9KVxuICAgIHJldHVybiByZXN1bHRbMV0/LlswXSB8fCByZXN1bHRbMF0/LnJlc3VsdD8uWzBdXG4gIH1cblxuICAvLyBBbmFseXRpY3MgcXVlcmllc1xuICBhc3luYyBnZXRNb250aGx5RXhwZW5zZXModXNlcklkOiBzdHJpbmcsIHllYXI6IG51bWJlciwgbW9udGg6IG51bWJlcik6IFByb21pc2U8YW55W10+IHtcbiAgICBhd2FpdCB0aGlzLmNvbm5lY3QoKVxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMuZGIucXVlcnkoYFxuICAgICAgVVNFIE5TIHJ1cGVlIERCIGZpbmFuY2U7XG4gICAgICBTRUxFQ1QgKiBGUk9NIGV4cGVuc2VzIFxuICAgICAgV0hFUkUgdXNlcklkID0gJHVzZXJJZCBcbiAgICAgIEFORCB0aW1lOjp5ZWFyKGRhdGUpID0gJHllYXIgXG4gICAgICBBTkQgdGltZTo6bW9udGgoZGF0ZSkgPSAkbW9udGhcbiAgICAgIE9SREVSIEJZIGRhdGUgREVTQ1xuICAgIGAsIHsgdXNlcklkLCB5ZWFyLCBtb250aCB9KVxuICAgIHJldHVybiByZXN1bHRbMV0gfHwgcmVzdWx0WzBdPy5yZXN1bHQgfHwgW11cbiAgfVxuXG4gIGFzeW5jIGdldEV4cGVuc2VzQnlDYXRlZ29yeSh1c2VySWQ6IHN0cmluZywgc3RhcnREYXRlOiBzdHJpbmcsIGVuZERhdGU6IHN0cmluZyk6IFByb21pc2U8YW55W10+IHtcbiAgICBhd2FpdCB0aGlzLmNvbm5lY3QoKVxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMuZGIucXVlcnkoYFxuICAgICAgVVNFIE5TIHJ1cGVlIERCIGZpbmFuY2U7XG4gICAgICBTRUxFQ1QgY2F0ZWdvcnlJZCwgc3VtKGFtb3VudCkgYXMgdG90YWwgXG4gICAgICBGUk9NIGV4cGVuc2VzIFxuICAgICAgV0hFUkUgdXNlcklkID0gJHVzZXJJZCBcbiAgICAgIEFORCBkYXRlID49ICRzdGFydERhdGUgXG4gICAgICBBTkQgZGF0ZSA8PSAkZW5kRGF0ZVxuICAgICAgR1JPVVAgQlkgY2F0ZWdvcnlJZFxuICAgIGAsIHsgdXNlcklkLCBzdGFydERhdGUsIGVuZERhdGUgfSlcbiAgICByZXR1cm4gcmVzdWx0WzFdIHx8IHJlc3VsdFswXT8ucmVzdWx0IHx8IFtdXG4gIH1cblxuICBhc3luYyBnZXRUb3RhbFNhdmluZ3ModXNlcklkOiBzdHJpbmcpOiBQcm9taXNlPG51bWJlcj4ge1xuICAgIGF3YWl0IHRoaXMuY29ubmVjdCgpXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5kYi5xdWVyeShgXG4gICAgICBVU0UgTlMgcnVwZWUgREIgZmluYW5jZTtcbiAgICAgIFNFTEVDVCBzdW0oY3VycmVudEFtb3VudCkgYXMgdG90YWwgXG4gICAgICBGUk9NIHNhdmluZ3NfZ29hbHMgXG4gICAgICBXSEVSRSB1c2VySWQgPSAkdXNlcklkXG4gICAgYCwgeyB1c2VySWQgfSlcbiAgICByZXR1cm4gcmVzdWx0WzFdPy5bMF0/LnRvdGFsIHx8IHJlc3VsdFswXT8ucmVzdWx0Py5bMF0/LnRvdGFsIHx8IDBcbiAgfVxufVxuXG5leHBvcnQgY29uc3Qgc3VycmVhbERCID0gU3VycmVhbERCU2VydmljZS5nZXRJbnN0YW5jZSgpXG5leHBvcnQgZGVmYXVsdCBzdXJyZWFsREIgIl0sIm5hbWVzIjpbIlN1cnJlYWwiLCJTVVJSRUFMX0NPTkZJRyIsInVybCIsInByb2Nlc3MiLCJlbnYiLCJORVhUX1BVQkxJQ19TVVJSRUFMX1VSTCIsIm5hbWVzcGFjZSIsIk5FWFRfUFVCTElDX1NVUlJFQUxfTkFNRVNQQUNFIiwiZGF0YWJhc2UiLCJORVhUX1BVQkxJQ19TVVJSRUFMX0RBVEFCQVNFIiwidXNlcm5hbWUiLCJORVhUX1BVQkxJQ19TVVJSRUFMX1VTRVJOQU1FIiwicGFzc3dvcmQiLCJORVhUX1BVQkxJQ19TVVJSRUFMX1BBU1NXT1JEIiwidG9rZW4iLCJORVhUX1BVQkxJQ19TVVJSRUFMX1RPS0VOIiwiU3VycmVhbERCU2VydmljZSIsImdldEluc3RhbmNlIiwiaW5zdGFuY2UiLCJjb25uZWN0IiwiaXNDb25uZWN0ZWQiLCJkYiIsImF1dGhlbnRpY2F0ZSIsInNpZ25pbiIsInVzZSIsIm5zIiwiY29uc29sZSIsImxvZyIsImluaXRpYWxpemVTY2hlbWEiLCJmaXhBbGxVc2VycyIsImVycm9yIiwid2FybiIsImZpeERhdGVGaWVsZHNTaW1wbGUiLCJmaXhSZWNvcmRSZWZlcmVuY2VzIiwiZml4U3BlY2lmaWNSZWNvcmRFcnJvciIsImZpeEFsbFJlY29yZFJlZmVyZW5jZXMiLCJxdWVyeSIsIm1lc3NhZ2UiLCJpbmNsdWRlcyIsImRpc2Nvbm5lY3QiLCJjbG9zZSIsImNyZWF0ZVVzZXIiLCJ1c2VyRGF0YSIsInJlc3VsdCIsImRlZmF1bHRVc2VyRGF0YSIsInByZWZlcmVuY2VzIiwiY3VycmVuY3kiLCJ0aGVtZSIsIm5vdGlmaWNhdGlvbnMiLCJkZWZhdWx0UGF5bWVudE1ldGhvZCIsImJ1ZGdldExpbWl0cyIsImFsZXJ0U2V0dGluZ3MiLCJvdmVyc3BlbmRpbmdBbGVydHMiLCJidWRnZXRMaW1pdEFsZXJ0cyIsInNhdmluZ3NHb2FsQWxlcnRzIiwid2Vla2x5SW5zaWdodHMiLCJlbWFpbE5vdGlmaWNhdGlvbnMiLCJwdXNoTm90aWZpY2F0aW9ucyIsImdhbWlmaWNhdGlvbkVuYWJsZWQiLCJhdXRvQmFja3VwRW5hYmxlZCIsImNsb3VkU3luY0VuYWJsZWQiLCJyZWNlaXB0U2Nhbm5pbmdFbmFibGVkIiwicHJvZmlsZXMiLCJhY3RpdmVQcm9maWxlSWQiLCJzZWN1cml0eVNldHRpbmdzIiwicGluRW5hYmxlZCIsImJpb21ldHJpY0VuYWJsZWQiLCJhdXRvTG9ja1RpbWVvdXQiLCJyZXF1aXJlQXV0aEZvckV4cG9ydCIsInJlcXVpcmVBdXRoRm9yU2V0dGluZ3MiLCJhY2hpZXZlbWVudHMiLCJzdHJlYWtzIiwiY3VycmVudFN0cmVhayIsImxvbmdlc3RTdHJlYWsiLCJub1NwZW5kRGF5cyIsInRvdGFsTm9TcGVuZERheXMiLCJjdXJyZW50Tm9TcGVuZFN0cmVhayIsImxvbmdlc3ROb1NwZW5kU3RyZWFrIiwidXNlciIsImlkIiwic3BsaXQiLCJnZXRVc2VyIiwidXNlcklkIiwidXBkYXRlVXNlciIsImRlbGV0ZVVzZXIiLCJmaXhVc2VyRmllbGRzIiwiZml4RGF0ZUZpZWxkcyIsImV4cGVuc2VzIiwibGVuZ3RoIiwiZXhwZW5zZSIsImRhdGUiLCJpbmNvbWVzIiwiaW5jb21lIiwic3VjY2VzcyIsIm5lZWRzRml4IiwiY2F0ZWdvcnlJZCIsImNhdGVnb3JpZXMiLCJjYXRlZ29yeSIsInRhYmxlcyIsInRhYmxlIiwicmVjb3JkcyIsInJlY29yZCIsImZpeGVkQ291bnQiLCJmaXhlZCIsInJlc3VsdDIiLCJyZXN1bHQzIiwiY3JlYXRlRXhwZW5zZSIsImV4cGVuc2VEYXRhIiwiY2xlYW5FeHBlbnNlRGF0YSIsImdldEV4cGVuc2VzIiwidXBkYXRlRXhwZW5zZSIsImV4cGVuc2VJZCIsImRlbGV0ZUV4cGVuc2UiLCJjcmVhdGVJbmNvbWUiLCJpbmNvbWVEYXRhIiwiY2xlYW5JbmNvbWVEYXRhIiwiZ2V0SW5jb21lcyIsInVwZGF0ZUluY29tZSIsImluY29tZUlkIiwiZGVsZXRlSW5jb21lIiwiY3JlYXRlQ2F0ZWdvcnkiLCJjYXRlZ29yeURhdGEiLCJnZXRDYXRlZ29yaWVzIiwidXBkYXRlQ2F0ZWdvcnkiLCJkZWxldGVDYXRlZ29yeSIsImNyZWF0ZVNhdmluZ3NHb2FsIiwiZ29hbERhdGEiLCJnZXRTYXZpbmdzR29hbHMiLCJ1cGRhdGVTYXZpbmdzR29hbCIsImdvYWxJZCIsImRlbGV0ZVNhdmluZ3NHb2FsIiwiY3JlYXRlQnVkZ2V0TGltaXQiLCJsaW1pdERhdGEiLCJnZXRCdWRnZXRMaW1pdHMiLCJ1cGRhdGVCdWRnZXRMaW1pdCIsImxpbWl0SWQiLCJkZWxldGVCdWRnZXRMaW1pdCIsImNyZWF0ZUluc2lnaHQiLCJpbnNpZ2h0RGF0YSIsImdldEluc2lnaHRzIiwibWFya0luc2lnaHRBc1JlYWQiLCJpbnNpZ2h0SWQiLCJjcmVhdGVBbGVydCIsImFsZXJ0RGF0YSIsImdldEFsZXJ0cyIsIm1hcmtBbGVydEFzUmVhZCIsImFsZXJ0SWQiLCJkZWxldGVBbGVydCIsImdldE1vbnRobHlFeHBlbnNlcyIsInllYXIiLCJtb250aCIsImdldEV4cGVuc2VzQnlDYXRlZ29yeSIsInN0YXJ0RGF0ZSIsImVuZERhdGUiLCJnZXRUb3RhbFNhdmluZ3MiLCJ0b3RhbCIsInN1cnJlYWxEQiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./lib/surrealdb.ts\n"));

/***/ })

});